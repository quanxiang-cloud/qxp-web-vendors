System.register(["react","react-dom","@one-for-all/artery-utils","@one-for-all/utils"],(function(t){"use strict";var e,n,r,i,o,a,u,s,c,l,f,d,h,p,v,g,y,_,m,b,w,x,S;return{setters:[function(t){e=t.useMemo,n=t.useCallback,r=t.useLayoutEffect,i=t.useEffect,o=t.useRef,a=t.default,u=t.useState,s=t.createContext,c=t.memo,l=t.useReducer,f=t.useContext,d=t.cloneElement,h=t.forwardRef},function(t){p=t.unstable_batchedUpdates,v=t.createPortal,g=t.default},function(t){y=t._flat,_=t._insertChildAt,m=t._insertRightSiblingTo,b=t.ancestors,w=t.patchNode,x=t.deleteByID},function(t){S=t.logger}],execute:function(){var E=32,I=31,D={};function O(t){t&&(t.value=!0)}function z(){}function C(t){return void 0===t.size&&(t.size=t.__iterate(M)),t.size}function R(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?C(t)+e:e}function M(){return!0}function A(t,e,n){return(0===t&&!T(t)||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function k(t,e){return j(t,e,0)}function N(t,e){return j(t,e,e)}function j(t,e,n){return void 0===t?n:T(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function T(t){return t<0||0===t&&1/t==-1/0}var q="@@__IMMUTABLE_ITERABLE__@@";function L(t){return Boolean(t&&t[q])}var B="@@__IMMUTABLE_KEYED__@@";function P(t){return Boolean(t&&t[B])}var U="@@__IMMUTABLE_INDEXED__@@";function K(t){return Boolean(t&&t[U])}function W(t){return P(t)||K(t)}var F=function(t){return L(t)?t:dt(t)},Y=function(t){function e(t){return P(t)?t:ht(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(F),X=function(t){function e(t){return K(t)?t:pt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(F),J=function(t){function e(t){return L(t)&&!W(t)?t:vt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(F);F.Keyed=Y,F.Indexed=X,F.Set=J;var H="@@__IMMUTABLE_SEQ__@@";function $(t){return Boolean(t&&t[H])}function V(t){return Boolean(t&&t["@@__IMMUTABLE_RECORD__@@"])}function G(t){return L(t)||V(t)}var Z="@@__IMMUTABLE_ORDERED__@@";function Q(t){return Boolean(t&&t[Z])}var tt="function"==typeof Symbol&&Symbol.iterator,et="@@iterator",nt=tt||et,rt=function(t){this.next=t};function it(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function ot(){return{value:void 0,done:!0}}function at(t){return!!Array.isArray(t)||!!ct(t)}function ut(t){return t&&"function"==typeof t.next}function st(t){var e=ct(t);return e&&e.call(t)}function ct(t){var e=t&&(tt&&t[tt]||t["@@iterator"]);if("function"==typeof e)return e}rt.prototype.toString=function(){return"[Iterator]"},rt.KEYS=0,rt.VALUES=1,rt.ENTRIES=2,rt.prototype.inspect=rt.prototype.toSource=function(){return this.toString()},rt.prototype[nt]=function(){return this};var lt=Object.prototype.hasOwnProperty;function ft(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var dt=function(t){function e(t){return null==t?bt():G(t)?t.toSeq():function(t){var e=St(t);if(e)return(r=ct(n=t))&&r===n.entries?e.fromEntrySeq():function(t){var e=ct(t);return e&&e===t.keys}(t)?e.toSetSeq():e;var n,r;if("object"==typeof t)return new yt(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var o=n[e?r-++i:i++];if(!1===t(o[1],o[0],this))break}return i}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var n=this._cache;if(n){var r=n.length,i=0;return new rt((function(){if(i===r)return{value:void 0,done:!0};var o=n[e?r-++i:i++];return it(t,o[0],o[1])}))}return this.__iteratorUncached(t,e)},e}(F),ht=function(t){function e(t){return null==t?bt().toKeyedSeq():L(t)?P(t)?t.toSeq():t.fromEntrySeq():V(t)?t.toSeq():wt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(dt),pt=function(t){function e(t){return null==t?bt():L(t)?P(t)?t.entrySeq():t.toIndexedSeq():V(t)?t.toSeq().entrySeq():xt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(dt),vt=function(t){function e(t){return(L(t)&&!W(t)?t:pt(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(dt);dt.isSeq=$,dt.Keyed=ht,dt.Set=vt,dt.Indexed=pt,dt.prototype[H]=!0;var gt=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[R(this,t)]:e},e.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length,i=0;i!==r;){var o=e?r-++i:i++;if(!1===t(n[o],o,this))break}return i},e.prototype.__iterator=function(t,e){var n=this._array,r=n.length,i=0;return new rt((function(){if(i===r)return{value:void 0,done:!0};var o=e?r-++i:i++;return it(t,o,n[o])}))},e}(pt),yt=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return lt.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length,o=0;o!==i;){var a=r[e?i-++o:o++];if(!1===t(n[a],a,this))break}return o},e.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length,o=0;return new rt((function(){if(o===i)return{value:void 0,done:!0};var a=r[e?i-++o:o++];return it(t,a,n[a])}))},e}(ht);yt.prototype[Z]=!0;var _t,mt=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=st(this._collection),r=0;if(ut(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=st(this._collection);if(!ut(n))return new rt(ot);var r=0;return new rt((function(){var e=n.next();return e.done?e:it(t,r++,e.value)}))},e}(pt);function bt(){return _t||(_t=new gt([]))}function wt(t){var e=St(t);if(e)return e.fromEntrySeq();if("object"==typeof t)return new yt(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function xt(t){var e=St(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function St(t){return ft(t)?new gt(t):at(t)?new mt(t):void 0}var Et="@@__IMMUTABLE_MAP__@@";function It(t){return Boolean(t&&t[Et])}function Dt(t){return It(t)&&Q(t)}function Ot(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function zt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(Ot(t)&&Ot(e)&&t.equals(e))}var Ct="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Rt(t){return t>>>1&1073741824|3221225471&t}var Mt=Object.prototype.valueOf;function At(t){if(null==t)return kt(t);if("function"==typeof t.hashCode)return Rt(t.hashCode(t));var e,n=(e=t).valueOf!==Mt&&"function"==typeof e.valueOf?e.valueOf(e):e;if(null==n)return kt(n);switch(typeof n){case"boolean":return n?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return Rt(e)}(n);case"string":return n.length>Wt?function(t){var e=Xt[t];void 0===e&&(e=Nt(t),Yt===Ft&&(Yt=0,Xt={}),Yt++,Xt[t]=e);return e}(n):Nt(n);case"object":case"function":return function(t){var e;if(Bt&&void 0!==(e=Lt.get(t)))return e;if(void 0!==(e=t[Kt]))return e;if(!Tt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Kt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=qt(),Bt)Lt.set(t,e);else{if(void 0!==jt&&!1===jt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Tt)Object.defineProperty(t,Kt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Kt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Kt]=e}}return e}(n);case"symbol":return function(t){var e=Pt[t];if(void 0!==e)return e;return e=qt(),Pt[t]=e,e}(n);default:if("function"==typeof n.toString)return Nt(n.toString());throw new Error("Value type "+typeof n+" cannot be hashed.")}}function kt(t){return null===t?1108378658:1108378659}function Nt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Rt(e)}var jt=Object.isExtensible,Tt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function qt(){var t=++Ut;return 1073741824&Ut&&(Ut=0),t}var Lt,Bt="function"==typeof WeakMap;Bt&&(Lt=new WeakMap);var Pt=Object.create(null),Ut=0,Kt="__immutablehash__";"function"==typeof Symbol&&(Kt=Symbol(Kt));var Wt=16,Ft=255,Yt=0,Xt={},Jt=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Qt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var n=this,r=Zt(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e,r){return t(e,r,n)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(ht);Jt.prototype[Z]=!0;var Ht=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this,r=0;return e&&C(this),this._iter.__iterate((function(i){return t(i,e?n.size-++r:r++,n)}),e)},e.prototype.__iterator=function(t,e){var n=this,r=this._iter.__iterator(1,e),i=0;return e&&C(this),new rt((function(){var o=r.next();return o.done?o:it(t,e?n.size-++i:i++,o.value,o)}))},e}(pt),$t=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new rt((function(){var e=n.next();return e.done?e:it(t,e.value,e.value,e)}))},e}(vt),Vt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){le(e);var r=L(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new rt((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){le(r);var i=L(r);return it(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},e}(ht);function Gt(t){var e=de(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=he,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new rt((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Zt(t,e,n){var r=de(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,D);return o===D?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(2,i);return new rt((function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return it(r,u,e.call(n,a[1],u,t),i)}))},r}function Qt(t,e){var n=this,r=de(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=Gt(t);return e.reverse=function(){return t.flip()},e}),r.get=function(n,r){return t.get(e?n:-1-n,r)},r.has=function(n){return t.has(e?n:-1-n)},r.includes=function(e){return t.includes(e)},r.cacheResult=he,r.__iterate=function(n,r){var i=this,o=0;return r&&C(t),t.__iterate((function(t,a){return n(t,e?a:r?i.size-++o:o++,i)}),!r)},r.__iterator=function(r,i){var o=0;i&&C(t);var a=t.__iterator(2,!i);return new rt((function(){var t=a.next();if(t.done)return t;var u=t.value;return it(r,e?u[0]:i?n.size-++o:o++,u[1],t)}))},r}function te(t,e,n,r){var i=de(t);return r&&(i.has=function(r){var i=t.get(r,D);return i!==D&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,D);return o!==D&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return t.__iterate((function(t,o,s){if(e.call(n,t,o,s))return u++,i(t,r?o:u-1,a)}),o),u},i.__iteratorUncached=function(i,o){var a=t.__iterator(2,o),u=0;return new rt((function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value,c=s[0],l=s[1];if(e.call(n,l,c,t))return it(i,r?c:u++,l,o)}}))},i}function ee(t,e,n,r){var i=t.size;if(A(e,n,i))return t;var o=k(e,i),a=N(n,i);if(o!=o||a!=a)return ee(t.toSeq().cacheResult(),e,n,r);var u,s=a-o;s==s&&(u=s<0?0:s);var c=de(t);return c.size=0===u?u:t.size&&u||void 0,!r&&$(t)&&u>=0&&(c.get=function(e,n){return(e=R(this,e))>=0&&e<u?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,s=!0,c=0;return t.__iterate((function(t,n){if(!s||!(s=a++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==u})),c},c.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);if(0===u)return new rt(ot);var i=t.__iterator(e,n),a=0,s=0;return new rt((function(){for(;a++<o;)i.next();if(++s>u)return{value:void 0,done:!0};var t=i.next();return r||1===e||t.done?t:it(e,s-1,0===e?void 0:t.value[1],t)}))},c}function ne(t,e,n,r){var i=de(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,s=0;return t.__iterate((function(t,o,c){if(!u||!(u=e.call(n,t,o,c)))return s++,i(t,r?o:s-1,a)})),s},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(2,o),s=!0,c=0;return new rt((function(){var t,o,l;do{if((t=u.next()).done)return r||1===i?t:it(i,c++,0===i?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],s&&(s=e.call(n,l,o,a))}while(s);return 2===i?t:it(i,o,l,t)}))},i}function re(t,e){var n=P(t),r=[t].concat(e).map((function(t){return L(t)?n&&(t=Y(t)):t=n?wt(t):xt(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===r.length)return t;if(1===r.length){var i=r[0];if(i===t||n&&P(i)||K(t)&&K(i))return i}var o=new gt(r);return n?o=o.toKeyedSeq():K(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),o}function ie(t,e,n){var r=de(t);return r.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,u=!1;return function t(s,c){s.__iterate((function(o,s){return(!e||c<e)&&L(o)?t(o,c+1):(a++,!1===i(o,n?s:a-1,r)&&(u=!0)),!u}),o)}(t,0),a},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var o=t.__iterator(r,i),a=[],u=0;return new rt((function(){for(;o;){var t=o.next();if(!1===t.done){var s=t.value;if(2===r&&(s=s[1]),e&&!(a.length<e)||!L(s))return n?t:it(r,u++,s,t);a.push(o),o=s.__iterator(r,i)}else o=a.pop()}return{value:void 0,done:!0}}))},r}function oe(t,e,n){e||(e=pe);var r=P(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).valueSeq().toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?ht(o):K(t)?pt(o):vt(o)}function ae(t,e,n){if(e||(e=pe),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return ue(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return ue(e,t,n)?n:t}))}function ue(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function se(t,e,n,r){var i=de(t),o=new gt(n).map((function(t){return t.size}));return i.size=r?o.max():o.min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map((function(t){return t=F(t),st(i?t.reverse():t)})),a=0,u=!1;return new rt((function(){var n;return u||(n=o.map((function(t){return t.next()})),u=r?n.every((function(t){return t.done})):n.some((function(t){return t.done}))),u?{value:void 0,done:!0}:it(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function ce(t,e){return t===e?t:$(t)?e:t.constructor(e)}function le(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function fe(t){return P(t)?Y:K(t)?X:J}function de(t){return Object.create((P(t)?ht:K(t)?pt:vt).prototype)}function he(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):dt.prototype.cacheResult.call(this)}function pe(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function ve(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function ge(t,e){if(!t)throw new Error(e)}function ye(t){ge(t!==1/0,"Cannot perform this action with an infinite size.")}function _e(t){if(ft(t)&&"string"!=typeof t)return t;if(Q(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}Ht.prototype.cacheResult=Jt.prototype.cacheResult=$t.prototype.cacheResult=Vt.prototype.cacheResult=he;var me=Object.prototype.toString;function be(t){if(!t||"object"!=typeof t||"[object Object]"!==me.call(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e,r=Object.getPrototypeOf(e);null!==r;)n=r,r=Object.getPrototypeOf(n);return n===e}function we(t){return"object"==typeof t&&(G(t)||Array.isArray(t)||be(t))}function xe(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function Se(t,e,n){return G(t)?t.get(e,n):function(t,e){return G(t)?t.has(e):we(t)&&lt.call(t,e)}(t,e)?"function"==typeof t.get?t.get(e):t[e]:n}function Ee(t){if(Array.isArray(t))return ve(t);var e={};for(var n in t)lt.call(t,n)&&(e[n]=t[n]);return e}function Ie(t,e,n,r){r||(r=n,n=void 0);var i=De(G(t),t,_e(e),0,n,r);return i===D?n:i}function De(t,e,n,r,i,o){var a=e===D;if(r===n.length){var u=a?i:e,s=o(u);return s===u?e:s}if(!a&&!we(e))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(xe)+"]: "+e);var c=n[r],l=a?D:Se(e,c,D),f=De(l===D?t:G(l),l,n,r+1,i,o);return f===l?e:f===D?function(t,e){if(!we(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(G(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!lt.call(t,e))return t;var n=Ee(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}(e,c):function(t,e,n){if(!we(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(G(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(lt.call(t,e)&&n===t[e])return t;var r=Ee(t);return r[e]=n,r}(a?t?tn():{}:e,c,f)}function Oe(t,e){return function(t,e,n){return Ie(t,e,D,(function(){return n}))}(this,t,e)}function ze(t,e){return Ie(t,e,(function(){return D}))}function Ce(t){return ze(this,t)}function Re(t,e,n,r){return Ie(t,[e],n,r)}function Me(t,e,n){return 1===arguments.length?t(this):Re(this,t,e,n)}function Ae(t,e,n){return Ie(this,t,e,n)}function ke(t,e,n){for(var r=[],i=0;i<e.length;i++){var o=Y(e[i]);0!==o.size&&r.push(o)}return 0===r.length?t:0!==t.toSeq().size||t.__ownerID||1!==r.length?t.withMutations((function(t){for(var e=n?function(e,r){Re(t,r,D,(function(t){return t===D?e:n(t,e,r)}))}:function(e,n){t.set(n,e)},i=0;i<r.length;i++)r[i].forEach(e)})):t.constructor(r[0])}function Ne(t,e,n){return je(t,e,function(t){function e(n,r,i){return we(n)&&we(r)&&(o=r,a=dt(n),u=dt(o),K(a)===K(u)&&P(a)===P(u))?je(n,[r],e):t?t(n,r,i):r;var o,a,u}return e}(n))}function je(t,e,n){if(!we(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(G(t))return"function"==typeof n&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,o=r?X:Y,a=r?function(e){i===t&&(i=Ee(i)),i.push(e)}:function(e,r){var o=lt.call(i,r),a=o&&n?n(i[r],e,r):e;o&&a===i[r]||(i===t&&(i=Ee(i)),i[r]=a)},u=0;u<e.length;u++)o(e[u]).forEach(a);return i}function Te(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Ie(this,t,tn(),(function(t){return je(t,e)}))}function qe(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Ie(this,t,tn(),(function(t){return Ne(t,e)}))}function Le(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Be(){return this.__ownerID?this:this.__ensureOwner(new z)}function Pe(){return this.__ensureOwner()}function Ue(){return this.__altered}var Ke=function(t){function e(e){return null==e?tn():It(e)&&!Q(e)?e:tn().withMutations((function(n){var r=t(e);ye(r.size),r.forEach((function(t,e){return n.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return tn().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return en(this,t,e)},e.prototype.remove=function(t){return en(this,t,D)},e.prototype.deleteAll=function(t){var e=F(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):tn()},e.prototype.sort=function(t){return On(oe(this,t))},e.prototype.sortBy=function(t,e){return On(oe(this,e,t))},e.prototype.map=function(t,e){var n=this;return this.withMutations((function(r){r.forEach((function(i,o){r.set(o,t.call(e,i,o,n))}))}))},e.prototype.__iterator=function(t,e){return new Ve(this,t,e)},e.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qe(this.size,this._root,t,this.__hash):0===this.size?tn():(this.__ownerID=t,this.__altered=!1,this)},e}(Y);Ke.isMap=It;var We=Ke.prototype;We[Et]=!0,We.delete=We.remove,We.removeAll=We.deleteAll,We.setIn=Oe,We.removeIn=We.deleteIn=Ce,We.update=Me,We.updateIn=Ae,We.merge=We.concat=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ke(this,t)},We.mergeWith=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return ke(this,e,t)},We.mergeDeep=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ne(this,t)},We.mergeDeepWith=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Ne(this,e,t)},We.mergeIn=Te,We.mergeDeepIn=qe,We.withMutations=Le,We.wasAltered=Ue,We.asImmutable=Pe,We["@@transducer/init"]=We.asMutable=Be,We["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},We["@@transducer/result"]=function(t){return t.asImmutable()};var Fe=function(t,e){this.ownerID=t,this.entries=e};Fe.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(zt(n,i[o][0]))return i[o][1];return r},Fe.prototype.update=function(t,e,n,r,i,o,a){for(var u=i===D,s=this.entries,c=0,l=s.length;c<l&&!zt(r,s[c][0]);c++);var f=c<l;if(f?s[c][1]===i:u)return this;if(O(a),(u||!f)&&O(o),!u||1!==s.length){if(!f&&!u&&s.length>=sn)return function(t,e,n,r){t||(t=new z);for(var i=new He(t,At(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,s,r,i);var d=t&&t===this.ownerID,h=d?s:ve(s);return f?u?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Fe(t,h)}};var Ye=function(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n};Ye.prototype.get=function(t,e,n,r){void 0===e&&(e=At(n));var i=1<<((0===t?e:e>>>t)&I),o=this.bitmap;return 0==(o&i)?r:this.nodes[an(o&i-1)].get(t+5,e,n,r)},Ye.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=At(r));var u=(0===e?n:n>>>e)&I,s=1<<u,c=this.bitmap,l=0!=(c&s);if(!l&&i===D)return this;var f=an(c&s-1),d=this.nodes,h=l?d[f]:void 0,p=nn(h,t,e+5,n,r,i,o,a);if(p===h)return this;if(!l&&p&&d.length>=cn)return function(t,e,n,r,i){for(var o=0,a=new Array(E),u=0;0!==n;u++,n>>>=1)a[u]=1&n?e[o++]:void 0;return a[r]=i,new Xe(t,o+1,a)}(t,d,c,u,p);if(l&&!p&&2===d.length&&rn(d[1^f]))return d[1^f];if(l&&p&&1===d.length&&rn(p))return p;var v=t&&t===this.ownerID,g=l?p?c:c^s:c|s,y=l?p?un(d,f,p,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}(d,f,v):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,u=0;u<i;u++)u===e?(o[u]=n,a=-1):o[u]=t[u+a];return o}(d,f,p,v);return v?(this.bitmap=g,this.nodes=y,this):new Ye(t,g,y)};var Xe=function(t,e,n){this.ownerID=t,this.count=e,this.nodes=n};Xe.prototype.get=function(t,e,n,r){void 0===e&&(e=At(n));var i=(0===t?e:e>>>t)&I,o=this.nodes[i];return o?o.get(t+5,e,n,r):r},Xe.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=At(r));var u=(0===e?n:n>>>e)&I,s=i===D,c=this.nodes,l=c[u];if(s&&!l)return this;var f=nn(l,t,e+5,n,r,i,o,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<ln)return function(t,e,n,r){for(var i=0,o=0,a=new Array(n),u=0,s=1,c=e.length;u<c;u++,s<<=1){var l=e[u];void 0!==l&&u!==r&&(i|=s,a[o++]=l)}return new Ye(t,i,a)}(t,c,d,u)}else d++;var h=t&&t===this.ownerID,p=un(c,u,f,h);return h?(this.count=d,this.nodes=p,this):new Xe(t,d,p)};var Je=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n};Je.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(zt(n,i[o][0]))return i[o][1];return r},Je.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=At(r));var u=i===D;if(n!==this.keyHash)return u?this:(O(a),O(o),on(this,t,e,n,[r,i]));for(var s=this.entries,c=0,l=s.length;c<l&&!zt(r,s[c][0]);c++);var f=c<l;if(f?s[c][1]===i:u)return this;if(O(a),(u||!f)&&O(o),u&&2===l)return new He(t,this.keyHash,s[1^c]);var d=t&&t===this.ownerID,h=d?s:ve(s);return f?u?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Je(t,this.keyHash,h)};var He=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n};He.prototype.get=function(t,e,n,r){return zt(n,this.entry[0])?this.entry[1]:r},He.prototype.update=function(t,e,n,r,i,o,a){var u=i===D,s=zt(r,this.entry[0]);return(s?i===this.entry[1]:u)?this:(O(a),u?void O(o):s?t&&t===this.ownerID?(this.entry[1]=i,this):new He(t,this.keyHash,[r,i]):(O(o),on(this,t,e,At(r),[r,i])))},Fe.prototype.iterate=Je.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Ye.prototype.iterate=Xe.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},He.prototype.iterate=function(t,e){return t(this.entry)};var $e,Ve=function(t){function e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Ze(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n=e.node,r=e.index++,i=void 0;if(n.entry){if(0===r)return Ge(t,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return Ge(t,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var o=n.nodes[this._reverse?i-r:r];if(o){if(o.entry)return Ge(t,o.entry);e=this._stack=Ze(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(rt);function Ge(t,e){return it(t,e[0],e[1])}function Ze(t,e){return{node:t,index:0,__prev:e}}function Qe(t,e,n,r){var i=Object.create(We);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function tn(){return $e||($e=Qe(0))}function en(t,e,n){var r,i;if(t._root){var o={value:!1},a={value:!1};if(r=nn(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===D?-1:1:0)}else{if(n===D)return t;i=1,r=new Fe(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Qe(i,r):tn()}function nn(t,e,n,r,i,o,a,u){return t?t.update(e,n,r,i,o,a,u):o===D?t:(O(u),O(a),new He(e,r,[i,o]))}function rn(t){return t.constructor===He||t.constructor===Je}function on(t,e,n,r,i){if(t.keyHash===r)return new Je(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&I,u=(0===n?r:r>>>n)&I,s=a===u?[on(t,e,n+5,r,i)]:(o=new He(e,r,i),a<u?[t,o]:[o,t]);return new Ye(e,1<<a|1<<u,s)}function an(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function un(t,e,n,r){var i=r?t:ve(t);return i[e]=n,i}var sn=8,cn=16,ln=8,fn="@@__IMMUTABLE_LIST__@@";function dn(t){return Boolean(t&&t[fn])}var hn=function(t){function e(e){var n=bn();if(null==e)return n;if(dn(e))return e;var r=t(e),i=r.size;return 0===i?n:(ye(i),i>0&&i<E?mn(0,i,5,null,new vn(r.toArray())):n.withMutations((function(t){t.setSize(i),r.forEach((function(e,n){return t.set(n,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=R(this,t))>=0&&t<this.size){var n=Sn(this,t+=this._origin);return n&&n.array[t&I]}return e},e.prototype.set=function(t,e){return function(t,e,n){if((e=R(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?En(t,e).set(0,n):En(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o={value:!1};e>=In(t._capacity)?r=wn(r,t.__ownerID,0,e,n,o):i=wn(i,t.__ownerID,t._level,e,n,o);if(!o.value)return t;if(t.__ownerID)return t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t;return mn(t._origin,t._capacity,t._level,i,r)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):bn()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){En(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},e.prototype.pop=function(){return En(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){En(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},e.prototype.shift=function(){return En(this,1)},e.prototype.concat=function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++){var i=e[r],o=t("string"!=typeof i&&at(i)?i:[i]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(t){n.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(n[0])},e.prototype.setSize=function(t){return En(this,0,t)},e.prototype.map=function(t,e){var n=this;return this.withMutations((function(r){for(var i=0;i<n.size;i++)r.set(i,t.call(e,r.get(i),i,n))}))},e.prototype.slice=function(t,e){var n=this.size;return A(t,e,n)?this:En(this,k(t,n),N(e,n))},e.prototype.__iterator=function(t,e){var n=e?this.size:0,r=_n(this,e);return new rt((function(){var i=r();return i===yn?{value:void 0,done:!0}:it(t,e?--n:n++,i)}))},e.prototype.__iterate=function(t,e){for(var n,r=e?this.size:0,i=_n(this,e);(n=i())!==yn&&!1!==t(n,e?--r:r++,this););return r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?mn(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?bn():(this.__ownerID=t,this.__altered=!1,this)},e}(X);hn.isList=dn;var pn=hn.prototype;pn[fn]=!0,pn.delete=pn.remove,pn.merge=pn.concat,pn.setIn=Oe,pn.deleteIn=pn.removeIn=Ce,pn.update=Me,pn.updateIn=Ae,pn.mergeIn=Te,pn.mergeDeepIn=qe,pn.withMutations=Le,pn.wasAltered=Ue,pn.asImmutable=Pe,pn["@@transducer/init"]=pn.asMutable=Be,pn["@@transducer/step"]=function(t,e){return t.push(e)},pn["@@transducer/result"]=function(t){return t.asImmutable()};var vn=function(t,e){this.array=t,this.ownerID=e};vn.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&I;if(r>=this.array.length)return new vn([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-5,n))===a&&o)return this}if(o&&!i)return this;var u=xn(this,t);if(!o)for(var s=0;s<r;s++)u.array[s]=void 0;return i&&(u.array[r]=i),u},vn.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&I;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-5,n))===o&&i===this.array.length-1)return this}var a=xn(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var gn,yn={};function _n(t,e){var n=t._origin,r=t._capacity,i=In(r),o=t._tail;return a(t._root,t._level,0);function a(t,u,s){return 0===u?function(t,a){var u=a===i?o&&o.array:t&&t.array,s=a>n?0:n-a,c=r-a;c>E&&(c=E);return function(){if(s===c)return yn;var t=e?--c:s++;return u&&u[t]}}(t,s):function(t,i,o){var u,s=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);l>E&&(l=E);return function(){for(;;){if(u){var t=u();if(t!==yn)return t;u=null}if(c===l)return yn;var n=e?--l:c++;u=a(s&&s[n],i-5,o+(n<<i))}}}(t,u,s)}}function mn(t,e,n,r,i,o,a){var u=Object.create(pn);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function bn(){return gn||(gn=mn(0,0,5))}function wn(t,e,n,r,i,o){var a,u=r>>>n&I,s=t&&u<t.array.length;if(!s&&void 0===i)return t;if(n>0){var c=t&&t.array[u],l=wn(c,e,n-5,r,i,o);return l===c?t:((a=xn(t,e)).array[u]=l,a)}return s&&t.array[u]===i?t:(o&&O(o),a=xn(t,e),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function xn(t,e){return e&&t&&e===t.ownerID?t:new vn(t?t.array.slice():[],e)}function Sn(t,e){if(e>=In(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&I],r-=5;return n}}function En(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new z,i=t._origin,o=t._capacity,a=i+e,u=void 0===n?o:n<0?o+n:i+n;if(a===i&&u===o)return t;if(a>=u)return t.clear();for(var s=t._level,c=t._root,l=0;a+l<0;)c=new vn(c&&c.array.length?[void 0,c]:[],r),l+=1<<(s+=5);l&&(a+=l,i+=l,u+=l,o+=l);for(var f=In(o),d=In(u);d>=1<<s+5;)c=new vn(c&&c.array.length?[c]:[],r),s+=5;var h=t._tail,p=d<f?Sn(t,u-1):d>f?new vn([],r):h;if(h&&d>f&&a<o&&h.array.length){for(var v=c=xn(c,r),g=s;g>5;g-=5){var y=f>>>g&I;v=v.array[y]=xn(v.array[y],r)}v.array[f>>>5&I]=h}if(u<o&&(p=p&&p.removeAfter(r,0,u)),a>=d)a-=d,u-=d,s=5,c=null,p=p&&p.removeBefore(r,0,a);else if(a>i||d<f){for(l=0;c;){var _=a>>>s&I;if(_!==d>>>s&I)break;_&&(l+=(1<<s)*_),s-=5,c=c.array[_]}c&&a>i&&(c=c.removeBefore(r,s,a-l)),c&&d<f&&(c=c.removeAfter(r,s,d-l)),l&&(a-=l,u-=l)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=s,t._root=c,t._tail=p,t.__hash=void 0,t.__altered=!0,t):mn(a,u,s,c,p)}function In(t){return t<E?0:t-1>>>5<<5}var Dn,On=function(t){function e(t){return null==t?Cn():Dt(t)?t:Cn().withMutations((function(e){var n=Y(t);ye(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Cn()},e.prototype.set=function(t,e){return Rn(this,t,e)},e.prototype.remove=function(t){return Rn(this,t,D)},e.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?zn(e,n,t,this.__hash):0===this.size?Cn():(this.__ownerID=t,this.__altered=!1,this._map=e,this._list=n,this)},e}(Ke);function zn(t,e,n,r){var i=Object.create(On.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Cn(){return Dn||(Dn=zn(tn(),bn()))}function Rn(t,e,n){var r,i,o=t._map,a=t._list,u=o.get(e),s=void 0!==u;if(n===D){if(!s)return t;a.size>=E&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(s){if(n===a.get(u)[1])return t;r=o,i=a.set(u,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t.__altered=!0,t):zn(r,i)}On.isOrderedMap=Dt,On.prototype[Z]=!0,On.prototype.delete=On.prototype.remove;var Mn="@@__IMMUTABLE_STACK__@@";function An(t){return Boolean(t&&t[Mn])}var kn=function(t){function e(t){return null==t?qn():An(t)?t:qn().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var n=this._head;for(t=R(this,t);n&&t--;)n=n.next;return n?n.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:t[r],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Tn(e,n)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&An(e))return e;ye(e.size);var n=this.size,r=this._head;return e.__iterate((function(t){n++,r={value:t,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):Tn(n,r)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):qn()},e.prototype.slice=function(e,n){if(A(e,n,this.size))return this;var r=k(e,this.size);if(N(n,this.size)!==this.size)return t.prototype.slice.call(this,e,n);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Tn(i,o)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Tn(this.size,this._head,t,this.__hash):0===this.size?qn():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var n=this;if(e)return new gt(this.toArray()).__iterate((function(e,r){return t(e,r,n)}),e);for(var r=0,i=this._head;i&&!1!==t(i.value,r++,this);)i=i.next;return r},e.prototype.__iterator=function(t,e){if(e)return new gt(this.toArray()).__iterator(t,e);var n=0,r=this._head;return new rt((function(){if(r){var e=r.value;return r=r.next,it(t,n++,e)}return{value:void 0,done:!0}}))},e}(X);kn.isStack=An;var Nn,jn=kn.prototype;function Tn(t,e,n,r){var i=Object.create(jn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function qn(){return Nn||(Nn=Tn(0))}jn[Mn]=!0,jn.shift=jn.pop,jn.unshift=jn.push,jn.unshiftAll=jn.pushAll,jn.withMutations=Le,jn.wasAltered=Ue,jn.asImmutable=Pe,jn["@@transducer/init"]=jn.asMutable=Be,jn["@@transducer/step"]=function(t,e){return t.unshift(e)},jn["@@transducer/result"]=function(t){return t.asImmutable()};var Ln="@@__IMMUTABLE_SET__@@";function Bn(t){return Boolean(t&&t[Ln])}function Pn(t){return Bn(t)&&Q(t)}function Un(t,e){if(t===e)return!0;if(!L(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||P(t)!==P(e)||K(t)!==K(e)||Q(t)!==Q(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!W(t);if(Q(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&zt(i[1],t)&&(n||zt(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var a=!0,u=e.__iterate((function(e,r){if(n?!t.has(e):i?!zt(e,t.get(r,D)):!zt(t.get(r,D),e))return a=!1,!1}));return a&&t.size===u}function Kn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Wn(t){if(!t||"object"!=typeof t)return t;if(!L(t)){if(!we(t))return t;t=dt(t)}if(P(t)){var e={};return t.__iterate((function(t,n){e[n]=Wn(t)})),e}var n=[];return t.__iterate((function(t){n.push(Wn(t))})),n}var Fn=function(t){function e(e){return null==e?$n():Bn(e)&&!Q(e)?e:$n().withMutations((function(n){var r=t(e);ye(r.size),r.forEach((function(t){return n.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(Y(t).keySeq())},e.intersect=function(t){return(t=F(t).toArray()).length?Xn.intersect.apply(e(t.pop()),t):$n()},e.union=function(t){return(t=F(t).toArray()).length?Xn.union.apply(e(t.pop()),t):$n()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Jn(this,this._map.set(t,t))},e.prototype.remove=function(t){return Jn(this,this._map.remove(t))},e.prototype.clear=function(){return Jn(this,this._map.clear())},e.prototype.map=function(t,e){var n=this,r=!1,i=Jn(this,this._map.mapEntries((function(i){var o=i[1],a=t.call(e,o,o,n);return a!==o&&(r=!0),[a,a]}),e));return r?i:this},e.prototype.union=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(n){for(var r=0;r<e.length;r++)t(e[r]).forEach((function(t){return n.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var r=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||r.push(t)})),this.withMutations((function(t){r.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var r=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&r.push(t)})),this.withMutations((function(t){r.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return dr(oe(this,t))},e.prototype.sortBy=function(t,e){return dr(oe(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(J);Fn.isSet=Bn;var Yn,Xn=Fn.prototype;function Jn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Hn(t,e){var n=Object.create(Xn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function $n(){return Yn||(Yn=Hn(tn()))}Xn[Ln]=!0,Xn.delete=Xn.remove,Xn.merge=Xn.concat=Xn.union,Xn.withMutations=Le,Xn.asImmutable=Pe,Xn["@@transducer/init"]=Xn.asMutable=Be,Xn["@@transducer/step"]=function(t,e){return t.add(e)},Xn["@@transducer/result"]=function(t){return t.asImmutable()},Xn.__empty=$n,Xn.__make=Hn;var Vn,Gn=function(t){function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);if(ge(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<t&&(r=-r),this._start=t,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-t)/r-1)+1),0===this.size){if(Vn)return Vn;Vn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+R(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,n){return A(t,n,this.size)?this:(t=k(t,this.size),(n=N(n,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(n,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var n=this.size,r=this._step,i=e?this._start+(n-1)*r:this._start,o=0;o!==n&&!1!==t(i,e?n-++o:o++,this);)i+=e?-r:r;return o},e.prototype.__iterator=function(t,e){var n=this.size,r=this._step,i=e?this._start+(n-1)*r:this._start,o=0;return new rt((function(){if(o===n)return{value:void 0,done:!0};var a=i;return i+=e?-r:r,it(t,e?n-++o:o++,a)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:Un(this,t)},e}(pt);function Zn(t,e,n){for(var r=_e(e),i=0;i!==r.length;)if((t=Se(t,r[i++],D))===D)return n;return t}function Qn(){ye(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t}F.isIterable=L,F.isKeyed=P,F.isIndexed=K,F.isAssociative=W,F.isOrdered=Q,F.Iterator=rt,Kn(F,{toArray:function(){ye(this.size);var t=new Array(this.size||0),e=P(this),n=0;return this.__iterate((function(r,i){t[n++]=e?[i,r]:r})),t},toIndexedSeq:function(){return new Ht(this)},toJS:function(){return Wn(this)},toKeyedSeq:function(){return new Jt(this,!0)},toMap:function(){return Ke(this.toKeyedSeq())},toObject:Qn,toOrderedMap:function(){return On(this.toKeyedSeq())},toOrderedSet:function(){return dr(P(this)?this.valueSeq():this)},toSet:function(){return Fn(P(this)?this.valueSeq():this)},toSetSeq:function(){return new $t(this)},toSeq:function(){return K(this)?this.toIndexedSeq():P(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return kn(P(this)?this.valueSeq():this)},toList:function(){return hn(P(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ce(this,re(this,t))},includes:function(t){return this.some((function(e){return zt(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){ye(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return ce(this,te(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return ye(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ye(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return ce(this,Zt(this,t,e))},reduce:function(t,e,n){return ir(this,t,e,n,arguments.length<2,!1)},reduceRight:function(t,e,n){return ir(this,t,e,n,arguments.length<2,!0)},reverse:function(){return ce(this,Qt(this,!0))},slice:function(t,e){return ce(this,ee(this,t,e,!0))},some:function(t,e){return!this.every(ur(t),e)},sort:function(t){return ce(this,oe(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return C(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Ke().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return Un(this,t)},entrySeq:function(){var t=this;if(t._cache)return new gt(t._cache);var e=t.toSeq().map(ar).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(ur(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(M,null,t)},flatMap:function(t,e){return ce(this,function(t,e,n){var r=fe(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return ce(this,ie(this,t,!0))},fromEntrySeq:function(){return new Vt(this)},get:function(t,e){return this.find((function(e,n){return zt(n,t)}),void 0,e)},getIn:function(t,e){return Zn(this,t,e)},groupBy:function(t,e){return function(t,e,n){var r=P(t),i=(Q(t)?On():Ke()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=fe(t);return i.map((function(e){return ce(t,o(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,D)!==D},hasIn:function(t){return Zn(this,t,D)!==D},isSubset:function(t){return t="function"==typeof t.includes?t:F(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:F(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return zt(e,t)}))},keySeq:function(){return this.toSeq().map(or).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return ae(this,t)},maxBy:function(t,e){return ae(this,e,t)},min:function(t){return ae(this,t?sr(t):lr)},minBy:function(t,e){return ae(this,e?sr(e):lr,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return ce(this,ne(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(ur(t),e)},sortBy:function(t,e){return ce(this,oe(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return ce(this,function(t,e,n){var r=de(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,u){return e.call(n,t,i,u)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(2,i),u=!0;return new rt((function(){if(!u)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,s=i[0],c=i[1];return e.call(n,c,s,o)?2===r?t:it(r,s,c,t):(u=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(ur(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=Q(t),n=P(t),r=e?1:0;return function(t,e){return e=Ct(e,3432918353),e=Ct(e<<15|e>>>-15,461845907),e=Ct(e<<13|e>>>-13,5),e=Ct((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Rt((e=Ct(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+fr(At(t),At(e))|0}:function(t,e){r=r+fr(At(t),At(e))|0}:e?function(t){r=31*r+At(t)|0}:function(t){r=r+At(t)|0}),r)}(this))}});var tr=F.prototype;tr[q]=!0,tr[nt]=tr.values,tr.toJSON=tr.toArray,tr.__toStringMapper=xe,tr.inspect=tr.toSource=function(){return this.toString()},tr.chain=tr.flatMap,tr.contains=tr.includes,Kn(Y,{flip:function(){return ce(this,Gt(this))},mapEntries:function(t,e){var n=this,r=0;return ce(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return ce(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var er=Y.prototype;er[B]=!0,er[nt]=tr.entries,er.toJSON=Qn,er.__toStringMapper=function(t,e){return xe(e)+": "+xe(t)},Kn(X,{toKeyedSeq:function(){return new Jt(this,!1)},filter:function(t,e){return ce(this,te(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return ce(this,Qt(this,!1))},slice:function(t,e){return ce(this,ee(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(e||0,0),0===n||2===n&&!e)return this;t=k(t,t<0?this.count():this.size);var r=this.slice(0,t);return ce(this,1===n?r:r.concat(ve(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return ce(this,ie(this,t,!1))},get:function(t,e){return(t=R(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=R(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return ce(this,function(t,e){var n=de(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(1,r),a=0;return new rt((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?it(n,a++,e):it(n,a++,i.value,i)}))},n}(this,t))},interleave:function(){var t=[this].concat(ve(arguments)),e=se(this.toSeq(),pt.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),ce(this,n)},keySeq:function(){return Gn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return ce(this,ne(this,t,e,!1))},zip:function(){var t=[this].concat(ve(arguments));return ce(this,se(this,cr,t))},zipAll:function(){var t=[this].concat(ve(arguments));return ce(this,se(this,cr,t,!0))},zipWith:function(t){var e=ve(arguments);return e[0]=this,ce(this,se(this,t,e))}});var nr=X.prototype;nr[U]=!0,nr[Z]=!0,Kn(J,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var rr=J.prototype;function ir(t,e,n,r,i,o){return ye(t.size),t.__iterate((function(t,o,a){i?(i=!1,n=t):n=e.call(r,n,t,o,a)}),o),n}function or(t,e){return e}function ar(t,e){return[e,t]}function ur(t){return function(){return!t.apply(this,arguments)}}function sr(t){return function(){return-t.apply(this,arguments)}}function cr(){return ve(arguments)}function lr(t,e){return t<e?1:t>e?-1:0}function fr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}rr.has=tr.includes,rr.contains=rr.includes,rr.keys=rr.values,Kn(ht,er),Kn(pt,nr),Kn(vt,rr);var dr=function(t){function e(t){return null==t?gr():Pn(t)?t:gr().withMutations((function(e){var n=J(t);ye(n.size),n.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(Y(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Fn);dr.isOrderedSet=Pn;var hr,pr=dr.prototype;function vr(t,e){var n=Object.create(pr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function gr(){return hr||(hr=vr(Cn()))}function yr(t,e){return _r([],e||mr,t,"",e&&e.length>2?[]:void 0,{"":t})}function _r(t,e,n,r,i,o){if("string"!=typeof n&&!G(n)&&(ft(n)||at(n)||be(n))){if(~t.indexOf(n))throw new TypeError("Cannot convert circular structure to Immutable");t.push(n),i&&""!==r&&i.push(r);var a=e.call(o,r,dt(n).map((function(r,o){return _r(t,e,r,o,i,n)})),i&&i.slice());return t.pop(),i&&i.pop(),a}return n}function mr(t,e){return K(e)?e.toList():P(e)?e.toMap():e.toSet()}pr[Z]=!0,pr.zip=nr.zip,pr.zipWith=nr.zipWith,pr.zipAll=nr.zipAll,pr.__empty=gr,pr.__make=vr;const br="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function wr(t){const e=Object.prototype.toString.call(t);return"[object Window]"===e||"[object global]"===e}function xr(t){return"nodeType"in t}function Sr(t){var e,n;return t?wr(t)?t:xr(t)&&null!=(e=null==(n=t.ownerDocument)?void 0:n.defaultView)?e:window:window}function Er(t){const{Document:e}=Sr(t);return t instanceof e}function Ir(t){return!wr(t)&&t instanceof Sr(t).HTMLElement}function Dr(t){return t?wr(t)?t.document:xr(t)?Er(t)?t:Ir(t)?t.ownerDocument:document:document:document}const Or=br?r:i;function zr(t){const e=o(t);return Or((()=>{e.current=t})),n((function(...t){return null==e.current?void 0:e.current(...t)}),[])}function Cr(t,e=[t]){const n=o(t);return Or((()=>{n.current!==t&&(n.current=t)}),e),n}function Rr(t,n){const r=o();return e((()=>{const e=t(r.current);return r.current=e,e}),[...n])}function Mr(t){const e=zr(t),r=o(null),i=n((t=>{t!==r.current&&(null==e||e(t,r.current)),r.current=t}),[]);return[r,i]}function Ar(t){const e=o();return i((()=>{e.current=t}),[t]),e.current}let kr={};function Nr(t,n){return e((()=>{if(n)return n;const e=null==kr[t]?0:kr[t]+1;return kr[t]=e,`${t}-${e}`}),[t,n])}function jr(t){return(e,...n)=>n.reduce(((e,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=e[n];null!=r&&(e[n]=r+t*i)}return e}),{...e})}const Tr=jr(1),qr=jr(-1);function Lr(t){if(!t)return!1;const{KeyboardEvent:e}=Sr(t.target);return e&&t instanceof e}function Br(t){if(function(t){if(!t)return!1;const{TouchEvent:e}=Sr(t.target);return e&&t instanceof e}(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return function(t){return"clientX"in t&&"clientY"in t}(t)?{x:t.clientX,y:t.clientY}:null}const Pr=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return`translate3d(${e?Math.round(e):0}px, ${n?Math.round(n):0}px, 0)`}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return`scaleX(${e}) scaleY(${n})`}},Transform:{toString(t){if(t)return[Pr.Translate.toString(t),Pr.Scale.toString(t)].join(" ")}},Transition:{toString:({property:t,duration:e,easing:n})=>`${t} ${e}ms ${n}`}}),Ur="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Kr(t){return t.matches(Ur)?t:t.querySelector(Ur)}const Wr={display:"none"};function Fr(t){let{id:e,value:n}=t;return a.createElement("div",{id:e,style:Wr},n)}const Yr={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function Xr(t){let{id:e,announcement:n}=t;return a.createElement("div",{id:e,style:Yr,role:"status","aria-live":"assertive","aria-atomic":!0},n)}const Jr=s(null);const Hr={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},$r={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Vr(t){let{announcements:r=$r,container:o,hiddenTextDescribedById:s,screenReaderInstructions:c=Hr}=t;const{announce:l,announcement:d}=function(){const[t,e]=u("");return{announce:n((t=>{null!=t&&e(t)}),[]),announcement:t}}(),h=Nr("DndLiveRegion"),[p,g]=u(!1);if(i((()=>{g(!0)}),[]),function(t){const e=f(Jr);i((()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)}),[t,e])}(e((()=>({onDragStart(t){let{active:e}=t;l(r.onDragStart({active:e}))},onDragMove(t){let{active:e,over:n}=t;r.onDragMove&&l(r.onDragMove({active:e,over:n}))},onDragOver(t){let{active:e,over:n}=t;l(r.onDragOver({active:e,over:n}))},onDragEnd(t){let{active:e,over:n}=t;l(r.onDragEnd({active:e,over:n}))},onDragCancel(t){let{active:e,over:n}=t;l(r.onDragCancel({active:e,over:n}))}})),[l,r])),!p)return null;const y=a.createElement(a.Fragment,null,a.createElement(Fr,{id:s,value:c.draggable}),a.createElement(Xr,{id:h,announcement:d}));return o?v(y,o):y}var Gr;function Zr(){}!function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"}(Gr||(Gr={}));const Qr=Object.freeze({x:0,y:0});function ti(t,e){const n=Br(t);if(!n)return"0 0";return(n.x-e.left)/e.width*100+"% "+(n.y-e.top)/e.height*100+"%"}function ei(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function ni(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function ri(t,e,n){return void 0===e&&(e=t.left),void 0===n&&(n=t.top),{x:e+.5*t.width,y:n+.5*t.height}}const ii=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=ri(e,e.left,e.top),o=[];for(const t of r){const{id:e}=t,r=n.get(e);if(r){const n=(a=ri(r),u=i,Math.sqrt(Math.pow(a.x-u.x,2)+Math.pow(a.y-u.y,2)));o.push({id:e,data:{droppableContainer:t,value:n}})}}var a,u;return o.sort(ei)};function oi(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),a=i-r,u=o-n;if(r<i&&n<o){const n=e.width*e.height,r=t.width*t.height,i=a*u;return Number((i/(n+r-i)).toFixed(4))}return 0}const ai=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const t of r){const{id:r}=t,o=n.get(r);if(o){const n=oi(o,e);n>0&&i.push({id:r,data:{droppableContainer:t,value:n}})}}return i.sort(ni)};function ui(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Qr}function si(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((e,n)=>({...e,top:e.top+t*n.y,bottom:e.bottom+t*n.y,left:e.left+t*n.x,right:e.right+t*n.x})),{...e})}}const ci=si(1);function li(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}const fi={ignoreTransform:!1};function di(t,e){void 0===e&&(e=fi);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{getComputedStyle:e}=Sr(t),{transform:r,transformOrigin:i}=e(t);r&&(n=function(t,e,n){const r=li(e);if(!r)return t;const{scaleX:i,scaleY:o,x:a,y:u}=r,s=t.left-a-(1-i)*parseFloat(n),c=t.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),l=i?t.width/i:t.width,f=o?t.height/o:t.height;return{width:l,height:f,top:c,right:s+l,bottom:c+f,left:s}}(n,r,i))}const{top:r,left:i,width:o,height:a,bottom:u,right:s}=n;return{top:r,left:i,width:o,height:a,bottom:u,right:s}}function hi(t){return di(t,{ignoreTransform:!0})}function pi(t,e){const n=[];return t?function r(i){if(null!=e&&n.length>=e)return n;if(!i)return n;if(Er(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Ir(i)||function(t){return t instanceof Sr(t).SVGElement}(i))return n;if(n.includes(i))return n;const{getComputedStyle:o}=Sr(i),a=o(i);return i!==t&&function(t,e){void 0===e&&(e=Sr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((t=>{const r=e[t];return"string"==typeof r&&n.test(r)}))}(i,a)&&n.push(i),function(t,e){return void 0===e&&(e=Sr(t).getComputedStyle(t)),"fixed"===e.position}(i,a)?n:r(i.parentNode)}(t):n}function vi(t){const[e]=pi(t,1);return null!=e?e:null}function gi(t){return br&&t?wr(t)?t:xr(t)?Er(t)||t===Dr(t).scrollingElement?window:Ir(t)?t:null:null:null}function yi(t){return wr(t)?t.scrollX:t.scrollLeft}function _i(t){return wr(t)?t.scrollY:t.scrollTop}function mi(t){return{x:yi(t),y:_i(t)}}var bi;function wi(t){return!(!br||!t)&&t===document.scrollingElement}function xi(t){const e={x:0,y:0},n=wi(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height};return{isTop:t.scrollTop<=e.y,isLeft:t.scrollLeft<=e.x,isBottom:t.scrollTop>=r.y,isRight:t.scrollLeft>=r.x,maxScroll:r,minScroll:e}}!function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"}(bi||(bi={}));const Si={x:.2,y:.2};function Ei(t,e,n,r,i){let{top:o,left:a,right:u,bottom:s}=n;void 0===r&&(r=10),void 0===i&&(i=Si);const{isTop:c,isBottom:l,isLeft:f,isRight:d}=xi(t),h={x:0,y:0},p={x:0,y:0},v=e.height*i.y,g=e.width*i.x;return!c&&o<=e.top+v?(h.y=bi.Backward,p.y=r*Math.abs((e.top+v-o)/v)):!l&&s>=e.bottom-v&&(h.y=bi.Forward,p.y=r*Math.abs((e.bottom-v-s)/v)),!d&&u>=e.right-g?(h.x=bi.Forward,p.x=r*Math.abs((e.right-g-u)/g)):!f&&a<=e.left+g&&(h.x=bi.Backward,p.x=r*Math.abs((e.left+g-a)/g)),{direction:h,speed:p}}function Ii(t){if(t===document.scrollingElement){const{innerWidth:t,innerHeight:e}=window;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Di(t){return t.reduce(((t,e)=>Tr(t,mi(e))),Qr)}function Oi(t,e){if(void 0===e&&(e=di),!t)return;const{top:n,left:r,bottom:i,right:o}=e(t);vi(t)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const zi=[["x",["left","right"],function(t){return t.reduce(((t,e)=>t+yi(e)),0)}],["y",["top","bottom"],function(t){return t.reduce(((t,e)=>t+_i(e)),0)}]];class Ci{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=pi(e),r=Di(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[t,e,i]of zi)for(const o of e)Object.defineProperty(this,o,{get:()=>{const e=i(n),a=r[t]-e;return this.rect[o]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ri{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((t=>{var e;return null==(e=this.target)?void 0:e.removeEventListener(...t)}))},this.target=t}add(t,e,n){var r;null==(r=this.target)||r.addEventListener(t,e,n),this.listeners.push([t,e,n])}}function Mi(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return"number"==typeof e?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e&&r>e.y}var Ai,ki;function Ni(t){t.preventDefault()}function ji(t){t.stopPropagation()}!function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"}(Ai||(Ai={})),function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"}(ki||(ki={}));const Ti={start:[ki.Space,ki.Enter],cancel:[ki.Esc],end:[ki.Space,ki.Enter]},qi=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ki.Right:return{...n,x:n.x+25};case ki.Left:return{...n,x:n.x-25};case ki.Down:return{...n,y:n.y+25};case ki.Up:return{...n,y:n.y-25}}};class Li{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new Ri(Dr(e)),this.windowListeners=new Ri(Sr(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ai.Resize,this.handleCancel),this.windowListeners.add(Ai.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Ai.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:t,onStart:e}=this.props,n=t.node.current;n&&Oi(n),e(Qr)}handleKeyDown(t){if(Lr(t)){const{active:e,context:n,options:r}=this.props,{keyboardCodes:i=Ti,coordinateGetter:o=qi,scrollBehavior:a="smooth"}=r,{code:u}=t;if(i.end.includes(u))return void this.handleEnd(t);if(i.cancel.includes(u))return void this.handleCancel(t);const{collisionRect:s}=n.current,c=s?{x:s.left,y:s.top}:Qr;this.referenceCoordinates||(this.referenceCoordinates=c);const l=o(t,{active:e,context:n.current,currentCoordinates:c});if(l){const e=qr(l,c),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=t.code,{isTop:o,isRight:u,isLeft:s,isBottom:c,maxScroll:f,minScroll:d}=xi(n),h=Ii(n),p={x:Math.min(i===ki.Right?h.right-h.width/2:h.right,Math.max(i===ki.Right?h.left:h.left+h.width/2,l.x)),y:Math.min(i===ki.Down?h.bottom-h.height/2:h.bottom,Math.max(i===ki.Down?h.top:h.top+h.height/2,l.y))},v=i===ki.Right&&!u||i===ki.Left&&!s,g=i===ki.Down&&!c||i===ki.Up&&!o;if(v&&p.x!==l.x){const t=n.scrollLeft+e.x;if((i===ki.Right&&t<=f.x||i===ki.Left&&t>=d.x)&&!e.y)return void n.scrollTo({left:t,behavior:a});r.x=i===ki.Right?n.scrollLeft-f.x:n.scrollLeft-d.x,n.scrollBy({left:-r.x,behavior:a});break}if(g&&p.y!==l.y){const t=n.scrollTop+e.y;if((i===ki.Down&&t<=f.y||i===ki.Up&&t>=d.y)&&!e.x)return void n.scrollTo({top:t,behavior:a});r.y=i===ki.Down?n.scrollTop-f.y:n.scrollTop-d.y,n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(t,Tr(qr(l,this.referenceCoordinates),r))}}}handleMove(t,e){const{onMove:n}=this.props;t.preventDefault(),n(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Bi(t){return Boolean(t&&"distance"in t)}function Pi(t){return Boolean(t&&"delay"in t)}Li.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Ti,onActivation:i}=e,{active:o}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const e=o.activatorNode.current;return(!e||t.target===e)&&(t.preventDefault(),null==i||i({event:t.nativeEvent}),!0)}return!1}}];class Ui{constructor(t,e,n){var r;void 0===n&&(n=function(t){const{EventTarget:e}=Sr(t);return t instanceof e?t:Dr(t)}(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:i}=t,{target:o}=i;this.props=t,this.events=e,this.document=Dr(o),this.documentListeners=new Ri(this.document),this.listeners=new Ri(n),this.windowListeners=new Ri(Sr(o)),this.initialCoordinates=null!=(r=Br(i))?r:Qr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Ai.Resize,this.handleCancel),this.windowListeners.add(Ai.DragStart,Ni),this.windowListeners.add(Ai.VisibilityChange,this.handleCancel),this.windowListeners.add(Ai.ContextMenu,Ni),this.documentListeners.add(Ai.Keydown,this.handleKeydown),e){if(Bi(e))return;if(Pi(e))return void(this.timeoutId=setTimeout(this.handleStart,e.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ai.Click,ji,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ai.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!r)return;const u=null!=(e=Br(t))?e:Qr,s=qr(r,u);if(!n&&a){if(Pi(a))return Mi(s,a.tolerance)?this.handleCancel():void 0;if(Bi(a))return null!=a.tolerance&&Mi(s,a.tolerance)?this.handleCancel():Mi(s,a.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===ki.Esc&&this.handleCancel()}removeTextSelection(){var t;null==(t=this.document.getSelection())||t.removeAllRanges()}}const Ki={move:{name:"pointermove"},end:{name:"pointerup"}};class Wi extends Ui{constructor(t){const{event:e}=t,n=Dr(e.target);super(t,Ki,n)}}Wi.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Fi={move:{name:"mousemove"},end:{name:"mouseup"}};var Yi;!function(t){t[t.RightClick=2]="RightClick"}(Yi||(Yi={}));class Xi extends Ui{constructor(t){super(t,Fi,Dr(t.event.target))}}Xi.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button!==Yi.RightClick&&(null==r||r({event:n}),!0)}}];const Ji={move:{name:"touchmove"},end:{name:"touchend"}};var Hi,$i;function Vi(t){let{acceleration:r,activator:a=Hi.Pointer,canScroll:u,draggingRect:s,enabled:c,interval:l=5,order:f=$i.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:p,delta:v,threshold:g}=t;const y=function(t){let{delta:e,disabled:n}=t;const r=Ar(e);return Rr((t=>{if(n||!r||!t)return Gi;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[bi.Backward]:t.x[bi.Backward]||-1===i.x,[bi.Forward]:t.x[bi.Forward]||1===i.x},y:{[bi.Backward]:t.y[bi.Backward]||-1===i.y,[bi.Forward]:t.y[bi.Forward]||1===i.y}}}),[n,e,r])}({delta:v,disabled:!c}),[_,m]=function(){const t=o(null);return[n(((e,n)=>{t.current=setInterval(e,n)}),[]),n((()=>{null!==t.current&&(clearInterval(t.current),t.current=null)}),[])]}(),b=o({x:0,y:0}),w=o({x:0,y:0}),x=e((()=>{switch(a){case Hi.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Hi.DraggableRect:return s}}),[a,s,d]),S=o(null),E=n((()=>{const t=S.current;if(!t)return;const e=b.current.x*w.current.x,n=b.current.y*w.current.y;t.scrollBy(e,n)}),[]),I=e((()=>f===$i.TreeOrder?[...h].reverse():h),[f,h]);i((()=>{if(c&&h.length&&x){for(const t of I){if(!1===(null==u?void 0:u(t)))continue;const e=h.indexOf(t),n=p[e];if(!n)continue;const{direction:i,speed:o}=Ei(t,n,x,r,g);for(const t of["x","y"])y[t][i[t]]||(o[t]=0,i[t]=0);if(o.x>0||o.y>0)return m(),S.current=t,_(E,l),b.current=o,void(w.current=i)}b.current={x:0,y:0},w.current={x:0,y:0},m()}else m()}),[r,E,u,m,c,l,JSON.stringify(x),JSON.stringify(y),_,h,I,p,JSON.stringify(g)])}(class extends Ui{constructor(t){super(t,Ji)}static setup(){return window.addEventListener(Ji.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ji.move.name,t)};function t(){}}}).activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"}(Hi||(Hi={})),function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"}($i||($i={}));const Gi={x:{[bi.Backward]:!1,[bi.Forward]:!1},y:{[bi.Backward]:!1,[bi.Forward]:!1}};var Zi,Qi;!function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"}(Zi||(Zi={})),function(t){t.Optimized="optimized"}(Qi||(Qi={}));const to=new Map;function eo(t,e){return Rr((n=>t?n||("function"==typeof e?e(t):t):null),[e,t])}function no(t){let{callback:n,disabled:r}=t;const o=zr(n),a=e((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:t}=window;return new t(o)}),[r]);return i((()=>()=>null==a?void 0:a.disconnect()),[a]),a}function ro(t){return new Ci(di(t),t)}function io(t,n,r){void 0===n&&(n=ro);const[o,a]=l((function(e){if(!t)return null;var i;if(!1===t.isConnected)return null!=(i=null!=e?e:r)?i:null;const o=n(t);if(JSON.stringify(e)===JSON.stringify(o))return e;return o}),null),u=function(t){let{callback:n,disabled:r}=t;const o=zr(n),a=e((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:t}=window;return new t(o)}),[o,r]);return i((()=>()=>null==a?void 0:a.disconnect()),[a]),a}({callback(e){if(t)for(const n of e){const{type:e,target:r}=n;if("childList"===e&&r instanceof HTMLElement&&r.contains(t)){a();break}}}}),s=no({callback:a});return Or((()=>{a(),t?(null==s||s.observe(t),null==u||u.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==u||u.disconnect())}),[t]),o}const oo=[];function ao(t,e){void 0===e&&(e=[]);const n=o(null);return i((()=>{n.current=null}),e),i((()=>{const e=t!==Qr;e&&!n.current&&(n.current=t),!e&&n.current&&(n.current=null)}),[t]),n.current?qr(t,n.current):Qr}function uo(t){return e((()=>t?function(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}(t):null),[t])}const so=[];function co(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ir(e)?e:t}const lo=[{sensor:Wi,options:{}},{sensor:Li,options:{}}],fo={current:{}},ho={draggable:{measure:hi},droppable:{measure:hi,strategy:Zi.WhileDragging,frequency:Qi.Optimized},dragOverlay:{measure:di}};class po extends Map{get(t){var e;return null!=t&&null!=(e=super.get(t))?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((t=>{let{disabled:e}=t;return!e}))}getNodeFor(t){var e,n;return null!=(e=null==(n=this.get(t))?void 0:n.node.current)?e:void 0}}const vo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new po,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ho,measureDroppableContainers:Zr,windowRect:null,measuringScheduled:!1},go={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zr,draggableNodes:new Map,over:null,measureDroppableContainers:Zr},yo=s(go),_o=s(vo);function mo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new po}}}function bo(t,e){switch(e.type){case Gr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Gr.DragMove:return t.draggable.active?{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}}:t;case Gr.DragEnd:case Gr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Gr.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new po(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Gr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const a=new po(t.droppable.containers);return a.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Gr.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new po(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function wo(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:o}=f(yo),a=Ar(r),u=Ar(null==n?void 0:n.id);return i((()=>{if(!e&&!r&&a&&null!=u){if(!Lr(a))return;if(document.activeElement===a.target)return;const t=o.get(u);if(!t)return;const{activatorNode:e,node:n}=t;if(!e.current&&!n.current)return;requestAnimationFrame((()=>{for(const t of[e.current,n.current]){if(!t)continue;const e=Kr(t);if(e){e.focus();break}}}))}}),[r,e,o,u,a]),null}function xo(t,e){let{transform:n,...r}=e;return null!=t&&t.length?t.reduce(((t,e)=>e({transform:t,...r})),n):n}const So=s({...Qr,scaleX:1,scaleY:1});var Eo;!function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"}(Eo||(Eo={}));const Io=c((function(t){var r,s,c,f;let{id:d,accessibility:h,autoScroll:v=!0,children:g,sensors:y=lo,collisionDetection:_=ai,measuring:m,modifiers:b,...w}=t;const x=l(bo,void 0,mo),[S,E]=x,[I,D]=function(){const[t]=u((()=>new Set)),e=n((e=>(t.add(e),()=>t.delete(e))),[t]);return[n((e=>{let{type:n,event:r}=e;t.forEach((t=>{var e;return null==(e=t[n])?void 0:e.call(t,r)}))}),[t]),e]}(),[O,z]=u(Eo.Uninitialized),C=O===Eo.Initialized,{draggable:{active:R,nodes:M,translate:A},droppable:{containers:k}}=S,N=R?M.get(R):null,j=o({initial:null,translated:null}),T=e((()=>{var t;return null!=R?{id:R,data:null!=(t=null==N?void 0:N.data)?t:fo,rect:j}:null}),[R,N]),q=o(null),[L,B]=u(null),[P,U]=u(null),K=Cr(w,Object.values(w)),W=Nr("DndDescribedBy",d),F=e((()=>k.getEnabled()),[k]),Y=e((()=>({draggable:{...ho.draggable,...null==X?void 0:X.draggable},droppable:{...ho.droppable,...null==X?void 0:X.droppable},dragOverlay:{...ho.dragOverlay,...null==X?void 0:X.dragOverlay}})),[null==(X=m)?void 0:X.draggable,null==X?void 0:X.droppable,null==X?void 0:X.dragOverlay]);var X;const{droppableRects:J,measureDroppableContainers:H,measuringScheduled:$}=function(t,e){let{dragging:r,dependencies:a,config:s}=e;const[c,l]=u(null),f=null!=c,{frequency:d,measure:h,strategy:p}=s,v=o(t),g=function(){switch(p){case Zi.Always:return!1;case Zi.BeforeDragging:return r;default:return!r}}(),y=Cr(g),_=n((function(t){void 0===t&&(t=[]),y.current||l((e=>e?e.concat(t):t))}),[y]),m=o(null),b=Rr((e=>{if(g&&!r)return to;const n=c;if(!e||e===to||v.current!==t||null!=n){const e=new Map;for(let r of t){if(!r)continue;if(n&&n.length>0&&!n.includes(r.id)&&r.rect.current){e.set(r.id,r.rect.current);continue}const t=r.node.current,i=t?new Ci(h(t),t):null;r.rect.current=i,i&&e.set(r.id,i)}return e}return e}),[t,c,r,g,h]);return i((()=>{v.current=t}),[t]),i((()=>{g||requestAnimationFrame((()=>_()))}),[r,g]),i((()=>{f&&l(null)}),[f]),i((()=>{g||"number"!=typeof d||null!==m.current||(m.current=setTimeout((()=>{_(),m.current=null}),d))}),[d,g,_,...a]),{droppableRects:b,measureDroppableContainers:_,measuringScheduled:f}}(F,{dragging:C,dependencies:[A.x,A.y],config:Y.droppable}),V=function(t,e){const n=null!==e?t.get(e):void 0,r=n?n.node.current:null;return Rr((t=>{var n;return null===e?null:null!=(n=null!=r?r:t)?n:null}),[r,e])}(M,R),G=e((()=>P?Br(P):null),[P]),Z=function(){const t=!1===(null==L?void 0:L.autoScrollEnabled),e="object"==typeof v?!1===v.enabled:!1===v,n=C&&!t&&!e;if("object"==typeof v)return{...v,enabled:n};return{enabled:n}}(),Q=function(t,e){return eo(t,e)}(V,Y.draggable.measure);!function(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const a=o(!1),{x:u,y:s}="boolean"==typeof i?{x:i,y:i}:i;Or((()=>{if(!u&&!s||!e)return void(a.current=!1);if(a.current||!r)return;const t=null==e?void 0:e.node.current;if(!t||!1===t.isConnected)return;const i=ui(n(t),r);if(u||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const e=vi(t);e&&e.scrollBy({top:i.y,left:i.x})}}),[e,u,s,r,n])}({activeNode:R?M.get(R):null,config:Z.layoutShiftCompensation,initialRect:Q,measure:Y.draggable.measure});const tt=io(V,Y.draggable.measure,Q),et=io(V?V.parentElement:null),nt=o({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),rt=k.getNodeFor(null==(r=nt.current.over)?void 0:r.id),it=function(t){let{measure:r}=t;const[i,o]=u(null),a=n((t=>{for(const{target:e}of t)if(Ir(e)){o((t=>{const n=r(e);return t?{...t,width:n.width,height:n.height}:n}));break}}),[r]),s=no({callback:a}),c=n((t=>{const e=co(t);null==s||s.disconnect(),e&&(null==s||s.observe(e)),o(e?r(e):null)}),[r,s]),[l,f]=Mr(c);return e((()=>({nodeRef:l,rect:i,setRef:f})),[i,l,f])}({measure:Y.dragOverlay.measure}),ot=null!=(s=it.nodeRef.current)?s:V,at=C?null!=(c=it.rect)?c:tt:null,ut=Boolean(it.nodeRef.current&&it.rect),st=ui(ct=ut?null:tt,eo(ct));var ct;const lt=uo(ot?Sr(ot):null),ft=function(t){const e=o(t),n=Rr((n=>t?n&&n!==oo&&t&&e.current&&t.parentNode===e.current.parentNode?n:pi(t):oo),[t]);return i((()=>{e.current=t}),[t]),n}(C?null!=rt?rt:V:null),dt=function(t,e){void 0===e&&(e=di);const[n]=t,r=uo(n?Sr(n):null),[i,o]=l((function(){return t.length?t.map((t=>wi(t)?r:new Ci(e(t),t))):so}),so),a=no({callback:o});return t.length>0&&i===so&&o(),Or((()=>{t.length?t.forEach((t=>null==a?void 0:a.observe(t))):(null==a||a.disconnect(),o())}),[t]),i}(ft),ht=xo(b,{transform:{x:A.x-st.x,y:A.y-st.y,scaleX:1,scaleY:1},activatorEvent:P,active:T,activeNodeRect:tt,containerNodeRect:et,draggingNodeRect:at,over:nt.current.over,overlayNodeRect:it.rect,scrollableAncestors:ft,scrollableAncestorRects:dt,windowRect:lt}),pt=G?Tr(G,A):null,vt=function(t){const[r,a]=u(null),s=o(t),c=n((t=>{const e=gi(t.target);e&&a((t=>t?(t.set(e,mi(e)),new Map(t)):null))}),[]);return i((()=>{const e=s.current;if(t!==e){n(e);const r=t.map((t=>{const e=gi(t);return e?(e.addEventListener("scroll",c,{passive:!0}),[e,mi(e)]):null})).filter((t=>null!=t));a(r.length?new Map(r):null),s.current=t}return()=>{n(t),n(e)};function n(t){t.forEach((t=>{const e=gi(t);null==e||e.removeEventListener("scroll",c)}))}}),[c,t]),e((()=>t.length?r?Array.from(r.values()).reduce(((t,e)=>Tr(t,e)),Qr):Di(t):Qr),[t,r])}(ft),gt=ao(vt),yt=ao(vt,[tt]),_t=Tr(ht,gt),mt=at?ci(at,ht):null,bt=T&&mt?_({active:T,collisionRect:mt,droppableRects:J,droppableContainers:F,pointerCoordinates:pt}):null,wt=function(t,e){if(!t||0===t.length)return null;const[n]=t;return e?n[e]:n}(bt,"id"),[xt,St]=u(null),Et=function(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}(ut?ht:Tr(ht,yt),null!=(f=null==xt?void 0:xt.rect)?f:null,tt),It=n(((t,e)=>{let{sensor:n,options:r}=e;if(null==q.current)return;const i=M.get(q.current);if(!i)return;const o=t.nativeEvent,a=new n({active:q.current,activeNode:i,event:o,options:r,context:nt,onStart(t){const e=q.current;if(null==e)return;const n=M.get(e);if(!n)return;const{onDragStart:r}=K.current,i={active:{id:e,data:n.data,rect:j}};p((()=>{null==r||r(i),z(Eo.Initializing),E({type:Gr.DragStart,initialCoordinates:t,active:e}),I({type:"onDragStart",event:i})}))},onMove(t){E({type:Gr.DragMove,coordinates:t})},onEnd:u(Gr.DragEnd),onCancel:u(Gr.DragCancel)});function u(t){return async function(){const{active:e,collisions:n,over:r,scrollAdjustedTranslate:i}=nt.current;let a=null;if(e&&i){const{cancelDrop:u}=K.current;if(a={activatorEvent:o,active:e,collisions:n,delta:i,over:r},t===Gr.DragEnd&&"function"==typeof u){await Promise.resolve(u(a))&&(t=Gr.DragCancel)}}q.current=null,p((()=>{E({type:t}),z(Eo.Uninitialized),St(null),B(null),U(null);const e=t===Gr.DragEnd?"onDragEnd":"onDragCancel";if(a){const t=K.current[e];null==t||t(a),I({type:e,event:a})}}))}}p((()=>{B(a),U(t.nativeEvent)}))}),[M]),Dt=n(((t,e)=>(n,r)=>{const i=n.nativeEvent,o=M.get(r);if(null!==q.current||!o||i.dndKit||i.defaultPrevented)return;const a={active:o};!0===t(n,e.options,a)&&(i.dndKit={capturedBy:e.sensor},q.current=r,It(n,e))}),[M,It]),Ot=function(t,n){return e((()=>t.reduce(((t,e)=>{const{sensor:r}=e;return[...t,...r.activators.map((t=>({eventName:t.eventName,handler:n(t.handler,e)})))]}),[])),[t,n])}(y,Dt);!function(t){i((()=>{if(!br)return;const e=t.map((t=>{let{sensor:e}=t;return null==e.setup?void 0:e.setup()}));return()=>{for(const t of e)null==t||t()}}),t.map((t=>{let{sensor:e}=t;return e})))}(y),Or((()=>{tt&&O===Eo.Initializing&&z(Eo.Initialized)}),[tt,O]),i((()=>{const{onDragMove:t}=K.current,{active:e,activatorEvent:n,collisions:r,over:i}=nt.current;if(!e||!n)return;const o={active:e,activatorEvent:n,collisions:r,delta:{x:_t.x,y:_t.y},over:i};p((()=>{null==t||t(o),I({type:"onDragMove",event:o})}))}),[_t.x,_t.y]),i((()=>{const{active:t,activatorEvent:e,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=nt.current;if(!t||null==q.current||!e||!i)return;const{onDragOver:o}=K.current,a=r.get(wt),u=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,s={active:t,activatorEvent:e,collisions:n,delta:{x:i.x,y:i.y},over:u};p((()=>{St(u),null==o||o(s),I({type:"onDragOver",event:s})}))}),[wt]),Or((()=>{nt.current={activatorEvent:P,active:T,activeNode:V,collisionRect:mt,collisions:bt,droppableRects:J,draggableNodes:M,draggingNode:ot,draggingNodeRect:at,droppableContainers:k,over:xt,scrollableAncestors:ft,scrollAdjustedTranslate:_t},j.current={initial:at,translated:mt}}),[T,V,bt,mt,M,ot,at,J,k,xt,ft,_t]),Vi({...Z,delta:A,draggingRect:mt,pointerCoordinates:pt,scrollableAncestors:ft,scrollableAncestorRects:dt});const zt=e((()=>({active:T,activeNode:V,activeNodeRect:tt,activatorEvent:P,collisions:bt,containerNodeRect:et,dragOverlay:it,draggableNodes:M,droppableContainers:k,droppableRects:J,over:xt,measureDroppableContainers:H,scrollableAncestors:ft,scrollableAncestorRects:dt,measuringConfiguration:Y,measuringScheduled:$,windowRect:lt})),[T,V,tt,P,bt,et,it,M,k,J,xt,H,ft,dt,Y,$,lt]),Ct=e((()=>({activatorEvent:P,activators:Ot,active:T,activeNodeRect:tt,ariaDescribedById:{draggable:W},dispatch:E,draggableNodes:M,over:xt,measureDroppableContainers:H})),[P,Ot,T,tt,E,W,M,xt,H]);return a.createElement(Jr.Provider,{value:D},a.createElement(yo.Provider,{value:Ct},a.createElement(_o.Provider,{value:zt},a.createElement(So.Provider,{value:Et},g)),a.createElement(wo,{disabled:!1===(null==h?void 0:h.restoreFocus)})),a.createElement(Vr,{...h,hiddenTextDescribedById:W}))})),Do=s(null),Oo="button";function zo(t){let{id:n,data:r,disabled:i=!1,attributes:o}=t;const a=Nr("Droppable"),{activators:u,activatorEvent:s,active:c,activeNodeRect:l,ariaDescribedById:d,draggableNodes:h,over:p}=f(yo),{role:v=Oo,roleDescription:g="draggable",tabIndex:y=0}=null!=o?o:{},_=(null==c?void 0:c.id)===n,m=f(_?So:Do),[b,w]=Mr(),[x,S]=Mr(),E=function(t,n){return e((()=>t.reduce(((t,e)=>{let{eventName:r,handler:i}=e;return t[r]=t=>{i(t,n)},t}),{})),[t,n])}(u,n),I=Cr(r);Or((()=>(h.set(n,{id:n,key:a,node:b,activatorNode:x,data:I}),()=>{const t=h.get(n);t&&t.key===a&&h.delete(n)})),[h,n]);return{active:c,activatorEvent:s,activeNodeRect:l,attributes:e((()=>({role:v,tabIndex:y,"aria-disabled":i,"aria-pressed":!(!_||v!==Oo)||void 0,"aria-roledescription":g,"aria-describedby":d.draggable})),[i,v,y,_,g,d.draggable]),isDragging:_,listeners:i?void 0:E,node:b,over:p,setNodeRef:w,setActivatorNodeRef:S,transform:m}}function Co(){return f(_o)}const Ro={timeout:25};function Mo(t){let{animation:e,children:n}=t;const[r,i]=u(null),[o,s]=u(null),c=Ar(n);return n||r||!c||i(c),Or((()=>{if(!o)return;const t=null==r?void 0:r.key,n=null==r?void 0:r.props.id;null!=t&&null!=n?Promise.resolve(e(n,o)).then((()=>{i(null)})):i(null)}),[e,r,o]),a.createElement(a.Fragment,null,n,r?d(r,{ref:s}):null)}const Ao={x:0,y:0,scaleX:1,scaleY:1};function ko(t){let{children:e}=t;return a.createElement(yo.Provider,{value:go},a.createElement(So.Provider,{value:Ao},e))}const No={position:"fixed",touchAction:"none"},jo=t=>Lr(t)?"transform 250ms ease":void 0,To=h(((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:u,rect:s,style:c,transform:l,transition:f=jo}=t;if(!s)return null;const d=i?l:{...l,scaleX:1,scaleY:1},h={...No,width:s.width,height:s.height,top:s.top,left:s.left,transform:Pr.Transform.toString(d),transformOrigin:i&&r?ti(r,s):void 0,transition:"function"==typeof f?f(r):f,...c};return a.createElement(n,{className:u,style:h,ref:e},o)})),qo=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:o,className:a}=t;if(null!=o&&o.active)for(const[t,e]of Object.entries(o.active))void 0!==e&&(i[t]=n.node.style.getPropertyValue(t),n.node.style.setProperty(t,e));if(null!=o&&o.dragOverlay)for(const[t,e]of Object.entries(o.dragOverlay))void 0!==e&&r.node.style.setProperty(t,e);return null!=a&&a.active&&n.node.classList.add(a.active),null!=a&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[t,e]of Object.entries(i))n.node.style.setProperty(t,e);null!=a&&a.active&&n.node.classList.remove(a.active)}},Lo={duration:250,easing:"ease",keyframes:t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Pr.Transform.toString(e)},{transform:Pr.Transform.toString(n)}]},sideEffects:qo({styles:{active:{opacity:"0"}}})};function Bo(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return zr(((t,o)=>{if(null===e)return;const a=n.get(t);if(!a)return;const u=a.node.current;if(!u)return;const s=co(o);if(!s)return;const{transform:c}=Sr(o).getComputedStyle(o),l=li(c);if(!l)return;const f="function"==typeof e?e:function(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...Lo,...t};return t=>{let{active:o,dragOverlay:a,transform:u,...s}=t;if(!e)return;const c={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},l={scaleX:1!==u.scaleX?o.rect.width*u.scaleX/a.rect.width:1,scaleY:1!==u.scaleY?o.rect.height*u.scaleY/a.rect.height:1},f={x:u.x-c.x,y:u.y-c.y,...l},d=i({...s,active:o,dragOverlay:a,transform:{initial:u,final:f}}),[h]=d,p=d[d.length-1];if(JSON.stringify(h)===JSON.stringify(p))return;const v=null==r?void 0:r({active:o,dragOverlay:a,...s}),g=a.node.animate(d,{duration:e,easing:n,fill:"forwards"});return new Promise((t=>{g.onfinish=()=>{null==v||v(),t()}}))}}(e);return Oi(u,i.draggable.measure),f({active:{id:t,data:a.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(s)},droppableContainers:r,measuringConfiguration:i,transform:l})}))}let Po=0;function Uo(t){return e((()=>{if(null!=t)return Po++,Po}),[t])}const Ko=a.memo((t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:u,wrapperElement:s="div",className:c,zIndex:l=999}=t;const{activatorEvent:d,active:h,activeNodeRect:p,containerNodeRect:v,draggableNodes:g,droppableContainers:y,dragOverlay:_,over:m,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:x,windowRect:S}=Co(),E=f(So),I=Uo(null==h?void 0:h.id),D=xo(u,{activatorEvent:d,active:h,activeNodeRect:p,containerNodeRect:v,draggingNodeRect:_.rect,over:m,overlayNodeRect:_.rect,scrollableAncestors:w,scrollableAncestorRects:x,transform:E,windowRect:S}),O=eo(p),z=Bo({config:r,draggableNodes:g,droppableContainers:y,measuringConfiguration:b}),C=O?_.setRef:void 0;return a.createElement(ko,null,a.createElement(Mo,{animation:z},h&&I?a.createElement(To,{key:I,id:h.id,ref:C,as:s,activatorEvent:d,adjustScale:e,className:c,transition:o,rect:O,style:{zIndex:l,...i},transform:D},n):null))}));function Wo(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Fo(t,e){return t.reduce(((t,n,r)=>{const i=e.get(n);return i&&(t[r]=i),t}),Array(t.length))}function Yo(t){return null!==t&&t>=0}const Xo=({rects:t,activeIndex:e,overIndex:n,index:r})=>{const i=Wo(t,n,e),o=t[r],a=i[r];return a&&o?{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}:null},Jo={scaleX:1,scaleY:1},Ho=({activeIndex:t,activeNodeRect:e,index:n,rects:r,overIndex:i})=>{var o;const a=null!=(o=r[t])?o:e;if(!a)return null;if(n===t){const e=r[i];return e?{x:0,y:t<i?e.top+e.height-(a.top+a.height):e.top-a.top,...Jo}:null}const u=function(t,e,n){const r=t[e],i=t[e-1],o=t[e+1];if(!r)return 0;if(n<e)return i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0;return o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(r,n,t);return n>t&&n<=i?{x:0,y:-a.height-u,...Jo}:n<t&&n>=i?{x:0,y:a.height+u,...Jo}:{x:0,y:0,...Jo}};const $o="Sortable",Vo=a.createContext({activeIndex:-1,containerId:$o,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Xo,disabled:{draggable:!1,droppable:!1}});function Go({children:t,id:n,items:r,strategy:u=Xo,disabled:s=!1}){const{active:c,dragOverlay:l,droppableRects:f,over:d,measureDroppableContainers:h,measuringScheduled:p}=Co(),v=Nr($o,n),g=Boolean(null!==l.rect),y=e((()=>r.map((t=>"object"==typeof t&&"id"in t?t.id:t))),[r]),_=null!=c,m=c?y.indexOf(c.id):-1,b=d?y.indexOf(d.id):-1,w=o(y),x=!function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(y,w.current),S=-1!==b&&-1===m||x,E=function(t){return"boolean"==typeof t?{draggable:t,droppable:t}:t}(s);Or((()=>{x&&_&&!p&&h(y)}),[x,y,_,h,p]),i((()=>{w.current=y}),[y]);const I=e((()=>({activeIndex:m,containerId:v,disabled:E,disableTransforms:S,items:y,overIndex:b,useDragOverlay:g,sortedRects:Fo(y,f),strategy:u})),[m,v,E.draggable,E.droppable,S,y,b,f,g,u]);return a.createElement(Vo.Provider,{value:I},t)}const Zo=({id:t,items:e,activeIndex:n,overIndex:r})=>Wo(e,n,r).indexOf(t),Qo=({containerId:t,isSorting:e,wasDragging:n,index:r,items:i,newIndex:o,previousItems:a,previousContainerId:u,transition:s})=>!(!s||!n)&&((a===i||r!==o)&&(!!e||o!==r&&t===u)),ta={duration:200,easing:"ease"},ea="transform",na=Pr.Transition.toString({property:ea,duration:0,easing:"linear"}),ra={roleDescription:"sortable"};function ia({animateLayoutChanges:t=Qo,attributes:r,disabled:a,data:s,getNewIndex:c=Zo,id:l,strategy:d,resizeObserverConfig:h,transition:p=ta}){const{items:v,containerId:g,activeIndex:y,disabled:_,disableTransforms:m,sortedRects:b,overIndex:w,useDragOverlay:x,strategy:S}=f(Vo),E=function(t,e){var n,r;if("boolean"==typeof t)return{draggable:t,droppable:!1};return{draggable:null!=(n=null==t?void 0:t.draggable)?n:e.draggable,droppable:null!=(r=null==t?void 0:t.droppable)?r:e.droppable}}(a,_),I=v.indexOf(l),D=e((()=>({sortable:{containerId:g,index:I,items:v},...s})),[g,s,I,v]),O=e((()=>v.slice(v.indexOf(l))),[v,l]),{rect:z,node:C,isOver:R,setNodeRef:M}=function(t){let{data:e,disabled:r=!1,id:a,resizeObserverConfig:u}=t;const s=Nr("Droppable"),{active:c,dispatch:l,over:d,measureDroppableContainers:h}=f(yo),p=o({disabled:r}),v=o(!1),g=o(null),y=o(null),{disabled:_,updateMeasurementsFor:m,timeout:b}={...Ro,...u},w=Cr(null!=m?m:a),x=no({callback:n((()=>{v.current?(null!=y.current&&clearTimeout(y.current),y.current=setTimeout((()=>{h(Array.isArray(w.current)?w.current:[w.current]),y.current=null}),b)):v.current=!0}),[b]),disabled:_||!c}),S=n(((t,e)=>{x&&(e&&(x.unobserve(e),v.current=!1),t&&x.observe(t))}),[x]),[E,I]=Mr(S),D=Cr(e);return i((()=>{x&&E.current&&(x.disconnect(),v.current=!1,x.observe(E.current))}),[E,x]),Or((()=>(l({type:Gr.RegisterDroppable,element:{id:a,key:s,disabled:r,node:E,rect:g,data:D}}),()=>l({type:Gr.UnregisterDroppable,key:s,id:a}))),[a]),i((()=>{r!==p.current.disabled&&(l({type:Gr.SetDroppableDisabled,id:a,key:s,disabled:r}),p.current.disabled=r)}),[a,s,r,l]),{active:c,rect:g,isOver:(null==d?void 0:d.id)===a,node:E,over:d,setNodeRef:I}}({id:l,data:D,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...h}}),{active:A,activatorEvent:k,activeNodeRect:N,attributes:j,setNodeRef:T,listeners:q,isDragging:L,over:B,setActivatorNodeRef:P,transform:U}=zo({id:l,data:D,attributes:{...ra,...r},disabled:E.draggable}),K=function(...t){return e((()=>e=>{t.forEach((t=>t(e)))}),t)}(M,T),W=Boolean(A),F=W&&!m&&Yo(y)&&Yo(w),Y=!x&&L,X=Y&&F?U:null,J=F?null!=X?X:(null!=d?d:S)({rects:b,activeNodeRect:N,activeIndex:y,overIndex:w,index:I}):null,H=Yo(y)&&Yo(w)?c({id:l,items:v,activeIndex:y,overIndex:w}):I,$=null==A?void 0:A.id,V=o({activeId:$,items:v,newIndex:H,containerId:g}),G=v!==V.current.items,Z=t({active:A,containerId:g,isDragging:L,isSorting:W,id:l,index:I,items:v,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:p,wasDragging:null!=V.current.activeId}),Q=function({disabled:t,index:e,node:n,rect:r}){const[a,s]=u(null),c=o(e);return Or((()=>{if(!t&&e!==c.current&&n.current){const t=r.current;if(t){const e=di(n.current,{ignoreTransform:!0}),r={x:t.left-e.left,y:t.top-e.top,scaleX:t.width/e.width,scaleY:t.height/e.height};(r.x||r.y)&&s(r)}}e!==c.current&&(c.current=e)}),[t,e,n,r]),i((()=>{a&&requestAnimationFrame((()=>{s(null)}))}),[a]),a}({disabled:!Z,index:I,node:C,rect:z});return i((()=>{W&&V.current.newIndex!==H&&(V.current.newIndex=H),g!==V.current.containerId&&(V.current.containerId=g),v!==V.current.items&&(V.current.items=v)}),[W,H,g,v]),i((()=>{if($===V.current.activeId)return;if($&&!V.current.activeId)return void(V.current.activeId=$);const t=setTimeout((()=>{V.current.activeId=$}),50);return()=>clearTimeout(t)}),[$]),{active:A,activeIndex:y,attributes:j,data:D,rect:z,index:I,newIndex:H,items:v,isOver:R,isSorting:W,isDragging:L,listeners:q,node:C,overIndex:w,over:B,setNodeRef:K,setActivatorNodeRef:P,setDroppableNodeRef:M,setDraggableNodeRef:T,transform:null!=Q?Q:J,transition:function(){if(Q||G&&V.current.newIndex===I)return na;if(Y&&!Lr(k)||!p)return;if(W||Z)return Pr.Transition.toString({...p,property:ea});return}()}}ki.Down,ki.Right,ki.Up,ki.Left;var oa,aa={exports:{}};
/*!
        Copyright (c) 2018 Jed Watson.
        Licensed under the MIT License (MIT), see
        http://jedwatson.github.io/classnames
      */oa=aa,function(){var t={}.hasOwnProperty;function e(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)n.push(i);else if(Array.isArray(i)){if(i.length){var a=e.apply(null,i);a&&n.push(a)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var u in i)t.call(i,u)&&i[u]&&n.push(u);else n.push(i.toString())}}return n.join(" ")}oa.exports?(e.default=e,oa.exports=e):window.classNames=e}();var ua=aa.exports;function sa({name:t,onCancel:e,onChange:n}){const r=o(null);return i((()=>{var t;function n(t){t.target!==r.current&&e()}return null==(t=r.current)||t.focus(),document.addEventListener("click",n),()=>document.removeEventListener("click",n)}),[]),a.createElement("div",{className:"outline-entry__name"},a.createElement("input",{ref:r,type:"text",defaultValue:t,onKeyDown:function(i){var o;if("Escape"===i.key&&!i.nativeEvent.isComposing)return void e();if("Enter"!==i.key)return;const a=null==(o=r.current)?void 0:o.value.trim().slice(0,50);a&&a!==t?n(a):e()},placeholder:" 50 "}))}const ca={"--spacing":"4px"};var la=function({name:t,onNameChange:e,onClick:n,isSelected:r}){const[i,o]=u(!1);return a.createElement("div",{style:ca,className:ua("outline-entry",{"outline-entry--selected":r})},a.createElement("div",{className:ua("outline-entry-content")},i?a.createElement(sa,{name:t,onCancel:()=>o(!1),onChange:t=>{e(t),o(!1)}}):a.createElement("span",{onClick:n,onDoubleClick:()=>o(!0),className:"outline-entry__name"},t)))},fa=Object.defineProperty,da=Object.defineProperties,ha=Object.getOwnPropertyDescriptors,pa=Object.getOwnPropertySymbols,va=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable,ya=(t,e,n)=>e in t?fa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_a=(t,e)=>{for(var n in e||(e={}))va.call(e,n)&&ya(t,n,e[n]);if(pa)for(var n of pa(e))ga.call(e,n)&&ya(t,n,e[n]);return t},ma=(t,e)=>da(t,ha(e));const ba={keyframes:({transform:t})=>[{opacity:1,transform:Pr.Transform.toString(t.initial)},{opacity:0,transform:Pr.Transform.toString(ma(_a({},t.final),{x:t.final.x+5,y:t.final.y+5}))}],easing:"ease-out",sideEffects({active:t}){t.node.animate([{opacity:0},{opacity:1}],{duration:Lo.duration,easing:Lo.easing})}},wa=({transform:t})=>ma(_a({},t),{y:t.y,x:t.x+20}),xa=({isSorting:t,wasDragging:e})=>!t&&!e,Sa={droppable:{strategy:Zi.Always}},Ea={activationConstraint:{delay:100,tolerance:5}},Ia=a.createElement("svg",{width:"10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 70 41"},a.createElement("path",{d:"M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z"})),Da=a.createElement("svg",{viewBox:"0 0 20 20",width:"12"},a.createElement("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})),Oa=a.createElement("svg",{width:"8",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M2.99998 -0.000206962C2.7441 -0.000206962 2.48794 0.0972617 2.29294 0.292762L0.292945 2.29276C-0.0980552 2.68376 -0.0980552 3.31682 0.292945 3.70682L7.58591 10.9998L0.292945 18.2928C-0.0980552 18.6838 -0.0980552 19.3168 0.292945 19.7068L2.29294 21.7068C2.68394 22.0978 3.31701 22.0978 3.70701 21.7068L11 14.4139L18.2929 21.7068C18.6829 22.0978 19.317 22.0978 19.707 21.7068L21.707 19.7068C22.098 19.3158 22.098 18.6828 21.707 18.2928L14.414 10.9998L21.707 3.70682C22.098 3.31682 22.098 2.68276 21.707 2.29276L19.707 0.292762C19.316 -0.0982383 18.6829 -0.0982383 18.2929 0.292762L11 7.58573L3.70701 0.292762C3.51151 0.0972617 3.25585 -0.000206962 2.99998 -0.000206962Z"}));var za=Object.defineProperty,Ca=Object.defineProperties,Ra=Object.getOwnPropertyDescriptors,Ma=Object.getOwnPropertySymbols,Aa=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,Na=(t,e,n)=>e in t?za(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ja=(t,e)=>{for(var n in e||(e={}))Aa.call(e,n)&&Na(t,n,e[n]);if(Ma)for(var n of Ma(e))ka.call(e,n)&&Na(t,n,e[n]);return t};var Ta=function({id:t,name:e,isSelected:n,depth:r,onCollapse:i,collapsedStatus:o,onRemove:s,onNameChange:c,onClick:l}){const{attributes:f,isDragging:d,listeners:h,isSorting:p,isOver:v,setDraggableNodeRef:g,setDroppableNodeRef:y,transform:_,transition:m}=ia({id:t,animateLayoutChanges:xa}),[b,w]=u(!1),x={transform:Pr.Translate.toString(_),"--spacing":25*(r-1)+"px",transition:m};return a.createElement("div",{ref:y,style:x,onClick:t=>{(t.target===t.currentTarget||t.target.dataset.entryName)&&l()},className:ua("outline-entry",{"outline-entry--dragging":d,"outline-entry--selected":n})},a.createElement("div",{className:ua("outline-entry-content",{"outline-entry-content--dragging":d,"outline-entry-content--isOver":v})},!d&&a.createElement(a.Fragment,null,a.createElement("button",(S=ja(ja({},f),h),E={ref:g,className:ua("action","entry-handle")},Ca(S,Ra(E))),Da),"none"!==o&&a.createElement("button",{onClick:i,className:ua("collapse-icon","action",{"collapse-icon--collapsed":"collapsed"===o})},Ia),b?a.createElement(sa,{name:e,onCancel:()=>w(!1),onChange:t=>{c(t),w(!1)}}):a.createElement("span",{onDoubleClick:()=>w(!0),className:"outline-entry__name","data-entry-name":e},e),!p&&!b&&a.createElement("button",{onClick:s,className:"action action-remove"},Oa))));var S,E};const qa=["html-element","react-component","loop-container"];function La(t,e,n,r){if(e.id===t.getIn(["id"]))return _(t,e.id,0,r);if(n===e.depth)return S.debug(`[artery-outline] move [${r.getIn(["id"])}] to right of [${e.id}]`),m(t,e.id,r);if(n>e.depth)return S.debug(`[artery-outline] move [${r.getIn(["id"])}] to the first position of [${e.id}]'s children`),_(t,e.id,0,r);const i=e.depth-n-1,o=b(t,e.id)||hn();if(!o||!o.size)return void S.error("[artery-outline] fatal error, can not find over node parents");const a=o.get(i);if(a)return S.debug(`[artery-outline] move [${r.getIn(["id"])}] to right of [${a.toJS()}]`),m(t,a,r);S.error(`[artery-outline] fatal error, no ancestor at index ${i}`)}var Ba=[],Pa=[];!function(t,e){if(t&&"undefined"!=typeof document){var n,r=!0===e.prepend?"prepend":"append",i=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var a=Ba.indexOf(o);-1===a&&(a=Ba.push(o)-1,Pa[a]={}),n=Pa[a]&&Pa[a][r]?Pa[a][r]:Pa[a][r]=u()}else n=u();65279===t.charCodeAt(0)&&(t=t.substring(1)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(document.createTextNode(t))}function u(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var n=Object.keys(e.attributes),i=0;i<n.length;i++)t.setAttribute(n[i],e.attributes[n[i]]);var a="prepend"===r?"afterbegin":"beforeend";return o.insertAdjacentElement(a,t),t}}('.outline-entry {\n  position: relative;\n  padding-left: var(--spacing, 0);\n  font-size: 14px;\n  color: #222;\n  background-color: white;\n  border-radius: 4px;\n}\n.outline-entry:hover {\n  background-color: #f0f6ff;\n}\n\n.outline-entry--dragging {\n  z-index: 1;\n}\n\n.outline-entry--selected:not(.outline-entry--dragging) {\n  background-color: #dee9ff;\n}\n\n.outline-entry-content {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 28px;\n}\n.outline-entry-content .action-remove {\n  display: none;\n}\n.outline-entry-content:hover .action-remove {\n  display: inline-block;\n}\n\n.outline-entry-content--dragging {\n  height: 4px;\n  border-color: #2389ff;\n  background-color: #56a1f8;\n}\n.outline-entry-content--dragging:before {\n  position: absolute;\n  top: -4px;\n  display: block;\n  content: "";\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  border: 1px solid #2389ff;\n  background-color: #ffffff;\n}\n\n.outline-entry__name {\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  user-select: none;\n}\n\n.action {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 22px;\n  margin-right: 4px;\n  padding: 1px 4px;\n  appearance: none;\n  background-color: transparent;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.action:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.action svg {\n  fill: #868788;\n}\n\n.collapse-icon--collapsed svg {\n  transform: rotate(-90deg);\n}\n\n.dragging-entry-overlay {\n  display: inline-block;\n  max-width: 300px;\n  font-size: 12px;\n  padding: 2px;\n  outline: 1px solid #e2e8f0;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  background-color: white;\n  border-radius: 4px;\n}',{});var Ua=Object.defineProperty,Ka=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,Fa=Object.prototype.propertyIsEnumerable,Ya=(t,e,n)=>e in t?Ua(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;t("default",(function({rootNode:t,isContainer:n,onChange:r,activeNode:i,onActiveNodeChange:o}){const[s,c]=u(new Set([])),[l,f]=u(""),[d,h]=u(0),[p,v]=u(null),_=function(t,n,r){const i=e((()=>{var e;let n=y(yr(t)).slice();for(let t=0;t<n.length;){const r=n[t][1].getIn(["type"]);if(qa.includes(r)){t+=1;continue}const i=n[t][0].toJS().join("/");for(;null==(e=n[t])?void 0:e[0].toJS().join("/").startsWith(i);)n.splice(t,1)}return n}),[t]);return e((()=>{let t=i.slice();const e=r?[r,...Array.from(n)]:Array.from(n);for(const n of e){const e=t.findIndex((([t,e])=>e.getIn(["id"])===n));if(-1===e)continue;const[r]=t[e],i=r.toJS().join("/");let o=e;for(let e=o+1;e<t.length&&t[e][0].toJS().join("/").startsWith(i);e+=1)o=e;t.splice(e+1,o-e)}return t}),[r,n,i])}(t,Array.from(s),l),m=_.map((([t,e])=>function([t,e],n){const r=e.getIn(["id"]),i={type:e.getIn(["type"]),name:e.getIn(["name"]),packageName:e.getIn(["packageName"]),packageVersion:e.getIn(["packageVersion"]),exportName:e.getIn(["exportName"])},o=t.toArray().filter((t=>"children"===t||"nodes"===t));return{id:r,name:e.getIn(["label"])||r,depth:o.length,isContainer:n(i)}}([t,e],n))),b=e((()=>m.map((({id:t})=>t))),[m]),E=e((()=>m.find((({id:t})=>t===l))),[l]);var I,D;const O=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e((()=>[...n].filter((t=>null!=t))),[...n])}(e((()=>({sensor:I,options:null!=D?D:{}})),[I=Xi,D=Ea])),z=e((()=>l&&p?function(t,e,n,r){const i=t.findIndex((({id:t})=>t===n)),o=t.findIndex((({id:t})=>t===e)),a=t[o],u=Wo(t,o,i),s=u[i-1],c=u[i+1],l=Math.round(r/25),f=a.depth+l,d=(p=s,p?p.isContainer?p.depth+1:p.depth:0),h=c?c.depth:0;var p;let v=f;return f>=d?v=d:f<h&&(v=h),v}(m,l,p,d):0),[m,l,p,d]);function C(t){t?r(t.toJS()):S.error("[artery-outline] ignored for calling onChange by a undefined rootNode.")}function R(){v(null),f(""),h(0),document.body.style.setProperty("cursor","")}function M(t){var e;o(null==(e=_.find((([e,n])=>n.getIn(["id"])===t)))?void 0:e[1].toJS())}return m.length?a.createElement(Io,{sensors:O,collisionDetection:ii,measuring:Sa,onDragStart:({active:{id:t}})=>{f(t),document.body.style.setProperty("cursor","grabbing")},onDragMove:({delta:t})=>h(t.x),onDragOver:({over:t})=>{var e;return v(null!=(e=null==t?void 0:t.id.toString())?e:null)},onDragEnd:function({active:e,over:n}){var r,i;if(R(),!n||n.id===e.id)return;const o=m.findIndex((({id:t})=>t===e.id)),a=m.findIndex((({id:t})=>t===n.id));if(-1===o||-1===a)return void S.error(`[artery-outline] fatal error, can not find over entry [${n.id}] or dragging entry [${e.id}]`);const u=o<a?"below":"above";let s=yr(t);const c=null==(r=_.find((([,t])=>t.getIn(["id"])===l)))?void 0:r[0];if(!c)return void S.error("[artery-outline] fatal error, can not find dragging node keyPath of",l);const f=s.getIn(c);if(!f)return void S.error("[artery-outline] fatal error, can not find dragging node of keyPath",c.toJS());if(s=ze(s,c),!(null==(i=_.find((([,t])=>t.getIn(["id"])===n.id)))?void 0:i[0]))return void S.error("[artery-outline] fatal error, can not find overNodeKeyPath of",n.id);if("below"===u)return s=La(s,m[a],z,f),void C(s);s=La(s,m[Math.max(a-1,0)],z,f),C(s)},onDragCancel:()=>R()},a.createElement(la,{id:m[0].id,name:m[0].name,iconRender:()=>a.createElement("span",null,"i"),isSelected:(null==i?void 0:i.id)===m[0].id,onClick:()=>M(m[0].id),onNameChange:e=>{t.label=e,r(((t,e)=>{for(var n in e||(e={}))Wa.call(e,n)&&Ya(t,n,e[n]);if(Ka)for(var n of Ka(e))Fa.call(e,n)&&Ya(t,n,e[n]);return t})({},t))}}),a.createElement(Go,{items:b.slice(1),strategy:Ho},m.slice(1).map((({id:e,name:n,depth:o,isContainer:u})=>{let f="none";return u&&(f=s.has(e)?"collapsed":"expended"),a.createElement(Ta,{key:e,id:e,name:n,onClick:()=>M(e),isSelected:(null==i?void 0:i.id)===e,iconRender:()=>a.createElement("span",null,"i"),depth:l===e?z:o,collapsedStatus:f,onCollapse:()=>function(t){s.has(t)?s.delete(t):s.add(t),c(new Set(Array.from(s)))}(e),onRemove:()=>function(e){r(x(t,e))}(e),onNameChange:n=>{const i=w(t,{id:e,label:n});i&&r(i)}})})),g.createPortal(a.createElement(Ko,{dropAnimation:ba,modifiers:[wa]},l&&E&&a.createElement("div",{className:"dragging-entry-overlay"},E.name)),document.body))):null}))}}}));
