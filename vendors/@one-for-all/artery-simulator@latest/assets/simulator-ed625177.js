System.register(["react-dom","react","@one-for-all/artery-renderer","TEMPORARY_PATCH_FOR_ARTERY_PLUGINS","@one-for-all/elements-radar","@one-for-all/utils","@one-for-all/artery-utils","@one-for-all/artery-engine","@one-for-all/headless-ui","@one-for-all/icon"],function(){"use strict";var bo,m,At,An,we,Re,cr,wo,Ro,_a,Eo,Ao,ya,Tn,vt,ma,lr,Nn,ga,Sa,ba,wa,Ra,Ea,Aa,Ta,Na,To;return{setters:[function(x){bo=x.default},function(x){m=x.default,At=x.useContext,An=x.useRef,we=x.useEffect,Re=x.useState,cr=x.useCallback,wo=x.useMemo},function(x){Ro=x.useInstantiateProps,_a=x.useNodeComponent,Eo=x.useBootResult},function(x){Ao=x.default},function(x){ya=x.default},function(x){Tn=x.logger},function(x){vt=x.byArbitrary,ma=x._appendTo,lr=x._insertLeftSiblingTo,Nn=x._insertRightSiblingTo,ga=x.travel,Sa=x.parentIdsSeq,ba=x.keyPathById,wa=x.deleteByID,Ra=x.insertAfter,Ea=x.getFirstLevelConcreteChildren,Aa=x.nodeHasChildNodes},function(x){Ta=x.generateNodeId},function(x){Na=x.usePopper},function(x){To=x.default}],execute:function(){function x(e){const t=new Error(e);if(t.stack===void 0)try{throw t}catch{}return t}var Wl=x,D=Wl;function Kl(e){return!!e&&typeof e.then=="function"}var Z=Kl;function Hl(e,t){if(e!=null)return e;throw D(t!=null?t:"Got unexpected null or undefined")}var Q=Hl;function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fr{getValue(){throw D("BaseLoadable")}toPromise(){throw D("BaseLoadable")}valueMaybe(){throw D("BaseLoadable")}valueOrThrow(){throw D(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw D("BaseLoadable")}promiseOrThrow(){throw D(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw D("BaseLoadable")}errorOrThrow(){throw D(`Loadable expected error, but in "${this.state}" state`)}is(t){return t.state===this.state&&t.contents===this.contents}map(t){throw D("BaseLoadable")}}class Gl extends fr{constructor(t){super(),O(this,"state","hasValue"),O(this,"contents",void 0),this.contents=t}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(t){try{const n=t(this.contents);return Z(n)?Tt(n):Wt(n)?n:In(n)}catch(n){return Z(n)?Tt(n.next(()=>this.map(t))):dr(n)}}}class Yl extends fr{constructor(t){super(),O(this,"state","hasError"),O(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(t){return this}}class Ia extends fr{constructor(t){super(),O(this,"state","loading"),O(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(t){return Tt(this.contents.then(n=>{const r=t(n);if(Wt(r)){const o=r;switch(o.state){case"hasValue":return o.contents;case"hasError":throw o.contents;case"loading":return o.contents}}return r}).catch(n=>{if(Z(n))return n.then(()=>this.map(t).contents);throw n}))}}function In(e){return Object.freeze(new Gl(e))}function dr(e){return Object.freeze(new Yl(e))}function Tt(e){return Object.freeze(new Ia(e))}function La(){return Object.freeze(new Ia(new Promise(()=>{})))}function Jl(e){return e.every(t=>t.state==="hasValue")?In(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?dr(Q(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Tt(Promise.all(e.map(t=>t.contents)))}function Ma(e){const n=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(o=>e[o])).map(o=>Wt(o)?o:Z(o)?Tt(o):In(o)),r=Jl(n);return Array.isArray(e)?r:r.map(o=>Object.getOwnPropertyNames(e).reduce((i,a,s)=>({...i,[a]:o[s]}),{}))}function Wt(e){return e instanceof fr}var Nt={loadableWithValue:In,loadableWithError:dr,loadableWithPromise:Tt,loadableLoading:La,loadableAll:Ma,isLoadable:Wt,RecoilLoadable:{of:e=>Z(e)?Tt(e):Wt(e)?e:In(e),error:e=>dr(e),loading:()=>La(),all:Ma,isLoadable:Wt}},Xl=Nt.loadableWithValue,Zl=Nt.loadableWithError,Ql=Nt.loadableWithPromise,ef=Nt.loadableLoading,tf=Nt.loadableAll,nf=Nt.isLoadable,rf=Nt.RecoilLoadable,Ln=Object.freeze({__proto__:null,loadableWithValue:Xl,loadableWithError:Zl,loadableWithPromise:Ql,loadableLoading:ef,loadableAll:tf,isLoadable:nf,RecoilLoadable:rf});const hr=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function pr(e){var t;return(t=hr.get(e))!==null&&t!==void 0?t:!1}pr.setPass=e=>{hr.set(e,!0)},pr.setFail=e=>{hr.set(e,!1)},pr.clear=()=>{hr.clear()};var H=pr,No,Io,Lo;const of=(No=m.createMutableSource)!==null&&No!==void 0?No:m.unstable_createMutableSource,$a=(Io=m.useMutableSource)!==null&&Io!==void 0?Io:m.unstable_useMutableSource,Ca=(Lo=m.useSyncExternalStore)!==null&&Lo!==void 0?Lo:m.unstable_useSyncExternalStore;function af(){return H("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:H("recoil_sync_external_store")&&Ca!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:H("recoil_mutable_source")&&$a!=null&&typeof window!="undefined"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?H("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:H("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function sf(){return!1}var Mn={createMutableSource:of,useMutableSource:$a,useSyncExternalStore:Ca,reactMode:af,isFastRefreshEnabled:sf};class Mo{constructor(t){O(this,"key",void 0),this.key=t}}class Oa extends Mo{}class xa extends Mo{}function uf(e){return e instanceof Oa||e instanceof xa}var vr={AbstractRecoilValue:Mo,RecoilState:Oa,RecoilValueReadOnly:xa,isRecoilValue:uf},cf=vr.AbstractRecoilValue,lf=vr.RecoilState,ff=vr.RecoilValueReadOnly,df=vr.isRecoilValue,Kt=Object.freeze({__proto__:null,AbstractRecoilValue:cf,RecoilState:lf,RecoilValueReadOnly:ff,isRecoilValue:df});function hf(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()}var _r=hf;function pf(e,t,{error:n}={}){return null}var vf=pf,$o=vf;class Pa{}const _f=new Pa;class yf extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const It=new Map,Co=new Map;function mf(e){return _r(e,t=>Q(Co.get(t)))}function gf(e){if(It.has(e.key)){const n=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(n)}It.set(e.key,e);const t=e.set==null?new Kt.RecoilValueReadOnly(e.key):new Kt.RecoilState(e.key);return Co.set(e.key,t),t}class Da extends Error{}function Sf(e){const t=It.get(e);if(t==null)throw new Da(`Missing definition for RecoilValue: "${e}""`);return t}function bf(e){return It.get(e)}const yr=new Map;function wf(e){var t;if(!H("recoil_memory_managament_2020"))return;const n=It.get(e);if(n!=null&&(t=n.shouldDeleteConfigOnRelease)!==null&&t!==void 0&&t.call(n)){var r;It.delete(e),(r=ka(e))===null||r===void 0||r(),yr.delete(e)}}function Rf(e,t){!H("recoil_memory_managament_2020")||(t===void 0?yr.delete(e):yr.set(e,t))}function ka(e){return yr.get(e)}var Ee={nodes:It,recoilValues:Co,registerNode:gf,getNode:Sf,getNodeMaybe:bf,deleteNodeConfigIfPossible:wf,setConfigDeletionHandler:Rf,getConfigDeletionHandler:ka,recoilValuesForKeys:mf,NodeMissingError:Da,DefaultValue:Pa,DEFAULT_VALUE:_f,RecoilValueNotReady:yf};function Ef(e,t){t()}var Af={enqueueExecution:Ef};function Tf(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Nf=Tf(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n={},r=5,o=Math.pow(2,r),i=o-1,a=o/2,s=o/4,u={},c=function(d){return function(){return d}},l=n.hash=function(h){var d=typeof h=="undefined"?"undefined":t(h);if(d==="number")return h;d!=="string"&&(h+="");for(var S=0,R=0,E=h.length;R<E;++R){var A=h.charCodeAt(R);S=(S<<5)-S+A|0}return S},f=function(d){return d-=d>>1&1431655765,d=(d&858993459)+(d>>2&858993459),d=d+(d>>4)&252645135,d+=d>>8,d+=d>>16,d&127},p=function(d,S){return S>>>d&i},y=function(d){return 1<<d},_=function(d,S){return f(d&S-1)},g=function(d,S,R,E){var A=E;if(!d){var $=E.length;A=new Array($);for(var L=0;L<$;++L)A[L]=E[L]}return A[S]=R,A},k=function(d,S,R){var E=R.length-1,A=0,$=0,L=R;if(d)A=$=S;else for(L=new Array(E);A<S;)L[$++]=R[A++];for(++A;A<=E;)L[$++]=R[A++];return d&&(L.length=E),L},W=function(d,S,R,E){var A=E.length;if(d){for(var $=A;$>=S;)E[$--]=E[$];return E[S]=R,E}for(var L=0,M=0,P=new Array(A+1);L<S;)P[M++]=E[L++];for(P[S]=R;L<A;)P[++M]=E[L++];return P},N=1,B=2,se=3,G=4,ne={__hamt_isEmpty:!0},ie=function(d){return d===ne||d&&d.__hamt_isEmpty},Ce=function(d,S,R,E){return{type:N,edit:d,hash:S,key:R,value:E,_modify:wn}},dt=function(d,S,R){return{type:B,edit:d,hash:S,children:R,_modify:Rn}},he=function(d,S,R){return{type:se,edit:d,mask:S,children:R,_modify:q}},le=function(d,S,R){return{type:G,edit:d,size:S,children:R,_modify:F}},qt=function(d){return d===ne||d.type===N||d.type===B},ye=function(d,S,R,E,A){for(var $=[],L=E,M=0,P=0;L;++P)L&1&&($[P]=A[M++]),L>>>=1;return $[S]=R,le(d,M+1,$)},De=function(d,S,R,E){for(var A=new Array(S-1),$=0,L=0,M=0,P=E.length;M<P;++M)if(M!==R){var oe=E[M];oe&&!ie(oe)&&(A[$++]=oe,L|=1<<M)}return he(d,L,A)},Sn=function h(d,S,R,E,A,$){if(R===A)return dt(d,R,[$,E]);var L=p(S,R),M=p(S,A);return he(d,y(L)|y(M),L===M?[h(d,S+r,R,E,A,$)]:L<M?[E,$]:[$,E])},bn=function(d,S,R,E,A,$,L,M){for(var P=A.length,oe=0;oe<P;++oe){var Oe=A[oe];if(R(L,Oe.key)){var ve=Oe.value,Fe=$(ve);return Fe===ve?A:Fe===u?(--M.value,k(d,oe,A)):g(d,oe,Ce(S,E,L,Fe),A)}}var Ze=$();return Ze===u?A:(++M.value,g(d,P,Ce(S,E,L,Ze),A))},ht=function(d,S){return d===S.edit},wn=function(d,S,R,E,A,$,L){if(S($,this.key)){var M=E(this.value);return M===this.value?this:M===u?(--L.value,ne):ht(d,this)?(this.value=M,this):Ce(d,A,$,M)}var P=E();return P===u?this:(++L.value,Sn(d,R,this.hash,this,A,Ce(d,A,$,P)))},Rn=function(d,S,R,E,A,$,L){if(A===this.hash){var M=ht(d,this),P=bn(M,d,S,this.hash,this.children,E,$,L);return P===this.children?this:P.length>1?dt(d,this.hash,P):P[0]}var oe=E();return oe===u?this:(++L.value,Sn(d,R,this.hash,this,A,Ce(d,A,$,oe)))},q=function(d,S,R,E,A,$,L){var M=this.mask,P=this.children,oe=p(R,A),Oe=y(oe),ve=_(M,Oe),Fe=M&Oe,Ze=Fe?P[ve]:ne,En=Ze._modify(d,S,R+r,E,A,$,L);if(Ze===En)return this;var So=ht(d,this),sr=M,ur=void 0;if(Fe&&ie(En)){if(sr&=~Oe,!sr)return ne;if(P.length<=2&&qt(P[ve^1]))return P[ve^1];ur=k(So,ve,P)}else if(!Fe&&!ie(En)){if(P.length>=a)return ye(d,oe,En,M,P);sr|=Oe,ur=W(So,ve,En,P)}else ur=g(So,ve,En,P);return So?(this.mask=sr,this.children=ur,this):he(d,sr,ur)},F=function(d,S,R,E,A,$,L){var M=this.size,P=this.children,oe=p(R,A),Oe=P[oe],ve=(Oe||ne)._modify(d,S,R+r,E,A,$,L);if(Oe===ve)return this;var Fe=ht(d,this),Ze=void 0;if(ie(Oe)&&!ie(ve))++M,Ze=g(Fe,oe,ve,P);else if(!ie(Oe)&&ie(ve)){if(--M,M<=s)return De(d,M,oe,P);Ze=g(Fe,oe,ne,P)}else Ze=g(Fe,oe,ve,P);return Fe?(this.size=M,this.children=Ze,this):le(d,M,Ze)};ne._modify=function(h,d,S,R,E,A,$){var L=R();return L===u?ne:(++$.value,Ce(h,E,A,L))};function v(h,d,S,R,E){this._editable=h,this._edit=d,this._config=S,this._root=R,this._size=E}v.prototype.setTree=function(h,d){return this._editable?(this._root=h,this._size=d,this):h===this._root?this:new v(this._editable,this._edit,this._config,h,d)};var b=n.tryGetHash=function(h,d,S,R){for(var E=R._root,A=0,$=R._config.keyEq;;)switch(E.type){case N:return $(S,E.key)?E.value:h;case B:{if(d===E.hash)for(var L=E.children,M=0,P=L.length;M<P;++M){var oe=L[M];if($(S,oe.key))return oe.value}return h}case se:{var Oe=p(A,d),ve=y(Oe);if(E.mask&ve){E=E.children[_(E.mask,ve)],A+=r;break}return h}case G:{if(E=E.children[p(A,d)],E){A+=r;break}return h}default:return h}};v.prototype.tryGetHash=function(h,d,S){return b(h,d,S,this)};var w=n.tryGet=function(h,d,S){return b(h,S._config.hash(d),d,S)};v.prototype.tryGet=function(h,d){return w(h,d,this)};var C=n.getHash=function(h,d,S){return b(void 0,h,d,S)};v.prototype.getHash=function(h,d){return C(h,d,this)},n.get=function(h,d){return b(void 0,d._config.hash(h),h,d)},v.prototype.get=function(h,d){return w(d,h,this)};var T=n.has=function(h,d,S){return b(u,h,d,S)!==u};v.prototype.hasHash=function(h,d){return T(h,d,this)};var z=n.has=function(h,d){return T(d._config.hash(h),h,d)};v.prototype.has=function(h){return z(h,this)};var V=function(d,S){return d===S};n.make=function(h){return new v(0,0,{keyEq:h&&h.keyEq||V,hash:h&&h.hash||l},ne,0)},n.empty=n.make();var I=n.isEmpty=function(h){return h&&!!ie(h._root)};v.prototype.isEmpty=function(){return I(this)};var re=n.modifyHash=function(h,d,S,R){var E={value:R._size},A=R._root._modify(R._editable?R._edit:NaN,R._config.keyEq,0,h,d,S,E);return R.setTree(A,E.value)};v.prototype.modifyHash=function(h,d,S){return re(S,h,d,this)};var pe=n.modify=function(h,d,S){return re(h,S._config.hash(d),d,S)};v.prototype.modify=function(h,d){return pe(d,h,this)};var K=n.setHash=function(h,d,S,R){return re(c(S),h,d,R)};v.prototype.setHash=function(h,d,S){return K(h,d,S,this)};var ae=n.set=function(h,d,S){return K(S._config.hash(h),h,d,S)};v.prototype.set=function(h,d){return ae(h,d,this)};var pt=c(u),jt=n.removeHash=function(h,d,S){return re(pt,h,d,S)};v.prototype.removeHash=v.prototype.deleteHash=function(h,d){return jt(h,d,this)};var Xe=n.remove=function(h,d){return jt(d._config.hash(h),h,d)};v.prototype.remove=v.prototype.delete=function(h){return Xe(h,this)};var ke=n.beginMutation=function(h){return new v(h._editable+1,h._edit+1,h._config,h._root,h._size)};v.prototype.beginMutation=function(){return ke(this)};var Bl=n.endMutation=function(h){return h._editable=h._editable&&h._editable-1,h};v.prototype.endMutation=function(){return Bl(this)};var XS=n.mutate=function(h,d){var S=ke(d);return h(S),Bl(S)};v.prototype.mutate=function(h){return XS(h,this)};var ha=function(d){return d&&Fl(d[0],d[1],d[2],d[3],d[4])},Fl=function(d,S,R,E,A){for(;R<d;){var $=S[R++];if($&&!ie($))return ql($,E,[d,S,R,E,A])}return ha(A)},ql=function(d,S,R){switch(d.type){case N:return{value:S(d),rest:R};case B:case G:case se:var E=d.children;return Fl(E.length,E,0,S,R);default:return ha(R)}},ZS={done:!0};function pa(h){this.v=h}pa.prototype.next=function(){if(!this.v)return ZS;var h=this.v;return this.v=ha(h.rest),h},pa.prototype[Symbol.iterator]=function(){return this};var va=function(d,S){return new pa(ql(d._root,S))},QS=function(d){return[d.key,d.value]},eb=n.entries=function(h){return va(h,QS)};v.prototype.entries=v.prototype[Symbol.iterator]=function(){return eb(this)};var tb=function(d){return d.key},nb=n.keys=function(h){return va(h,tb)};v.prototype.keys=function(){return nb(this)};var rb=function(d){return d.value},ob=n.values=v.prototype.values=function(h){return va(h,rb)};v.prototype.values=function(){return ob(this)};var jl=n.fold=function(h,d,S){var R=S._root;if(R.type===N)return h(d,R.value,R.key);for(var E=[R.children],A=void 0;A=E.pop();)for(var $=0,L=A.length;$<L;){var M=A[$++];M&&M.type&&(M.type===N?d=h(d,M.value,M.key):E.push(M.children))}return d};v.prototype.fold=function(h,d){return jl(h,d,this)};var ib=n.forEach=function(h,d){return jl(function(S,R,E){return h(R,E,d)},null,d)};v.prototype.forEach=function(h){return ib(h,this)};var ab=n.count=function(h){return h._size};v.prototype.count=function(){return ab(this)},Object.defineProperty(v.prototype,"size",{get:v.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n});class If{constructor(t){O(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,n){return this._map.set(t,n),this}delete(t){return this._map.delete(t),this}clone(){return xo(this)}toMap(){return new Map(this._map)}}class Oo{constructor(t){if(O(this,"_hamt",Nf.empty.beginMutation()),t instanceof Oo){const n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t)for(const[n,r]of t.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,n){return this._hamt.set(t,n),this}delete(t){return this._hamt.delete(t),this}clone(){return xo(this)}toMap(){return new Map(this._hamt)}}function xo(e){return H("recoil_hamt_2020")?new Oo(e):new If(e)}var Lf={persistentMap:xo},Mf=Lf.persistentMap,$f=Object.freeze({__proto__:null,persistentMap:Mf});function Cf(e,...t){const n=new Set;e:for(const r of e){for(const o of t)if(o.has(r))continue e;n.add(r)}return n}var $n=Cf;function Of(e,t){const n=new Map;return e.forEach((r,o)=>{n.set(o,t(r,o))}),n}var mr=Of;function xf(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function Pf(e){return{nodeDeps:mr(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:mr(e.nodeToNodeSubscriptions,t=>new Set(t))}}function Po(e,t,n,r){const{nodeDeps:o,nodeToNodeSubscriptions:i}=n,a=o.get(e);if(a&&r&&a!==r.nodeDeps.get(e))return;o.set(e,t);const s=a==null?t:$n(t,a);for(const u of s)i.has(u)||i.set(u,new Set),Q(i.get(u)).add(e);if(a){const u=$n(a,t);for(const c of u){if(!i.has(c))return;const l=Q(i.get(c));l.delete(e),l.size===0&&i.delete(c)}}}function Df(e,t,n,r){var o,i,a,s;const u=n.getState();r===u.currentTree.version||r===((o=u.nextTree)===null||o===void 0?void 0:o.version)||((i=u.previousTree)===null||i===void 0||i.version);const c=n.getGraph(r);if(Po(e,t,c),r===((a=u.previousTree)===null||a===void 0?void 0:a.version)){const f=n.getGraph(u.currentTree.version);Po(e,t,f,c)}if(r===((s=u.previousTree)===null||s===void 0?void 0:s.version)||r===u.currentTree.version){var l;const f=(l=u.nextTree)===null||l===void 0?void 0:l.version;if(f!==void 0){const p=n.getGraph(f);Po(e,t,p,c)}}}var Cn={cloneGraph:Pf,graph:xf,saveDepsToStore:Df};let kf=0;const Vf=()=>kf++;let zf=0;const Uf=()=>zf++;let Bf=0;var gr={getNextTreeStateVersion:Vf,getNextStoreID:Uf,getNextComponentID:()=>Bf++};const{persistentMap:Va}=$f,{graph:Ff}=Cn,{getNextTreeStateVersion:za}=gr;function Ua(){const e=za();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Va(),nonvalidatedAtoms:Va()}}function qf(){const e=Ua();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,Ff()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Ba={makeEmptyTreeState:Ua,makeEmptyStoreState:qf,getNextTreeStateVersion:za};class Fa{}function jf(){return new Fa}var Sr={RetentionZone:Fa,retentionZone:jf};function Wf(e,t){const n=new Set(e);return n.add(t),n}function Kf(e,t){const n=new Set(e);return n.delete(t),n}function Hf(e,t,n){const r=new Map(e);return r.set(t,n),r}function Gf(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r}function Yf(e,t){const n=new Map(e);return n.delete(t),n}function Jf(e,t){const n=new Map(e);return t.forEach(r=>n.delete(r)),n}var qa={setByAddingToSet:Wf,setByDeletingFromSet:Kf,mapBySettingInMap:Hf,mapByUpdatingInMap:Gf,mapByDeletingFromMap:Yf,mapByDeletingMultipleFromMap:Jf};function*Xf(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)}var Do=Xf;function Zf(e,t){return new Proxy(e,{get:(r,o)=>(!(o in r)&&o in t&&(r[o]=t[o]()),r[o]),ownKeys:r=>Object.keys(r)})}var ja=Zf;const{getNode:On,getNodeMaybe:Qf,recoilValuesForKeys:Wa}=Ee,{RetentionZone:Ka}=Sr,{setByAddingToSet:ed}=qa,td=Object.freeze(new Set);class nd extends Error{}function rd(e,t,n){if(!H("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function o(i){let a=r.get(i);a||r.set(i,a=new Set),a.add(t)}if(n instanceof Ka)o(n);else if(Array.isArray(n))for(const i of n)o(i);return()=>{if(!H("recoil_memory_managament_2020"))return;const{retention:i}=e.getState();function a(s){const u=i.nodesRetainedByZone.get(s);u==null||u.delete(t),u&&u.size===0&&i.nodesRetainedByZone.delete(s)}if(n instanceof Ka)a(n);else if(Array.isArray(n))for(const s of n)a(s)}}function ko(e,t,n,r){const o=e.getState();if(o.nodeCleanupFunctions.has(n))return;const i=On(n),a=rd(e,n,i.retainedBy),s=i.init(e,t,r);o.nodeCleanupFunctions.set(n,()=>{s(),a()})}function od(e,t,n){ko(e,e.getState().currentTree,t,n)}function id(e,t){var n;const r=e.getState();(n=r.nodeCleanupFunctions.get(t))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(t)}function ad(e,t,n){return ko(e,t,n,"get"),On(n).get(e,t)}function Ha(e,t,n){return On(n).peek(e,t)}function sd(e,t,n){var r;const o=Qf(t);return o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:ed(e.dirtyAtoms,t)}}function ud(e,t,n,r){const o=On(n);if(o.set==null)throw new nd(`Attempt to set read-only RecoilValue: ${n}`);const i=o.set;return ko(e,t,n,"set"),i(e,t,r)}function cd(e,t,n){const r=e.getState(),o=e.getGraph(t.version),i=On(n).nodeType;return ja({type:i},{loadable:()=>Ha(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var a;return Wa((a=o.nodeDeps.get(n))!==null&&a!==void 0?a:[])},subscribers:()=>{var a,s;return{nodes:Wa(Do(Ga(e,t,new Set([n])),u=>u!==n)),components:_r((a=(s=r.nodeToComponentSubscriptions.get(n))===null||s===void 0?void 0:s.values())!==null&&a!==void 0?a:[],([u])=>({name:u}))}}})}function Ga(e,t,n){const r=new Set,o=Array.from(n),i=e.getGraph(t.version);for(let s=o.pop();s;s=o.pop()){var a;r.add(s);const u=(a=i.nodeToNodeSubscriptions.get(s))!==null&&a!==void 0?a:td;for(const c of u)r.has(c)||o.push(c)}return r}var _t={getNodeLoadable:ad,peekNodeLoadable:Ha,setNodeValue:ud,initializeNode:od,cleanUpNode:id,setUnvalidatedAtomValue_DEPRECATED:sd,peekNodeInfo:cd,getDownstreamNodes:Ga};let Ya=null;function ld(e){Ya=e}function fd(){var e;(e=Ya)===null||e===void 0||e()}var Ja={setInvalidateMemoizedSnapshot:ld,invalidateMemoizedSnapshot:fd};const{getDownstreamNodes:dd,getNodeLoadable:Xa,setNodeValue:hd}=_t,{getNextComponentID:pd}=gr,{getNode:vd,getNodeMaybe:Za}=Ee,{DefaultValue:Vo,RecoilValueNotReady:_d}=Ee,{reactMode:yd}=Mn,{AbstractRecoilValue:md,RecoilState:gd,RecoilValueReadOnly:Sd,isRecoilValue:bd}=Kt,{invalidateMemoizedSnapshot:wd}=Ja;function Rd(e,{key:t},n=e.getState().currentTree){var r,o;const i=e.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(o=i.previousTree)===null||o===void 0||o.version);const a=Xa(e,n,t);return a.state==="loading"&&a.contents.catch(()=>{}),a}function Ed(e,t){const n=e.clone();return t.forEach((r,o)=>{r.state==="hasValue"&&r.contents instanceof Vo?n.delete(o):n.set(o,r)}),n}function Ad(e,t,{key:n},r){if(typeof r=="function"){const o=Xa(e,t,n);if(o.state==="loading")throw new _d(n);if(o.state==="hasError")throw o.contents;return r(o.contents)}else return r}function Td(e,t,n){if(n.type==="set"){const{recoilValue:o,valueOrUpdater:i}=n,a=Ad(e,t,o,i),s=hd(e,t,o.key,a);for(const[u,c]of s.entries())zo(t,u,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:o},loadable:i}=n;zo(t,o,i)}else if(n.type==="markModified"){const{recoilValue:{key:o}}=n;t.dirtyAtoms.add(o)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:o},unvalidatedValue:i}=n,a=Za(o);a==null||(r=a.invalidate)===null||r===void 0||r.call(a,t),t.atomValues.delete(o),t.nonvalidatedAtoms.set(o,i),t.dirtyAtoms.add(o)}else $o(`Unknown action ${n.type}`)}function zo(e,t,n){n.state==="hasValue"&&n.contents instanceof Vo?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Qa(e,t){e.replaceState(n=>{const r=es(n);for(const o of t)Td(e,r,o);return ts(e,r),wd(),r})}function br(e,t){if(xn.length){const n=xn[xn.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else Qa(e,[t])}const xn=[];function Nd(){const e=new Map;return xn.push(e),()=>{for(const[t,n]of e)Qa(t,n);xn.pop()}}function es(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function ts(e,t){const n=dd(e,t,t.dirtyAtoms);for(const i of n){var r,o;(r=Za(i))===null||r===void 0||(o=r.invalidate)===null||o===void 0||o.call(r,t)}}function ns(e,t,n){br(e,{type:"set",recoilValue:t,valueOrUpdater:n})}function Id(e,t,n){if(n instanceof Vo)return ns(e,t,n);br(e,{type:"setLoadable",recoilValue:t,loadable:n})}function Ld(e,t){br(e,{type:"markModified",recoilValue:t})}function Md(e,t,n){br(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})}function $d(e,{key:t},n,r=null){const o=pd(),i=e.getState();i.nodeToComponentSubscriptions.has(t)||i.nodeToComponentSubscriptions.set(t,new Map),Q(i.nodeToComponentSubscriptions.get(t)).set(o,[r!=null?r:"<not captured>",n]);const a=yd();if(a.early&&(a.mode==="LEGACY"||a.mode==="MUTABLE_SOURCE")){const s=e.getState().nextTree;s&&s.dirtyAtoms.has(t)&&n(s)}return{release:()=>{const s=e.getState(),u=s.nodeToComponentSubscriptions.get(t);u===void 0||!u.has(o)||(u.delete(o),u.size===0&&s.nodeToComponentSubscriptions.delete(t))}}}function Cd(e,t){var n;const{currentTree:r}=e.getState(),o=vd(t.key);(n=o.clearCache)===null||n===void 0||n.call(o,e,r)}var Qe={RecoilValueReadOnly:Sd,AbstractRecoilValue:md,RecoilState:gd,getRecoilValueAsLoadable:Rd,setRecoilValue:ns,setRecoilValueLoadable:Id,markRecoilValueModified:Ld,setUnvalidatedRecoilValue:Md,subscribeToRecoilValue:$d,isRecoilValue:bd,applyAtomValueWrites:Ed,batchStart:Nd,writeLoadableToTreeState:zo,invalidateDownstreams:ts,copyTreeState:es,refreshRecoilValue:Cd};function Od(e,t,n){const r=e.entries();let o=r.next();for(;!o.done;){const i=o.value;if(t.call(n,i[1],i[0],e))return!0;o=r.next()}return!1}var xd=Od;const{cleanUpNode:Pd}=_t,{deleteNodeConfigIfPossible:Dd,getNode:rs}=Ee,{RetentionZone:os}=Sr,kd=12e4,is=new Set;function as(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return;const o=new Set;for(const a of t)if(a instanceof os)for(const s of Bd(n,a))o.add(s);else o.add(a);const i=Vd(e,o);for(const a of i)Ud(e,r,a)}function Vd(e,t){const n=e.getState(),r=n.currentTree,o=e.getGraph(r.version),i=new Set,a=new Set;return s(t),i;function s(u){const c=new Set,l=zd(e,r,u,i,a);for(const _ of l){var f;if(rs(_).retainedBy==="recoilRoot"){a.add(_);continue}if(((f=n.retention.referenceCounts.get(_))!==null&&f!==void 0?f:0)>0){a.add(_);continue}if(ss(_).some(k=>n.retention.referenceCounts.get(k))){a.add(_);continue}const g=o.nodeToNodeSubscriptions.get(_);if(g&&xd(g,k=>a.has(k))){a.add(_);continue}i.add(_),c.add(_)}const p=new Set;for(const _ of c)for(const g of(y=o.nodeDeps.get(_))!==null&&y!==void 0?y:is){var y;i.has(g)||p.add(g)}p.size&&s(p)}}function zd(e,t,n,r,o){const i=e.getGraph(t.version),a=[],s=new Set;for(;n.size>0;)u(Q(n.values().next().value));return a;function u(c){if(r.has(c)||o.has(c)){n.delete(c);return}if(s.has(c))return;const l=i.nodeToNodeSubscriptions.get(c);if(l)for(const f of l)u(f);s.add(c),n.delete(c),a.push(c)}}function Ud(e,t,n){if(!H("recoil_memory_managament_2020"))return;Pd(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const o=ss(n);for(const u of o){var i;(i=r.retention.nodesRetainedByZone.get(u))===null||i===void 0||i.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const a=r.graphsByVersion.get(t.version);if(a){const u=a.nodeDeps.get(n);if(u!==void 0){a.nodeDeps.delete(n);for(const c of u){var s;(s=a.nodeToNodeSubscriptions.get(c))===null||s===void 0||s.delete(n)}}a.nodeToNodeSubscriptions.delete(n)}Dd(n)}function Bd(e,t){var n;return(n=e.retention.nodesRetainedByZone.get(t))!==null&&n!==void 0?n:is}function ss(e){const t=rs(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof os?[t]:t}function Fd(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):as(e,new Set([t]))}function qd(e,t,n){var r;if(!H("recoil_memory_managament_2020"))return;const o=e.getState().retention.referenceCounts,i=((r=o.get(t))!==null&&r!==void 0?r:0)+n;i===0?us(e,t):o.set(t,i)}function us(e,t){if(!H("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),Fd(e,t)}function jd(e){if(!H("recoil_memory_managament_2020"))return;const t=e.getState();as(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function Wd(e){return e===void 0?"recoilRoot":e}var Lt={SUSPENSE_TIMEOUT_MS:kd,updateRetainCount:qd,updateRetainCountToZero:us,releaseScheduledRetainablesNow:jd,retainedByOptionWithDefault:Wd};const{unstable_batchedUpdates:Kd}=bo;var Hd={unstable_batchedUpdates:Kd};const{unstable_batchedUpdates:Gd}=Hd;var Yd={unstable_batchedUpdates:Gd};const{batchStart:Jd}=Qe,{unstable_batchedUpdates:Xd}=Yd;let Uo=Xd;var wr={getBatcher:()=>Uo,setBatcher:e=>{Uo=e},batchUpdates:e=>{Uo(()=>{let t=()=>{};try{t=Jd(),e()}finally{t()}})}};function*Zd(e){for(const t of e)for(const n of t)yield n}var cs=Zd;const ls=typeof Window=="undefined"||typeof window=="undefined",Qd=e=>!ls&&(e===window||e instanceof Window),eh=typeof navigator!="undefined"&&navigator.product==="ReactNative";var Bo={isSSR:ls,isReactNative:eh,isWindow:Qd};function th(e,t){let n;return(...o)=>{n||(n={});const i=t(...o);return Object.hasOwnProperty.call(n,i)||(n[i]=e(...o)),n[i]}}function nh(e,t){let n,r;return(...i)=>{const a=t(...i);return n===a||(n=a,r=e(...i)),r}}function rh(e,t){let n,r;return[(...a)=>{const s=t(...a);return n===s||(n=s,r=e(...a)),r},()=>{n=null}]}var oh={memoizeWithArgsHash:th,memoizeOneWithArgsHash:nh,memoizeOneWithArgsHashAndInvalidation:rh};const{batchUpdates:Fo}=wr,{initializeNode:ih,peekNodeInfo:ah}=_t,{graph:sh}=Cn,{getNextStoreID:uh}=gr,{DEFAULT_VALUE:ch,recoilValues:fs,recoilValuesForKeys:ds}=Ee,{AbstractRecoilValue:lh,getRecoilValueAsLoadable:fh,setRecoilValue:hs,setUnvalidatedRecoilValue:dh}=Qe,{updateRetainCount:Rr}=Lt,{setInvalidateMemoizedSnapshot:hh}=Ja,{getNextTreeStateVersion:ph,makeEmptyStoreState:vh}=Ba,{isSSR:_h}=Bo,{memoizeOneWithArgsHashAndInvalidation:yh}=oh;class Er{constructor(t){O(this,"_store",void 0),O(this,"_refCount",1),O(this,"getLoadable",n=>(this.checkRefCount_INTERNAL(),fh(this._store,n))),O(this,"getPromise",n=>(this.checkRefCount_INTERNAL(),this.getLoadable(n).toPromise())),O(this,"getNodes_UNSTABLE",n=>{if(this.checkRefCount_INTERNAL(),(n==null?void 0:n.isModified)===!0){if((n==null?void 0:n.isInitialized)===!1)return[];const i=this._store.getState().currentTree;return ds(i.dirtyAtoms)}const r=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(n==null?void 0:n.isInitialized)==null?fs.values():n.isInitialized===!0?ds(cs([r,o])):Do(fs.values(),({key:i})=>!r.has(i)&&!o.has(i))}),O(this,"getInfo_UNSTABLE",({key:n})=>(this.checkRefCount_INTERNAL(),ah(this._store,this._store.getState().currentTree,n))),O(this,"map",n=>{this.checkRefCount_INTERNAL();const r=new qo(this,Fo);return n(r),r}),O(this,"asyncMap",async n=>{this.checkRefCount_INTERNAL();const r=new qo(this,Fo);return r.retain(),await n(r),r.autoRelease_INTERNAL(),r}),this._store={storeID:uh(),getState:()=>t,replaceState:n=>{t.currentTree=n(t.currentTree)},getGraph:n=>{const r=t.graphsByVersion;if(r.has(n))return Q(r.get(n));const o=sh();return r.set(n,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw D("Cannot subscribe to Snapshots")}};for(const n of this._store.getState().knownAtoms)ih(this._store,n,"get"),Rr(this._store,n,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let t=!1;return()=>{t||(t=!0,this._release())}}autoRelease_INTERNAL(){_h||window.setTimeout(()=>this._release(),0)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(t=>t()),this._store.getState().nodeCleanupFunctions.clear(),!H("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){H("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function ps(e,t,n=!1){const r=e.getState(),o=n?ph():t.version;return{currentTree:{version:n?o:t.version,stateID:n?o:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(o,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(_r(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function mh(e){const t=new Er(vh());return e!=null?t.map(e):t}const[vs,_s]=yh((e,t)=>{var n;const r=e.getState(),o=t==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Q(r.previousTree);return new Er(ps(e,o))},(e,t)=>{var n,r;return String(t)+String(e.storeID)+String((n=e.getState().nextTree)===null||n===void 0?void 0:n.version)+String(e.getState().currentTree.version)+String((r=e.getState().previousTree)===null||r===void 0?void 0:r.version)});hh(_s);function gh(e,t="latest"){const n=vs(e,t);return n.isRetained()?n:(_s(),vs(e,t))}class qo extends Er{constructor(t,n){super(ps(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),O(this,"_batch",void 0),O(this,"set",(r,o)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Rr(i,r.key,1),hs(this.getStore_INTERNAL(),r,o)})}),O(this,"reset",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Rr(o,r.key,1),hs(this.getStore_INTERNAL(),r,ch)})}),O(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();Fo(()=>{for(const[i,a]of r.entries())Rr(o,i,1),dh(o,new lh(i),a)})}),this._batch=n}}var Ar={Snapshot:Er,MutableSnapshot:qo,freshSnapshot:mh,cloneSnapshot:gh},Sh=Ar.Snapshot,bh=Ar.MutableSnapshot,wh=Ar.freshSnapshot,Rh=Ar.cloneSnapshot,Tr=Object.freeze({__proto__:null,Snapshot:Sh,MutableSnapshot:bh,freshSnapshot:wh,cloneSnapshot:Rh});function Eh(...e){const t=new Set;for(const n of e)for(const r of n)t.add(r);return t}var Ah=Eh;const{useRef:Th}=m;function Nh(e){const t=Th(e);return t.current===e&&typeof e=="function"&&(t.current=e()),t}var ys=Nh;const{getNextTreeStateVersion:Ih,makeEmptyStoreState:ms}=Ba,{cleanUpNode:Lh,getDownstreamNodes:Mh,initializeNode:$h,setNodeValue:Ch,setUnvalidatedAtomValue_DEPRECATED:Oh}=_t,{graph:xh}=Cn,{cloneGraph:Ph}=Cn,{getNextStoreID:gs}=gr,{createMutableSource:jo,reactMode:Ss}=Mn,{applyAtomValueWrites:Dh}=Qe,{releaseScheduledRetainablesNow:bs}=Lt,{freshSnapshot:kh}=Tr,{useCallback:Vh,useContext:ws,useEffect:Wo,useMemo:zh,useRef:Uh,useState:Bh}=m;function Pn(){throw D("This component must be used inside a <RecoilRoot> component.")}const Rs=Object.freeze({storeID:gs(),getState:Pn,replaceState:Pn,getGraph:Pn,subscribeToTransactions:Pn,addTransactionMetadata:Pn});let Ko=!1;function Es(e){if(Ko)throw D("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(t.nextTree===null){H("recoil_memory_managament_2020")&&H("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&bs(e);const n=t.currentTree.version,r=Ih();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,Ph(Q(t.graphsByVersion.get(n))))}}const As=m.createContext({current:Rs}),Nr=()=>ws(As),Ts=m.createContext(null);function Fh(){return ws(Ts)}function Ho(e,t,n){const r=Mh(e,n,n.dirtyAtoms);for(const o of r){const i=t.nodeToComponentSubscriptions.get(o);if(i)for(const[a,[s,u]]of i)u(n)}}function Ns(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[o,i]of t.nodeTransactionSubscriptions)if(r.has(o))for(const[a,s]of i)s(e);for(const[o,i]of t.transactionSubscriptions)i(e);(!Ss().early||t.suspendedComponentResolvers.size>0)&&(Ho(e,t,n),t.suspendedComponentResolvers.forEach(o=>o()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(o=>o(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function qh(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(n==null)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Ns(e),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):$o("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,H("recoil_memory_managament_2020")&&n==null&&bs(e)}finally{t.commitDepth--}}function jh({setNotifyBatcherOfChange:e}){const t=Nr(),[,n]=Bh([]);return e(()=>n({})),Wo(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),Wo(()=>{Af.enqueueExecution("Batcher",()=>{qh(t.current)})}),null}function Wh(e,t){const n=ms();return t({set:(r,o)=>{const i=n.currentTree,a=Ch(e,i,r.key,o),s=new Set(a.keys()),u=i.nonvalidatedAtoms.clone();for(const c of s)u.delete(c);n.currentTree={...i,dirtyAtoms:Ah(i.dirtyAtoms,s),atomValues:Dh(i.atomValues,a),nonvalidatedAtoms:u}},setUnvalidatedAtomValues:r=>{r.forEach((o,i)=>{n.currentTree=Oh(n.currentTree,i,o)})}}),n}function Kh(e){const t=kh().map(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let Is=0;function Hh({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let o;const i=y=>{const _=o.current.graphsByVersion;if(_.has(y))return Q(_.get(y));const g=xh();return _.set(y,g),g},a=(y,_)=>{if(_==null){const{transactionSubscriptions:g}=f.current.getState(),k=Is++;return g.set(k,y),{release:()=>{g.delete(k)}}}else{const{nodeTransactionSubscriptions:g}=f.current.getState();g.has(_)||g.set(_,new Map);const k=Is++;return Q(g.get(_)).set(k,y),{release:()=>{const W=g.get(_);W&&(W.delete(k),W.size===0&&g.delete(_))}}}},s=y=>{Es(f.current);for(const _ of Object.keys(y))Q(f.current.getState().nextTree).transactionMetadata[_]=y[_]},u=y=>{Es(f.current);const _=Q(o.current.nextTree);let g;try{Ko=!0,g=y(_)}finally{Ko=!1}g!==_&&(o.current.nextTree=g,Ss().early&&Ho(f.current,o.current,g),Q(c.current)())},c=Uh(null),l=Vh(y=>{c.current=y},[c]),f=ys(()=>n!=null?n:{storeID:gs(),getState:()=>o.current,replaceState:u,getGraph:i,subscribeToTransactions:a,addTransactionMetadata:s});n!=null&&(f.current=n),o=ys(()=>e!=null?Wh(f.current,e):t!=null?Kh(t):ms());const p=zh(()=>jo==null?void 0:jo(o,()=>o.current.currentTree.version),[o]);return Wo(()=>{const y=f.current;for(const _ of new Set(y.getState().knownAtoms))$h(y,_,"get");return()=>{for(const _ of y.getState().knownAtoms)Lh(y,_)}},[f]),m.createElement(As.Provider,{value:f},m.createElement(Ts.Provider,{value:p},m.createElement(jh,{setNotifyBatcherOfChange:l}),r))}function Gh(e){const{override:t,...n}=e,r=Nr();return t===!1&&r.current!==Rs?e.children:m.createElement(Hh,n)}function Yh(){return Nr().current.storeID}var it={RecoilRoot:Gh,useStoreRef:Nr,useRecoilMutableSource:Fh,useRecoilStoreID:Yh,notifyComponents_FOR_TESTING:Ho,sendEndOfBatchNotifications_FOR_TESTING:Ns};function Jh(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var Xh=Jh;const{useEffect:Zh,useRef:Qh}=m;function ep(e){const t=Qh();return Zh(()=>{t.current=e}),t.current}var Ls=ep;const{useStoreRef:tp}=it,{SUSPENSE_TIMEOUT_MS:np}=Lt,{updateRetainCount:Dn}=Lt,{RetentionZone:rp}=Sr,{useEffect:op,useRef:ip}=m,{isSSR:Ms}=Bo;function ap(e){if(!!H("recoil_memory_managament_2020"))return sp(e)}function sp(e){const n=(Array.isArray(e)?e:[e]).map(a=>a instanceof rp?a:a.key),r=tp();op(()=>{if(!H("recoil_memory_managament_2020"))return;const a=r.current;if(o.current&&!Ms)window.clearTimeout(o.current),o.current=null;else for(const s of n)Dn(a,s,1);return()=>{for(const s of n)Dn(a,s,-1)}},[r,...n]);const o=ip(),i=Ls(n);if(!Ms&&(i===void 0||!Xh(i,n))){const a=r.current;for(const s of n)Dn(a,s,1);if(i)for(const s of i)Dn(a,s,-1);o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{o.current=null;for(const s of n)Dn(a,s,-1)},np)}}var Go=ap;function up(){return"<component name not available>"}var kn=up;const{batchUpdates:cp}=wr,{DEFAULT_VALUE:$s}=Ee,{reactMode:Ht,useMutableSource:lp,useSyncExternalStore:fp}=Mn,{useRecoilMutableSource:dp,useStoreRef:et}=it,{AbstractRecoilValue:Yo,getRecoilValueAsLoadable:Vn,setRecoilValue:Ir,setUnvalidatedRecoilValue:hp,subscribeToRecoilValue:Gt}=Qe,{useCallback:Ae,useEffect:Yt,useMemo:Cs,useRef:zn,useState:Jo}=m,{setByAddingToSet:pp}=qa;function Xo(e,t,n){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(o=>{n.current.getState().suspendedComponentResolvers.add(o)}):e.state==="hasError"?e.contents:D(`Invalid value of loadable atom "${t.key}"`)}function vp(){const e=kn(),t=et(),[,n]=Jo([]),r=zn(new Set);r.current=new Set;const o=zn(new Set),i=zn(new Map),a=Ae(u=>{const c=i.current.get(u);c&&(c.release(),i.current.delete(u))},[i]),s=Ae((u,c)=>{i.current.has(c)&&n([])},[]);return Yt(()=>{const u=t.current;$n(r.current,o.current).forEach(c=>{if(i.current.has(c))return;const l=Gt(u,new Yo(c),p=>s(p,c),e);i.current.set(c,l),u.getState().nextTree?u.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s(u.getState(),c)}):s(u.getState(),c)}),$n(o.current,r.current).forEach(c=>{a(c)}),o.current=r.current}),Yt(()=>{const u=i.current;return $n(r.current,new Set(u.keys())).forEach(c=>{const l=Gt(t.current,new Yo(c),f=>s(f,c),e);u.set(c,l)}),()=>u.forEach((c,l)=>a(l))},[e,t,a,s]),Cs(()=>{function u(_){return g=>{Ir(t.current,_,g)}}function c(_){return()=>Ir(t.current,_,$s)}function l(_){var g;r.current.has(_.key)||(r.current=pp(r.current,_.key));const k=t.current.getState();return Vn(t.current,_,Ht().early&&(g=k.nextTree)!==null&&g!==void 0?g:k.currentTree)}function f(_){const g=l(_);return Xo(g,_,t)}function p(_){return[f(_),u(_)]}function y(_){return[l(_),u(_)]}return{getRecoilValue:f,getRecoilValueLoadable:l,getRecoilState:p,getRecoilStateLoadable:y,getSetRecoilState:u,getResetRecoilState:c}},[r,t])}const _p={current:0};function yp(e){const t=et(),n=kn(),r=Ae(()=>{var s;const u=t.current,c=u.getState(),l=Ht().early&&(s=c.nextTree)!==null&&s!==void 0?s:c.currentTree;return{loadable:Vn(u,e,l),key:e.key}},[t,e]),o=Ae(s=>{let u;return()=>{var c,l;const f=s();return(c=u)!==null&&c!==void 0&&c.loadable.is(f.loadable)&&((l=u)===null||l===void 0?void 0:l.key)===f.key?u:(u=f,f)}},[]),i=Cs(()=>o(r),[r,o]),a=Ae(s=>{const u=t.current;return Gt(u,e,s,n).release},[t,e,n]);return fp(a,i,i).loadable}function mp(e){const t=et(),n=Ae(()=>{var c;const l=t.current,f=l.getState(),p=Ht().early&&(c=f.nextTree)!==null&&c!==void 0?c:f.currentTree;return Vn(l,e,p)},[t,e]),r=Ae(()=>n(),[n]),o=kn(),i=Ae((c,l)=>{const f=t.current;return Gt(f,e,()=>{if(!H("recoil_suppress_rerender_in_callback"))return l();const y=n();u.current.is(y)||l(),u.current=y},o).release},[t,e,o,n]),a=dp();if(a==null)throw D("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const s=lp(a,r,i),u=zn(s);return Yt(()=>{u.current=s}),s}function Os(e){const t=et(),n=kn(),r=Ae(()=>{var u;const c=t.current,l=c.getState(),f=Ht().early&&(u=l.nextTree)!==null&&u!==void 0?u:l.currentTree;return Vn(c,e,f)},[t,e]),o=Ae(()=>({loadable:r(),key:e.key}),[r,e.key]),i=Ae(u=>{const c=o();return u.loadable.is(c.loadable)&&u.key===c.key?u:c},[o]);Yt(()=>{const u=Gt(t.current,e,c=>{s(i)},n);return s(i),u.release},[n,e,t,i]);const[a,s]=Jo(o);return a.key!==e.key?o().loadable:a.loadable}function gp(e){const t=et(),[,n]=Jo([]),r=kn(),o=Ae(()=>{var s;const u=t.current,c=u.getState(),l=Ht().early&&(s=c.nextTree)!==null&&s!==void 0?s:c.currentTree;return Vn(u,e,l)},[t,e]),i=o(),a=zn(i);return Yt(()=>{a.current=i}),Yt(()=>{const s=t.current,u=s.getState(),c=Gt(s,e,f=>{var p;if(!H("recoil_suppress_rerender_in_callback"))return n([]);const y=o();(p=a.current)!==null&&p!==void 0&&p.is(y)||n(y),a.current=y},r);if(u.nextTree)s.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a.current=null,n([])});else{var l;if(!H("recoil_suppress_rerender_in_callback"))return n([]);const f=o();(l=a.current)!==null&&l!==void 0&&l.is(f)||n(f),a.current=f}return c.release},[r,o,e,t]),i}function Zo(e){return H("recoil_memory_managament_2020")&&Go(e),{TRANSITION_SUPPORT:Os,SYNC_EXTERNAL_STORE:yp,MUTABLE_SOURCE:mp,LEGACY:gp}[Ht().mode](e)}function xs(e){const t=et(),n=Zo(e);return Xo(n,e,t)}function Lr(e){const t=et();return Ae(n=>{Ir(t.current,e,n)},[t,e])}function Sp(e){const t=et();return Ae(()=>{Ir(t.current,e,$s)},[t,e])}function bp(e){return[xs(e),Lr(e)]}function wp(e){return[Zo(e),Lr(e)]}function Rp(){const e=et();return(t,n={})=>{cp(()=>{e.current.addTransactionMetadata(n),t.forEach((r,o)=>hp(e.current,new Yo(o),r))})}}function Ps(e){return H("recoil_memory_managament_2020")&&Go(e),Os(e)}function Ds(e){const t=et(),n=Ps(e);return Xo(n,e,t)}function Ep(e){return[Ds(e),Lr(e)]}var Ap={recoilComponentGetRecoilValueCount_FOR_TESTING:_p,useRecoilInterface:vp,useRecoilState:bp,useRecoilStateLoadable:wp,useRecoilValue:xs,useRecoilValueLoadable:Zo,useResetRecoilState:Sp,useSetRecoilState:Lr,useSetUnvalidatedAtomValues:Rp,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Ps,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ds,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Ep};function Tp(e,t){const n=new Map;for(const[r,o]of e)t(o,r)&&n.set(r,o);return n}var Np=Tp;function Ip(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n}var Lp=Ip;function Mp(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let o;for(;!(o=r.next()).done;)t.set(o.value,e[n].get(o.value))}return t}var $p=Mp;const{batchUpdates:Cp}=wr,{DEFAULT_VALUE:Op,getNode:ks,nodes:xp}=Ee,{useStoreRef:Qo}=it,{AbstractRecoilValue:Pp,setRecoilValueLoadable:Dp}=Qe,{SUSPENSE_TIMEOUT_MS:kp}=Lt,{cloneSnapshot:Mr}=Tr,{useCallback:$r,useEffect:Vs,useRef:zs,useState:Vp}=m,{isSSR:Us}=Bo;function Cr(e){const t=Qo();Vs(()=>t.current.subscribeToTransactions(e).release,[e,t])}function Bs(e){const t=e.atomValues.toMap(),n=mr(Np(t,(r,o)=>{const a=ks(o).persistence_UNSTABLE;return a!=null&&a.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return $p(e.nonvalidatedAtoms.toMap(),n)}function zp(e){Cr($r(t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(n=t.getState().currentTree);const o=Bs(r),i=Bs(n),a=mr(xp,u=>{var c,l,f,p;return{persistence_UNSTABLE:{type:(c=(l=u.persistence_UNSTABLE)===null||l===void 0?void 0:l.type)!==null&&c!==void 0?c:"none",backButton:(f=(p=u.persistence_UNSTABLE)===null||p===void 0?void 0:p.backButton)!==null&&f!==void 0?f:!1}}}),s=Lp(r.dirtyAtoms,u=>o.has(u)||i.has(u));e({atomValues:o,previousAtomValues:i,atomInfo:a,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})},[e]))}function Up(e){Cr($r(t=>{const n=Mr(t,"latest"),r=Mr(t,"previous");e({snapshot:n,previousSnapshot:r})},[e]))}function Bp(){const e=Qo(),[t,n]=Vp(()=>Mr(e.current)),r=Ls(t),o=zs(),i=zs();if(Cr($r(s=>n(Mr(s)),[])),Vs(()=>{const s=t.retain();if(o.current&&!Us){var u;window.clearTimeout(o.current),o.current=null,(u=i.current)===null||u===void 0||u.call(i),i.current=null}return s},[t]),r!==t&&!Us){if(o.current){var a;window.clearTimeout(o.current),o.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null}i.current=t.retain(),o.current=window.setTimeout(()=>{var s;o.current=null,(s=i.current)===null||s===void 0||s.call(i),i.current=null},kp)}return t}function Fs(e,t){var n;const r=e.getState(),o=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=t.getStore_INTERNAL().getState().currentTree;Cp(()=>{const a=new Set;for(const c of[o.atomValues.keys(),i.atomValues.keys()])for(const l of c){var s,u;((s=o.atomValues.get(l))===null||s===void 0?void 0:s.contents)!==((u=i.atomValues.get(l))===null||u===void 0?void 0:u.contents)&&ks(l).shouldRestoreFromSnapshots&&a.add(l)}a.forEach(c=>{Dp(e,new Pp(c),i.atomValues.has(c)?Q(i.atomValues.get(c)):Op)}),e.replaceState(c=>({...c,stateID:t.getID()}))})}function Fp(){const e=Qo();return $r(t=>Fs(e.current,t),[e])}var qs={useRecoilSnapshot:Bp,gotoSnapshot:Fs,useGotoRecoilSnapshot:Fp,useRecoilTransactionObserver:Up,useTransactionObservation_DEPRECATED:zp,useTransactionSubscription_DEPRECATED:Cr};const{peekNodeInfo:qp}=_t,{useStoreRef:jp}=it;function Wp(){const e=jp();return({key:t})=>qp(e.current,e.current.getState().currentTree,t)}var Kp=Wp;const{reactMode:Hp}=Mn,{RecoilRoot:Gp,useStoreRef:Yp}=it,{useMemo:Jp}=m;function Xp(){Hp().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=Yp().current;return Jp(()=>{function t({children:n}){return m.createElement(Gp,{store_INTERNAL:e},n)}return t},[e])}var Zp=Xp;const{loadableWithValue:Qp}=Ln,{initializeNode:ev}=_t,{DEFAULT_VALUE:tv,getNode:nv}=Ee,{copyTreeState:rv,getRecoilValueAsLoadable:ov,invalidateDownstreams:iv,writeLoadableToTreeState:av}=Qe;function js(e){return nv(e.key).nodeType==="atom"}class sv{constructor(t,n){O(this,"_store",void 0),O(this,"_treeState",void 0),O(this,"_changes",void 0),O(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!js(r))throw D("Reading selectors within atomicUpdate is not supported");const o=ov(this._store,r,this._treeState);if(o.state==="hasValue")return o.contents;throw o.state==="hasError"?o.contents:D(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),O(this,"set",(r,o)=>{if(!js(r))throw D("Setting selectors within atomicUpdate is not supported");if(typeof o=="function"){const i=this.get(r);this._changes.set(r.key,o(i))}else ev(this._store,r.key,"set"),this._changes.set(r.key,o)}),O(this,"reset",r=>{this.set(r,tv)}),this._store=t,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const t=rv(this._treeState);for(const[n,r]of this._changes)av(t,n,Qp(r));return iv(this._store,t),t}}function uv(e){return t=>{e.replaceState(n=>{const r=new sv(e,n);return t(r),r.newTreeState_INTERNAL()})}}var cv={atomicUpdater:uv},lv=cv.atomicUpdater,Ws=Object.freeze({__proto__:null,atomicUpdater:lv});function fv(e,t){if(!e)throw new Error(t)}var dv=fv,Un=dv;const{atomicUpdater:hv}=Ws,{batchUpdates:pv}=wr,{DEFAULT_VALUE:vv}=Ee,{useStoreRef:_v}=it,{refreshRecoilValue:yv,setRecoilValue:Ks}=Qe,{cloneSnapshot:mv}=Tr,{gotoSnapshot:gv}=qs,{useCallback:Sv}=m;class Hs{}const bv=new Hs;function Gs(e,t,n,r){let o=bv,i;if(pv(()=>{const s="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof t!="function")throw D(s);const u=ja({...r!=null?r:{},set:(l,f)=>Ks(e,l,f),reset:l=>Ks(e,l,vv),refresh:l=>yv(e,l),gotoSnapshot:l=>gv(e,l),transact_UNSTABLE:l=>hv(e)(l)},{snapshot:()=>{const l=mv(e);return i=l.retain(),l}}),c=t(u);if(typeof c!="function")throw D(s);o=c(...n)}),o instanceof Hs&&Un(!1),Z(o))o.finally(()=>{var s;(s=i)===null||s===void 0||s()});else{var a;(a=i)===null||a===void 0||a()}return o}function wv(e,t){const n=_v();return Sv((...r)=>Gs(n.current,e,r),t!=null?[...t,n]:void 0)}var Ys={recoilCallback:Gs,useRecoilCallback:wv};const{useStoreRef:Rv}=it,{refreshRecoilValue:Ev}=Qe,{useCallback:Av}=m;function Tv(e){const t=Rv();return Av(()=>{const n=t.current;Ev(n,e)},[e,t])}var Nv=Tv;const{atomicUpdater:Iv}=Ws,{useStoreRef:Lv}=it,{useMemo:Mv}=m;function $v(e,t){const n=Lv();return Mv(()=>(...r)=>{Iv(n.current)(i=>{e(i)(...r)})},t!=null?[...t,n]:void 0)}var Cv=$v;class Ov{constructor(t){O(this,"value",void 0),this.value=t}}var xv={WrappedValue:Ov},Pv=xv.WrappedValue,Js=Object.freeze({__proto__:null,WrappedValue:Pv});const{isFastRefreshEnabled:Dv}=Mn;class Xs extends Error{}class kv{constructor(t){var n,r,o;O(this,"_name",void 0),O(this,"_numLeafs",void 0),O(this,"_root",void 0),O(this,"_onHit",void 0),O(this,"_onSet",void 0),O(this,"_mapNodeValue",void 0),this._name=t==null?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=(n=t==null?void 0:t.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=t==null?void 0:t.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(o=t==null?void 0:t.mapNodeValue)!==null&&o!==void 0?o:i=>i}size(){return this._numLeafs}root(){return this._root}get(t,n){var r;return(r=this.getLeafNode(t,n))===null||r===void 0?void 0:r.value}getLeafNode(t,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const o=this._mapNodeValue(t(r.nodeKey));r=r.branches.get(o)}}set(t,n,r){const o=()=>{var i,a,s,u;let c,l;for(const[k,W]of t){var f,p,y;const N=this._root;if((N==null?void 0:N.type)==="leaf")throw this.invalidCacheError();const B=c;if(c=B?B.branches.get(l):N,c=(f=c)!==null&&f!==void 0?f:{type:"branch",nodeKey:k,parent:B,branches:new Map,branchKey:l},c.type!=="branch"||c.nodeKey!==k)throw this.invalidCacheError();B==null||B.branches.set(l,c),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,c),l=this._mapNodeValue(W),this._root=(y=this._root)!==null&&y!==void 0?y:c}const _=c?(i=c)===null||i===void 0?void 0:i.branches.get(l):this._root;if(_!=null&&(_.type!=="leaf"||_.branchKey!==l))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:c,branchKey:l};(a=c)===null||a===void 0||a.branches.set(l,g),this._root=(s=this._root)!==null&&s!==void 0?s:g,this._numLeafs++,this._onSet(g),r==null||(u=r.onNodeVisit)===null||u===void 0||u.call(r,g)};try{o()}catch(i){if(i instanceof Xs)this.clear(),o();else throw i}}delete(t){const n=this.root();if(!n)return!1;if(t===n)return this._root=null,this._numLeafs=0,!0;let r=t.parent,o=t.branchKey;for(;r;){var i;if(r.branches.delete(o),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;o=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const t=Dv()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw $o(t+(this._name!=null?` - ${this._name}`:"")),new Xs}}var Vv={TreeCache:kv},zv=Vv.TreeCache,Zs=Object.freeze({__proto__:null,TreeCache:zv});class Uv{constructor(t){var n;O(this,"_maxSize",void 0),O(this,"_size",void 0),O(this,"_head",void 0),O(this,"_tail",void 0),O(this,"_map",void 0),O(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=t.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){const n=this._keyMapper(t),r=this._map.get(n);if(!!r)return this.set(t,r.value),r.value}set(t,n){const r=this._keyMapper(t);this._map.get(r)&&this.delete(t);const i=this.head(),a={key:t,right:i,left:null,value:n};i?i.left=a:this._tail=a,this._map.set(r,a),this._head=a,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const t=this.tail();t&&this.delete(t.key)}delete(t){const n=this._keyMapper(t);if(!this._size||!this._map.has(n))return;const r=Q(this._map.get(n)),o=r.right,i=r.left;o&&(o.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=o),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var Bv={LRUCache:Uv},Fv=Bv.LRUCache,Qs=Object.freeze({__proto__:null,LRUCache:Fv});const{LRUCache:qv}=Qs,{TreeCache:jv}=Zs;function Wv({name:e,maxSize:t,mapNodeValue:n=r=>r}){const r=new qv({maxSize:t}),o=new jv({name:e,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const a=r.tail();r.set(i,!0),a&&o.size()>t&&o.delete(a.key)}});return o}var eu=Wv;function qe(e,t,n){if(typeof e=="string"&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw D("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var r;return(r=JSON.stringify(e))!==null&&r!==void 0?r:""}if(Z(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((o,i)=>qe(o,t,i.toString()))}]`;if(typeof e.toJSON=="function")return qe(e.toJSON(n),t,n);if(e instanceof Map){const o={};for(const[i,a]of e)o[typeof i=="string"?i:qe(i,t)]=a;return qe(o,t,n)}return e instanceof Set?qe(Array.from(e).sort((o,i)=>qe(o,t).localeCompare(qe(i,t))),t,n):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?qe(Array.from(e),t,n):`{${Object.keys(e).filter(o=>e[o]!==void 0).sort().map(o=>`${qe(o,t)}:${qe(e[o],t,o)}`).join(",")}}`}function Kv(e,t={allowFunctions:!1}){return qe(e,t)}var Or=Kv;const{TreeCache:Hv}=Zs,xr={equality:"reference",eviction:"keep-all",maxSize:1/0};function Gv({equality:e=xr.equality,eviction:t=xr.eviction,maxSize:n=xr.maxSize}=xr,r){const o=Yv(e);return Jv(t,n,o,r)}function Yv(e){switch(e){case"reference":return t=>t;case"value":return t=>Or(t)}throw D(`Unrecognized equality policy ${e}`)}function Jv(e,t,n,r){switch(e){case"keep-all":return new Hv({name:r,mapNodeValue:n});case"lru":return eu({name:r,maxSize:Q(t),mapNodeValue:n});case"most-recent":return eu({name:r,maxSize:1,mapNodeValue:n})}throw D(`Unrecognized eviction policy ${e}`)}var Xv=Gv;function Zv(e){return()=>null}var Qv={startPerfBlock:Zv};const{isLoadable:e_,loadableWithError:Pr,loadableWithPromise:t_,loadableWithValue:ei}=Ln,{WrappedValue:tu}=Js,{getNodeLoadable:Dr,peekNodeLoadable:n_,setNodeValue:r_}=_t,{saveDepsToStore:o_}=Cn,{DEFAULT_VALUE:i_,RecoilValueNotReady:a_,getConfigDeletionHandler:s_,getNode:u_,registerNode:nu}=Ee,{isRecoilValue:c_}=Kt,{markRecoilValueModified:ru}=Qe,{retainedByOptionWithDefault:l_}=Lt,{recoilCallback:f_}=Ys,{startPerfBlock:d_}=Qv;class ou{}const Bn=new ou,Fn=[],kr=new Map,h_=(()=>{let e=0;return()=>e++})();function iu(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:o}=e,i=e.set!=null?e.set:void 0,a=new Set,s=Xv(o!=null?o:{equality:"reference",eviction:"keep-all"},n),u=l_(e.retainedBy_UNSTABLE),c=new Map;let l=0;function f(){return!H("recoil_memory_managament_2020")||l>0}function p(v){return v.getState().knownSelectors.add(n),l++,()=>{l--}}function y(){return s_(n)!==void 0&&!f()}function _(v,b,w,C,T){bn(b,C,T),g(v,w)}function g(v,b){De(v,b)&&ye(v),W(b,!0)}function k(v,b){De(v,b)&&(Q(he(v)).stateVersions.clear(),W(b,!1))}function W(v,b){const w=kr.get(v);if(w!=null){for(const C of w)ru(C,Q(t));b&&kr.delete(v)}}function N(v,b){let w=kr.get(b);w==null&&kr.set(b,w=new Set),w.add(v)}function B(v,b,w,C,T,z){return b.then(V=>{if(!f())throw ye(v),Bn;const I=ei(V);return _(v,w,T,I,C),V}).catch(V=>{if(!f())throw ye(v),Bn;if(Z(V))return se(v,V,w,C,T,z);const I=Pr(V);throw _(v,w,T,I,C),V})}function se(v,b,w,C,T,z){return b.then(V=>{if(!f())throw ye(v),Bn;z.loadingDepKey!=null&&z.loadingDepPromise===b?w.atomValues.set(z.loadingDepKey,ei(V)):v.getState().knownSelectors.forEach(K=>{w.atomValues.delete(K)});const I=ie(v,w);if(I&&I.state!=="loading"){if((De(v,T)||he(v)==null)&&g(v,T),I.state==="hasValue")return I.contents;throw I.contents}if(!De(v,T)){const K=dt(v,w);if(K!=null)return K.loadingLoadable.contents}const[re,pe]=ne(v,w,T);if(re.state!=="loading"&&_(v,w,T,re,pe),re.state==="hasError")throw re.contents;return re.contents}).catch(V=>{if(V instanceof ou)throw Bn;if(!f())throw ye(v),Bn;const I=Pr(V);throw _(v,w,T,I,C),V})}function G(v,b,w,C){var T,z,V,I;if(De(v,C)||b.version===((T=v.getState())===null||T===void 0||(z=T.currentTree)===null||z===void 0?void 0:z.version)||b.version===((V=v.getState())===null||V===void 0||(I=V.nextTree)===null||I===void 0?void 0:I.version)){var re,pe,K;o_(n,w,v,(re=(pe=v.getState())===null||pe===void 0||(K=pe.nextTree)===null||K===void 0?void 0:K.version)!==null&&re!==void 0?re:v.getState().currentTree.version)}for(const ae of w)a.add(ae)}function ne(v,b,w){const C=d_(n);let T=!0,z=!0;const V=()=>{C(),z=!1};let I,re=!1,pe;const K={loadingDepKey:null,loadingDepPromise:null},ae=new Map;function pt({key:Xe}){const ke=Dr(v,b,Xe);switch(ae.set(Xe,ke),T||(G(v,b,new Set(ae.keys()),w),k(v,w)),ke.state){case"hasValue":return ke.contents;case"hasError":throw ke.contents;case"loading":throw K.loadingDepKey=Xe,K.loadingDepPromise=ke.contents,ke.contents}throw D("Invalid Loadable state")}const jt=Xe=>(...ke)=>{if(z)throw D("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return t==null&&Un(!1),f_(v,Xe,ke,{node:t})};try{I=r({get:pt,getCallback:jt}),I=c_(I)?pt(I):I,e_(I)&&(I.state==="hasError"&&(re=!0),I=I.contents),Z(I)?I=B(v,I,b,ae,w,K).finally(V):V(),I=I instanceof tu?I.value:I}catch(Xe){I=Xe,Z(I)?I=se(v,I,b,ae,w,K).finally(V):(re=!0,V())}return re?pe=Pr(I):Z(I)?pe=t_(I):pe=ei(I),T=!1,qt(v,w,ae),G(v,b,new Set(ae.keys()),w),[pe,ae]}function ie(v,b){let w=b.atomValues.get(n);if(w!=null)return w;const C=new Set;try{w=s.get(z=>(typeof z!="string"&&Un(!1),Dr(v,b,z).contents),{onNodeVisit:z=>{z.type==="branch"&&z.nodeKey!==n&&C.add(z.nodeKey)}})}catch(z){throw D(`Problem with cache lookup for selector "${n}": ${z.message}`)}if(w){var T;b.atomValues.set(n,w),G(v,b,C,(T=he(v))===null||T===void 0?void 0:T.executionID)}return w}function Ce(v,b){const w=ie(v,b);if(w!=null)return ye(v),w;const C=dt(v,b);if(C!=null){var T;return((T=C.loadingLoadable)===null||T===void 0?void 0:T.state)==="loading"&&N(v,C.executionID),C.loadingLoadable}const z=h_(),[V,I]=ne(v,b,z);return V.state==="loading"?(le(v,z,V,I,b),N(v,z)):(ye(v),bn(b,V,I)),V}function dt(v,b){const w=cs([c.has(v)?[Q(c.get(v))]:[],_r(Do(c,([T])=>T!==v),([,T])=>T)]);function C(T){for(const[z,V]of T)if(!Dr(v,b,z).is(V))return!0;return!1}for(const T of w){if(T.stateVersions.get(b.version)||!C(T.depValuesDiscoveredSoFarDuringAsyncWork))return T.stateVersions.set(b.version,!0),T;T.stateVersions.set(b.version,!1)}}function he(v){return c.get(v)}function le(v,b,w,C,T){c.set(v,{depValuesDiscoveredSoFarDuringAsyncWork:C,executionID:b,loadingLoadable:w,stateVersions:new Map([[T.version,!0]])})}function qt(v,b,w){if(De(v,b)){const C=he(v);C!=null&&(C.depValuesDiscoveredSoFarDuringAsyncWork=w)}}function ye(v){c.delete(v)}function De(v,b){var w;return b===((w=he(v))===null||w===void 0?void 0:w.executionID)}function Sn(v){return Array.from(v.entries()).map(([b,w])=>[b,w.contents])}function bn(v,b,w){v.atomValues.set(n,b);try{s.set(Sn(w),b)}catch(C){throw D(`Problem with setting cache for selector "${n}": ${C.message}`)}}function ht(v){if(Fn.includes(n)){const b=`Recoil selector has circular dependencies: ${Fn.slice(Fn.indexOf(n)).join(" \u2192 ")}`;return Pr(D(b))}Fn.push(n);try{return v()}finally{Fn.pop()}}function wn(v,b){const w=b.atomValues.get(n);return w!=null?w:s.get(C=>{var T;return typeof C!="string"&&Un(!1),(T=n_(v,b,C))===null||T===void 0?void 0:T.contents})}function Rn(v,b){return ht(()=>Ce(v,b))}function q(v){v.atomValues.delete(n)}function F(v,b){t==null&&Un(!1);for(const C of a){var w;const T=u_(C);(w=T.clearCache)===null||w===void 0||w.call(T,v,b)}a.clear(),q(b),s.clear(),ru(v,t)}return i!=null?t=nu({key:n,nodeType:"selector",peek:wn,get:Rn,set:(b,w,C)=>{let T=!1;const z=new Map;function V({key:K}){if(T)throw D("Recoil: Async selector sets are not currently supported.");const ae=Dr(b,w,K);if(ae.state==="hasValue")return ae.contents;throw ae.state==="loading"?new a_(K):ae.contents}function I(K,ae){if(T)throw D("Recoil: Async selector sets are not currently supported.");const pt=typeof ae=="function"?ae(V(K)):ae;r_(b,w,K.key,pt).forEach((Xe,ke)=>z.set(ke,Xe))}function re(K){I(K,i_)}const pe=i({set:I,get:V,reset:re},C);if(pe!==void 0)throw Z(pe)?D("Recoil: Async selector sets are not currently supported."):D("Recoil: selector set should be a void function.");return T=!0,z},init:p,invalidate:q,clearCache:F,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):t=nu({key:n,nodeType:"selector",peek:wn,get:Rn,init:p,invalidate:q,clearCache:F,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}iu.value=e=>new tu(e);var Jt=iu;const{isLoadable:p_,loadableWithError:ti,loadableWithPromise:ni,loadableWithValue:Xt}=Ln,{WrappedValue:au}=Js,{peekNodeInfo:v_}=_t,{DEFAULT_VALUE:Mt,DefaultValue:yt,getConfigDeletionHandler:su,registerNode:__,setConfigDeletionHandler:y_}=Ee,{isRecoilValue:m_}=Kt,{getRecoilValueAsLoadable:g_,markRecoilValueModified:S_,setRecoilValue:uu,setRecoilValueLoadable:b_}=Qe,{retainedByOptionWithDefault:w_}=Lt;function R_(e){const{key:t,persistence_UNSTABLE:n}=e,r=w_(e.retainedBy_UNSTABLE);let o=0;function i(N){return ni(N.then(B=>(a=Xt(B),B)).catch(B=>{throw a=ti(B),B}))}let a=Z(e.default)?i(e.default):p_(e.default)?e.default.state==="loading"?i(e.default.contents):e.default:Xt(e.default instanceof au?e.default.value:e.default);a.contents;let s;const u=new Map;function c(N){return N}function l(N,B){const se=B.then(G=>{var ne,ie;return((ie=((ne=N.getState().nextTree)!==null&&ne!==void 0?ne:N.getState().currentTree).atomValues.get(t))===null||ie===void 0?void 0:ie.contents)===se&&uu(N,W,G),G}).catch(G=>{var ne,ie;throw((ie=((ne=N.getState().nextTree)!==null&&ne!==void 0?ne:N.getState().currentTree).atomValues.get(t))===null||ie===void 0?void 0:ie.contents)===se&&b_(N,W,ti(G)),G});return se}function f(N,B,se){var G;o++;const ne=()=>{var he;o--,(he=u.get(N))===null||he===void 0||he.forEach(le=>le()),u.delete(N)};if(N.getState().knownAtoms.add(t),a.state==="loading"){const he=()=>{var le;((le=N.getState().nextTree)!==null&&le!==void 0?le:N.getState().currentTree).atomValues.has(t)||S_(N,W)};a.contents.finally(he)}const ie=(G=e.effects)!==null&&G!==void 0?G:e.effects_UNSTABLE;if(ie!=null){let De=function(q){if(he&&q.key===t){const F=le;return F instanceof yt?p(N,B):Z(F)?ni(F.then(v=>v instanceof yt?a.toPromise():v)):Xt(F)}return g_(N,q)},Sn=function(q){return De(q).toPromise()},bn=function(q){var F;const v=v_(N,(F=N.getState().nextTree)!==null&&F!==void 0?F:N.getState().currentTree,q.key);return he&&q.key===t&&!(le instanceof yt)?{...v,isSet:!0,loadable:De(q)}:v},he=!0,le=Mt,qt=!1,ye=null;const ht=q=>F=>{if(he){const v=De(W),b=v.state==="hasValue"?v.contents:Mt;le=typeof F=="function"?F(b):F,Z(le)&&(le=le.then(w=>(ye={effect:q,value:w},w)))}else{if(Z(F))throw D("Setting atoms to async values is not implemented.");typeof F!="function"&&(ye={effect:q,value:F}),uu(N,W,typeof F=="function"?v=>{const b=F(v);return ye={effect:q,value:b},b}:F)}},wn=q=>()=>ht(q)(Mt),Rn=q=>F=>{var v;const{release:b}=N.subscribeToTransactions(w=>{var C;let{currentTree:T,previousTree:z}=w.getState();z||(z=T);const V=(C=T.atomValues.get(t))!==null&&C!==void 0?C:a;if(V.state==="hasValue"){var I,re,pe,K;const ae=V.contents,pt=(I=z.atomValues.get(t))!==null&&I!==void 0?I:a,jt=pt.state==="hasValue"?pt.contents:Mt;((re=ye)===null||re===void 0?void 0:re.effect)!==q||((pe=ye)===null||pe===void 0?void 0:pe.value)!==ae?F(ae,jt,!T.atomValues.has(t)):((K=ye)===null||K===void 0?void 0:K.effect)===q&&(ye=null)}},t);u.set(N,[...(v=u.get(N))!==null&&v!==void 0?v:[],b])};for(const q of ie)try{const F=q({node:W,storeID:N.storeID,trigger:se,setSelf:ht(q),resetSelf:wn(q),onSet:Rn(q),getPromise:Sn,getLoadable:De,getInfo_UNSTABLE:bn});if(F!=null){var Ce;u.set(N,[...(Ce=u.get(N))!==null&&Ce!==void 0?Ce:[],F])}}catch(F){le=F,qt=!0}if(he=!1,!(le instanceof yt)){var dt;const q=le,F=qt?ti(le):Z(q)?ni(l(N,q)):Xt(q);B.atomValues.set(t,F),(dt=N.getState().nextTree)===null||dt===void 0||dt.atomValues.set(t,F)}}return ne}function p(N,B){var se,G;return(se=(G=B.atomValues.get(t))!==null&&G!==void 0?G:s)!==null&&se!==void 0?se:a}function y(N,B){if(B.atomValues.has(t))return Q(B.atomValues.get(t));if(B.nonvalidatedAtoms.has(t)){if(s!=null)return s;if(n==null)return a;const se=B.nonvalidatedAtoms.get(t),G=n.validator(se,Mt);return s=G instanceof yt?a:Xt(G),s}else return a}function _(){s=void 0}function g(N,B,se){if(B.atomValues.has(t)){const G=Q(B.atomValues.get(t));if(G.state==="hasValue"&&se===G.contents)return new Map}else if(!B.nonvalidatedAtoms.has(t)&&se instanceof yt)return new Map;return s=void 0,new Map().set(t,Xt(se))}function k(){return su(t)!==void 0&&o<=0}const W=__({key:t,nodeType:"atom",peek:p,get:y,set:g,init:f,invalidate:_,shouldDeleteConfigOnRelease:k,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return W}function ri(e){const{...t}=e,n="default"in e?e.default:new Promise(()=>{});return m_(n)?E_({...t,default:n}):R_({...t,default:n})}function E_(e){const t=ri({...e,default:Mt,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:{...e.persistence_UNSTABLE,validator:r=>r instanceof yt?r:Q(e.persistence_UNSTABLE).validator(r,Mt)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=Jt({key:`${e.key}__withFallback`,get:({get:r})=>{const o=r(t);return o instanceof yt?e.default:o},set:({set:r},o)=>r(t,o),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return y_(n.key,su(e.key)),n}ri.value=e=>new au(e);var cu=ri;class A_{constructor(t){var n;O(this,"_map",void 0),O(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=t==null?void 0:t.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,n){this._map.set(this._keyMapper(t),n)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}}var T_={MapCache:A_},N_=T_.MapCache,I_=Object.freeze({__proto__:null,MapCache:N_});const{LRUCache:lu}=Qs,{MapCache:L_}=I_,Vr={equality:"reference",eviction:"none",maxSize:1/0};function M_({equality:e=Vr.equality,eviction:t=Vr.eviction,maxSize:n=Vr.maxSize}=Vr){const r=$_(e);return C_(t,n,r)}function $_(e){switch(e){case"reference":return t=>t;case"value":return t=>Or(t)}throw D(`Unrecognized equality policy ${e}`)}function C_(e,t,n){switch(e){case"keep-all":return new L_({mapKey:n});case"lru":return new lu({mapKey:n,maxSize:Q(t)});case"most-recent":return new lu({mapKey:n,maxSize:1})}throw D(`Unrecognized eviction policy ${e}`)}var fu=M_;const{setConfigDeletionHandler:O_}=Ee;function x_(e){var t,n;const r=fu({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return o=>{var i,a;const s=r.get(o);if(s!=null)return s;const{cachePolicyForParams_UNSTABLE:u,...c}=e,l="default"in e?e.default:new Promise(()=>{}),f=cu({...c,key:`${e.key}__${(i=Or(o))!==null&&i!==void 0?i:"void"}`,default:typeof l=="function"?l(o):l,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(o):e.retainedBy_UNSTABLE,effects:typeof e.effects=="function"?e.effects(o):typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(o):(a=e.effects)!==null&&a!==void 0?a:e.effects_UNSTABLE});return r.set(o,f),O_(f.key,()=>{r.delete(o)}),f}}var P_=x_;const{setConfigDeletionHandler:D_}=Ee;let k_=0;function V_(e){var t,n;const r=fu({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return o=>{var i;let a;try{a=r.get(o)}catch(p){throw D(`Problem with cache lookup for selector ${e.key}: ${p.message}`)}if(a!=null)return a;const s=`${e.key}__selectorFamily/${(i=Or(o,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${k_++}`,u=p=>e.get(o)(p),c=e.cachePolicy_UNSTABLE,l=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(o):e.retainedBy_UNSTABLE;let f;if(e.set!=null){const p=e.set;f=Jt({key:s,get:u,set:(_,g)=>p(o)(_,g),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else f=Jt({key:s,get:u,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return r.set(o,f),D_(f.key,()=>{r.delete(o)}),f}}var mt=V_;const z_=mt({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function U_(e){return z_(e)}var B_=U_;const F_=mt({key:"__error",get:e=>()=>{throw D(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function q_(e){return F_(e)}var j_=q_;function W_(e){return e}var K_=W_;const{loadableWithError:du,loadableWithPromise:hu,loadableWithValue:pu}=Ln;function zr(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[o,i]of t.entries())try{n[o]=e(i)}catch(a){r[o]=a}return[n,r]}function H_(e){return e!=null&&!Z(e)}function Ur(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function oi(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((n,r,o)=>({...n,[r]:t[o]}),{})}function Zt(e,t,n){const r=n.map((o,i)=>o==null?pu(t[i]):Z(o)?hu(o):du(o));return oi(e,r)}function G_(e,t){return t.map((n,r)=>n===void 0?e[r]:n)}const Y_=mt({key:"__waitForNone",get:e=>({get:t})=>{const n=Ur(e),[r,o]=zr(t,n);return Zt(e,r,o)},dangerouslyAllowMutability:!0}),J_=mt({key:"__waitForAny",get:e=>({get:t})=>{const n=Ur(e),[r,o]=zr(t,n);return o.some(i=>!Z(i))?Zt(e,r,o):new Promise(i=>{for(const[a,s]of o.entries())Z(s)&&s.then(u=>{r[a]=u,o[a]=void 0,i(Zt(e,r,o))}).catch(u=>{o[a]=u,i(Zt(e,r,o))})})},dangerouslyAllowMutability:!0}),X_=mt({key:"__waitForAll",get:e=>({get:t})=>{const n=Ur(e),[r,o]=zr(t,n);if(o.every(a=>a==null))return oi(e,r);const i=o.find(H_);if(i!=null)throw i;return Promise.all(o).then(a=>oi(e,G_(r,a)))},dangerouslyAllowMutability:!0}),Z_=mt({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Ur(e),[r,o]=zr(t,n);return o.every(i=>!Z(i))?Zt(e,r,o):Promise.all(o.map((i,a)=>Z(i)?i.then(s=>{r[a]=s,o[a]=void 0}).catch(s=>{r[a]=void 0,o[a]=s}):null)).then(()=>Zt(e,r,o))},dangerouslyAllowMutability:!0}),Q_=mt({key:"__noWait",get:e=>({get:t})=>{try{return Jt.value(pu(t(e)))}catch(n){return Jt.value(Z(n)?hu(n):du(n))}},dangerouslyAllowMutability:!0});var ey={waitForNone:Y_,waitForAny:J_,waitForAll:X_,waitForAllSettled:Z_,noWait:Q_};const{RecoilLoadable:ty}=Ln,{DefaultValue:ny}=Ee,{RecoilRoot:ry,useRecoilStoreID:oy}=it,{isRecoilValue:iy}=Kt,{retentionZone:ay}=Sr,{freshSnapshot:sy}=Tr,{useRecoilState:uy,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:cy,useRecoilStateLoadable:ly,useRecoilValue:fy,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:dy,useRecoilValueLoadable:hy,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:py,useResetRecoilState:vy,useSetRecoilState:_y}=Ap,{useGotoRecoilSnapshot:yy,useRecoilSnapshot:my,useRecoilTransactionObserver:gy}=qs,{useRecoilCallback:Sy}=Ys,{noWait:by,waitForAll:wy,waitForAllSettled:Ry,waitForAny:Ey,waitForNone:Ay}=ey;var Qt={DefaultValue:ny,isRecoilValue:iy,RecoilLoadable:ty,RecoilRoot:ry,useRecoilStoreID:oy,useRecoilBridgeAcrossReactRoots_UNSTABLE:Zp,atom:cu,selector:Jt,atomFamily:P_,selectorFamily:mt,constSelector:B_,errorSelector:j_,readOnlySelector:K_,noWait:by,waitForNone:Ay,waitForAny:Ey,waitForAll:wy,waitForAllSettled:Ry,useRecoilValue:fy,useRecoilValueLoadable:hy,useRecoilState:uy,useRecoilStateLoadable:ly,useSetRecoilState:_y,useResetRecoilState:vy,useGetRecoilValueInfo_UNSTABLE:Kp,useRecoilRefresher_UNSTABLE:Nv,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:py,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:dy,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:cy,useRecoilCallback:Sy,useRecoilTransaction_UNSTABLE:Cv,useGotoRecoilSnapshot:yy,useRecoilSnapshot:my,useRecoilTransactionObserver_UNSTABLE:gy,snapshot_UNSTABLE:sy,useRetain:Go,retentionZone:ay},Ty=Qt.RecoilRoot,qn=Qt.atom,Ny=Qt.selector,vu=Qt.useRecoilValue,_u=Qt.useRecoilState,Iy=Qt.useSetRecoilState;/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */var ii=function(e,t){return ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},ii(e,t)};function at(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ii(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ly(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(l){try{c(r.next(l))}catch(f){a(f)}}function u(l){try{c(r.throw(l))}catch(f){a(f)}}function c(l){l.done?i(l.value):o(l.value).then(s,u)}c((r=r.apply(e,t||[])).next())})}function yu(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function en(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function st(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function ut(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function tn(e){return this instanceof tn?(this.v=e,this):new tn(e)}function My(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(p){r[p]&&(o[p]=function(y){return new Promise(function(_,g){i.push([p,y,_,g])>1||s(p,y)})})}function s(p,y){try{u(r[p](y))}catch(_){f(i[0][3],_)}}function u(p){p.value instanceof tn?Promise.resolve(p.value.v).then(c,l):f(i[0][2],p)}function c(p){s("next",p)}function l(p){s("throw",p)}function f(p,y){p(y),i.shift(),i.length&&s(i[0][0],i[0][1])}}function $y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof en=="function"?en(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(c){i({value:c,done:s})},a)}}function fe(e){return typeof e=="function"}function mu(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ai=mu(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Br(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var $t=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=en(a),u=s.next();!u.done;u=s.next()){var c=u.value;c.remove(this)}}catch(g){t={error:g}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(fe(l))try{l()}catch(g){i=g instanceof ai?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=en(f),y=p.next();!y.done;y=p.next()){var _=y.value;try{bu(_)}catch(g){i=i!=null?i:[],g instanceof ai?i=ut(ut([],st(i)),st(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new ai(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)bu(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Br(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Br(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),gu=$t.EMPTY;function Su(e){return e instanceof $t||e&&"closed"in e&&fe(e.remove)&&fe(e.add)&&fe(e.unsubscribe)}function bu(e){fe(e)?e():e.unsubscribe()}var Fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qr={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=qr.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,ut([e,t],st(n))):setTimeout.apply(void 0,ut([e,t],st(n)))},clearTimeout:function(e){var t=qr.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function wu(e){qr.setTimeout(function(){throw e})}function jr(){}var Cy=function(){return si("C",void 0,void 0)}();function Oy(e){return si("E",void 0,e)}function xy(e){return si("N",e,void 0)}function si(e,t,n){return{kind:e,value:t,error:n}}var Wr=null;function Kr(e){if(Fr.useDeprecatedSynchronousErrorHandling){var t=!Wr;if(t&&(Wr={errorThrown:!1,error:null}),e(),t){var n=Wr,r=n.errorThrown,o=n.error;if(Wr=null,r)throw o}}else e()}var ui=function(e){at(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Su(n)&&n.add(r)):r.destination=Vy,r}return t.create=function(n,r,o){return new li(n,r,o)},t.prototype.next=function(n){this.isStopped?fi(xy(n),this):this._next(n)},t.prototype.error=function(n){this.isStopped?fi(Oy(n),this):(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped?fi(Cy,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}($t),Py=Function.prototype.bind;function ci(e,t){return Py.call(e,t)}var Dy=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Hr(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Hr(r)}else Hr(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Hr(n)}},e}(),li=function(e){at(t,e);function t(n,r,o){var i=e.call(this)||this,a;if(fe(n)||!n)a={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:o!=null?o:void 0};else{var s;i&&Fr.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return i.unsubscribe()},a={next:n.next&&ci(n.next,s),error:n.error&&ci(n.error,s),complete:n.complete&&ci(n.complete,s)}):a=n}return i.destination=new Dy(a),i}return t}(ui);function Hr(e){wu(e)}function ky(e){throw e}function fi(e,t){var n=Fr.onStoppedNotification;n&&qr.setTimeout(function(){return n(e,t)})}var Vy={closed:!0,next:jr,error:ky,complete:jr},di=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function jn(e){return e}function zy(e){return e.length===0?jn:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var Te=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=By(t)?t:new li(t,n,r);return Kr(function(){var a=o,s=a.operator,u=a.source;i.add(s?s.call(i,u):u?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Ru(n),new n(function(o,i){var a=new li({next:function(s){try{t(s)}catch(u){i(u),a.unsubscribe()}},error:i,complete:o});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[di]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return zy(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Ru(t),new t(function(r,o){var i;n.subscribe(function(a){return i=a},function(a){return o(a)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Ru(e){var t;return(t=e!=null?e:Fr.Promise)!==null&&t!==void 0?t:Promise}function Uy(e){return e&&fe(e.next)&&fe(e.error)&&fe(e.complete)}function By(e){return e&&e instanceof ui||Uy(e)&&Su(e)}function Fy(e){return fe(e==null?void 0:e.lift)}function tt(e){return function(t){if(Fy(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ve(e,t,n,r,o){return new qy(e,t,n,r,o)}var qy=function(e){at(t,e);function t(n,r,o,i,a,s){var u=e.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=r?function(c){try{r(c)}catch(l){n.error(l)}}:e.prototype._next,u._error=i?function(c){try{i(c)}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=o?function(){try{o()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(ui),Eu={now:function(){return(Eu.delegate||performance).now()},delegate:void 0},Gr={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=Gr.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var o=t(function(i){n=void 0,e(i)});return new $t(function(){return n==null?void 0:n(o)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Gr.delegate;return((n==null?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,ut([],st(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Gr.delegate;return((n==null?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,ut([],st(e)))},delegate:void 0};function hi(e){return e?Au(e):jy}function Au(e){var t=Gr.schedule;return new Te(function(n){var r=new $t,o=e||Eu,i=o.now(),a=function(s){var u=o.now();n.next({timestamp:e?u:s,elapsed:u-i}),n.closed||r.add(t(a))};return r.add(t(a)),r})}var jy=Au(),Wy=mu(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ct=function(e){at(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Tu(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Wy},t.prototype.next=function(n){var r=this;Kr(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=en(r.currentObservers),s=a.next();!s.done;s=a.next()){var u=s.value;u.next(n)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;Kr(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;Kr(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?gu:(this.currentObservers=null,s.push(n),new $t(function(){r.currentObservers=null,Br(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,a=r.isStopped;o?n.error(i):a&&n.complete()},t.prototype.asObservable=function(){var n=new Te;return n.source=this,n},t.create=function(n,r){return new Tu(n,r)},t}(Te),Tu=function(e){at(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:gu},t}(Ct),Ne=function(e){at(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ct),Nu={now:function(){return(Nu.delegate||Date).now()},delegate:void 0},Ky=function(e){at(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}($t),Yr={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Yr.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,ut([e,t],st(n))):setInterval.apply(void 0,ut([e,t],st(n)))},clearInterval:function(e){var t=Yr.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Hy=function(e){at(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(i,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),Yr.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;Yr.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Br(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ky),Iu=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Nu.now,e}(),Gy=function(e){at(t,e);function t(n,r){r===void 0&&(r=Iu.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o._scheduled=void 0,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(Iu),Lu=new Gy(Hy),Yy=Lu;function Mu(e){return e&&fe(e.schedule)}function $u(e){return e[e.length-1]}function Jy(e){return fe($u(e))?e.pop():void 0}function Xy(e){return Mu($u(e))?e.pop():void 0}var Cu=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Ou(e){return fe(e==null?void 0:e.then)}function xu(e){return fe(e[di])}function Pu(e){return Symbol.asyncIterator&&fe(e==null?void 0:e[Symbol.asyncIterator])}function Du(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Zy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ku=Zy();function Vu(e){return fe(e==null?void 0:e[ku])}function zu(e){return My(this,arguments,function(){var n,r,o,i;return yu(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,tn(n.read())];case 3:return r=a.sent(),o=r.value,i=r.done,i?[4,tn(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,tn(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Uu(e){return fe(e==null?void 0:e.getReader)}function nn(e){if(e instanceof Te)return e;if(e!=null){if(xu(e))return Qy(e);if(Cu(e))return em(e);if(Ou(e))return tm(e);if(Pu(e))return Bu(e);if(Vu(e))return nm(e);if(Uu(e))return rm(e)}throw Du(e)}function Qy(e){return new Te(function(t){var n=e[di]();if(fe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function em(e){return new Te(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function tm(e){return new Te(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,wu)})}function nm(e){return new Te(function(t){var n,r;try{for(var o=en(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function Bu(e){return new Te(function(t){om(e,t).catch(function(n){return t.error(n)})})}function rm(e){return Bu(zu(e))}function om(e,t){var n,r,o,i;return Ly(this,void 0,void 0,function(){var a,s;return yu(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=$y(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),o={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function gt(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Fu(e,t){return t===void 0&&(t=0),tt(function(n,r){n.subscribe(Ve(r,function(o){return gt(r,e,function(){return r.next(o)},t)},function(){return gt(r,e,function(){return r.complete()},t)},function(o){return gt(r,e,function(){return r.error(o)},t)}))})}function qu(e,t){return t===void 0&&(t=0),tt(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function im(e,t){return nn(e).pipe(qu(t),Fu(t))}function am(e,t){return nn(e).pipe(qu(t),Fu(t))}function sm(e,t){return new Te(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function um(e,t){return new Te(function(n){var r;return gt(n,t,function(){r=e[ku](),gt(n,t,function(){var o,i,a;try{o=r.next(),i=o.value,a=o.done}catch(s){n.error(s);return}a?n.complete():n.next(i)},0,!0)}),function(){return fe(r==null?void 0:r.return)&&r.return()}})}function ju(e,t){if(!e)throw new Error("Iterable cannot be null");return new Te(function(n){gt(n,t,function(){var r=e[Symbol.asyncIterator]();gt(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function cm(e,t){return ju(zu(e),t)}function lm(e,t){if(e!=null){if(xu(e))return im(e,t);if(Cu(e))return sm(e,t);if(Ou(e))return am(e,t);if(Pu(e))return ju(e,t);if(Vu(e))return um(e,t);if(Uu(e))return cm(e,t)}throw Du(e)}function pi(e,t){return t?lm(e,t):nn(e)}function fm(e){return e instanceof Date&&!isNaN(e)}function ue(e,t){return tt(function(n,r){var o=0;n.subscribe(Ve(r,function(i){r.next(e.call(t,i,o++))}))})}var dm=Array.isArray;function hm(e,t){return dm(t)?e.apply(void 0,ut([],st(t))):e(t)}function pm(e){return ue(function(t){return hm(e,t)})}var vm=Array.isArray,_m=Object.getPrototypeOf,ym=Object.prototype,mm=Object.keys;function gm(e){if(e.length===1){var t=e[0];if(vm(t))return{args:t,keys:null};if(Sm(t)){var n=mm(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Sm(e){return e&&typeof e=="object"&&_m(e)===ym}function bm(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function wm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Xy(e),r=Jy(e),o=gm(e),i=o.args,a=o.keys;if(i.length===0)return pi([],n);var s=new Te(Rm(i,n,a?function(u){return bm(a,u)}:jn));return r?s.pipe(pm(r)):s}function Rm(e,t,n){return n===void 0&&(n=jn),function(r){Wu(t,function(){for(var o=e.length,i=new Array(o),a=o,s=o,u=function(l){Wu(t,function(){var f=pi(e[l],t),p=!1;f.subscribe(Ve(r,function(y){i[l]=y,p||(p=!0,s--),s||r.next(n(i.slice()))},function(){--a||r.complete()}))},r)},c=0;c<o;c++)u(c)},r)}}function Wu(e,t,n){e?gt(n,e,t):t()}function Em(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Yy);var r=-1;return t!=null&&(Mu(t)?n=t:r=t),new Te(function(o){var i=fm(e)?+e-n.now():e;i<0&&(i=0);var a=0;return n.schedule(function(){o.closed||(o.next(a++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function Am(e,t){return e===void 0&&(e=0),t===void 0&&(t=Lu),e<0&&(e=0),Em(e,e,t)}function Ot(e,t){return tt(function(n,r){var o=0;n.subscribe(Ve(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function vi(e){return tt(function(t,n){var r=!1,o=null,i=null,a=!1,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var c=o;o=null,n.next(c)}a&&n.complete()},u=function(){i=null,a&&n.complete()};t.subscribe(Ve(n,function(c){r=!0,o=c,i||nn(e(c)).subscribe(i=Ve(n,s,u))},function(){a=!0,(!r||!i||i.closed)&&n.complete()}))})}function xt(e,t){return t===void 0&&(t=jn),e=e!=null?e:Tm,tt(function(n,r){var o,i=!0;n.subscribe(Ve(r,function(a){var s=t(a);(i||!e(o,s))&&(i=!1,o=s,r.next(a))}))})}function Tm(e,t){return e===t}function Nm(e,t){return tt(Im(e,t,"value"))}function Im(e,t,n){var r=n==="index";return function(o,i){var a=0;o.subscribe(Ve(i,function(s){var u=a++;e.call(t,s,u,o)&&(i.next(r?u:s),i.complete())},function(){i.next(r?-1:void 0),i.complete()}))}}function Lm(e,t){return tt(function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe(Ve(r,function(u){o==null||o.unsubscribe();var c=0,l=i++;nn(e(u,l)).subscribe(o=Ve(r,function(f){return r.next(t?t(u,f,l,c++):f)},function(){o=null,s()}))},function(){a=!0,s()}))})}function Mm(e){return tt(function(t,n){nn(e).subscribe(Ve(n,function(){return n.complete()},jr)),!n.closed&&t.subscribe(n)})}function _i(e,t,n){var r=fe(e)||t||n?{next:e,error:t,complete:n}:e;return r?tt(function(o,i){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var s=!0;o.subscribe(Ve(i,function(u){var c;(c=r.next)===null||c===void 0||c.call(r,u),i.next(u)},function(){var u;s=!1,(u=r.complete)===null||u===void 0||u.call(r),i.complete()},function(u){var c;s=!1,(c=r.error)===null||c===void 0||c.call(r,u),i.error(u)},function(){var u,c;s&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):jn}function Ku(){function e(r){const o=t.value;r.forEach(({isIntersecting:i,target:a})=>{o.set(a,i)}),t.next(o)}const t=new Ne(new Map),n=new IntersectionObserver(e);return{monitoredElements$:t,VISIBLE_ELEMENTS_OBSERVER:n}}var Wn=m.createContext({monitoredElements$:new Ne(new Map),VISIBLE_ELEMENTS_OBSERVER:new IntersectionObserver(jr)});function Hu(e,t){const{monitoredElements$:n}=At(Wn),r=An();return we(()=>{const o=new ya(t);r.current=o,n.pipe(ue(a=>Array.from(a.entries()).filter(([s,u])=>u).map(([s])=>s)),Ot(a=>!!a.length)).subscribe(a=>o.track(a));const i=o.getReport$().pipe(ue(a=>{const s=new Set;return{contourNodes:Array.from(a.entries()).map(([c,{relativeRect:l,raw:f}])=>{const p=c.dataset.simulatorNodeId;if(!p||s.has(p))return;s.add(p);const y=parseInt(c.dataset.simulatorNodeDepth||"0")||0,{x:_,y:g}=document.body.getBoundingClientRect();return{id:p,depth:y,raw:f,relativeRect:l,executor:c.dataset.simulatorNodeExecutor||"",absolutePosition:{height:l.height,width:l.width,x:t?l.x:l.x-_,y:t?l.y:l.y-g}}}).filter(c=>!!c)}})).subscribe(e);return()=>{i.unsubscribe()}},[t]),r}function $m({nodes:e,ctx:t}){return e.length?m.createElement(m.Fragment,null,e.map(n=>m.createElement(mo,{key:n.id,node:n,ctx:t}))):null}var yi=$m,Pt=m.createContext(0);function Gu(e,t){t.VISIBLE_ELEMENTS_OBSERVER.observe(e);const n=t.monitoredElements$.value;t.monitoredElements$.next(n)}function mi(e,t){t.VISIBLE_ELEMENTS_OBSERVER.unobserve(e);const n=t.monitoredElements$.value;n.delete(e),t.monitoredElements$.next(n)}var Jr="delete",J=5,ze=1<<J,me=ze-1,U={};function gi(){return{value:!1}}function Ue(e){e&&(e.value=!0)}function Si(){}function rn(e){return e.size===void 0&&(e.size=e.__iterate(Yu)),e.size}function St(e,t){if(typeof t!="number"){var n=t>>>0;if(""+n!==t||n===4294967295)return NaN;t=n}return t<0?rn(e)+t:t}function Yu(){return!0}function Xr(e,t,n){return(e===0&&!Xu(e)||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function Kn(e,t){return Ju(e,t,0)}function Zr(e,t){return Ju(e,t,t)}function Ju(e,t,n){return e===void 0?n:Xu(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function Xu(e){return e<0||e===0&&1/e===-1/0}var Zu="@@__IMMUTABLE_ITERABLE__@@";function Ie(e){return Boolean(e&&e[Zu])}var Qu="@@__IMMUTABLE_KEYED__@@";function ee(e){return Boolean(e&&e[Qu])}var ec="@@__IMMUTABLE_INDEXED__@@";function ge(e){return Boolean(e&&e[ec])}function Qr(e){return ee(e)||ge(e)}var ce=function(t){return Ie(t)?t:Me(t)},je=function(e){function t(n){return ee(n)?n:bt(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ce),Dt=function(e){function t(n){return ge(n)?n:Ge(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ce),on=function(e){function t(n){return Ie(n)&&!Qr(n)?n:un(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ce);ce.Keyed=je,ce.Indexed=Dt,ce.Set=on;var tc="@@__IMMUTABLE_SEQ__@@";function bi(e){return Boolean(e&&e[tc])}var Cm="@@__IMMUTABLE_RECORD__@@";function wi(e){return Boolean(e&&e[Cm])}function nt(e){return Ie(e)||wi(e)}var an="@@__IMMUTABLE_ORDERED__@@";function We(e){return Boolean(e&&e[an])}var Hn=0,Ke=1,He=2,Ri=typeof Symbol=="function"&&Symbol.iterator,nc="@@iterator",Ei=Ri||nc,j=function(t){this.next=t};j.prototype.toString=function(){return"[Iterator]"},j.KEYS=Hn,j.VALUES=Ke,j.ENTRIES=He,j.prototype.inspect=j.prototype.toSource=function(){return this.toString()},j.prototype[Ei]=function(){return this};function te(e,t,n,r){var o=e===0?t:e===1?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function Le(){return{value:void 0,done:!0}}function Ai(e){return Array.isArray(e)?!0:!!eo(e)}function rc(e){return e&&typeof e.next=="function"}function Ti(e){var t=eo(e);return t&&t.call(e)}function eo(e){var t=e&&(Ri&&e[Ri]||e[nc]);if(typeof t=="function")return t}function Om(e){var t=eo(e);return t&&t===e.entries}function xm(e){var t=eo(e);return t&&t===e.keys}var sn=Object.prototype.hasOwnProperty;function Ni(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var Me=function(e){function t(n){return n==null?Li():nt(n)?n.toSeq():Dm(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,o){var i=this._cache;if(i){for(var a=i.length,s=0;s!==a;){var u=i[o?a-++s:s++];if(r(u[1],u[0],this)===!1)break}return s}return this.__iterateUncached(r,o)},t.prototype.__iterator=function(r,o){var i=this._cache;if(i){var a=i.length,s=0;return new j(function(){if(s===a)return Le();var u=i[o?a-++s:s++];return te(r,u[0],u[1])})}return this.__iteratorUncached(r,o)},t}(ce),bt=function(e){function t(n){return n==null?Li().toKeyedSeq():Ie(n)?ee(n)?n.toSeq():n.fromEntrySeq():wi(n)?n.toSeq():ic(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Me),Ge=function(e){function t(n){return n==null?Li():Ie(n)?ee(n)?n.entrySeq():n.toIndexedSeq():wi(n)?n.toSeq().entrySeq():ac(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Me),un=function(e){function t(n){return(Ie(n)&&!Qr(n)?n:Ge(n)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Me);Me.isSeq=bi,Me.Keyed=bt,Me.Set=un,Me.Indexed=Ge,Me.prototype[tc]=!0;var kt=function(e){function t(n){this._array=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return this.has(r)?this._array[St(this,r)]:o},t.prototype.__iterate=function(r,o){for(var i=this._array,a=i.length,s=0;s!==a;){var u=o?a-++s:s++;if(r(i[u],u,this)===!1)break}return s},t.prototype.__iterator=function(r,o){var i=this._array,a=i.length,s=0;return new j(function(){if(s===a)return Le();var u=o?a-++s:s++;return te(r,u,i[u])})},t}(Ge),Ii=function(e){function t(n){var r=Object.keys(n);this._object=n,this._keys=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return o!==void 0&&!this.has(r)?o:this._object[r]},t.prototype.has=function(r){return sn.call(this._object,r)},t.prototype.__iterate=function(r,o){for(var i=this._object,a=this._keys,s=a.length,u=0;u!==s;){var c=a[o?s-++u:u++];if(r(i[c],c,this)===!1)break}return u},t.prototype.__iterator=function(r,o){var i=this._object,a=this._keys,s=a.length,u=0;return new j(function(){if(u===s)return Le();var c=a[o?s-++u:u++];return te(r,c,i[c])})},t}(bt);Ii.prototype[an]=!0;var Pm=function(e){function t(n){this._collection=n,this.size=n.length||n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,o){if(o)return this.cacheResult().__iterate(r,o);var i=this._collection,a=Ti(i),s=0;if(rc(a))for(var u;!(u=a.next()).done&&r(u.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=this._collection,a=Ti(i);if(!rc(a))return new j(Le);var s=0;return new j(function(){var u=a.next();return u.done?u:te(r,s++,u.value)})},t}(Ge),oc;function Li(){return oc||(oc=new kt([]))}function ic(e){var t=Mi(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new Ii(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function ac(e){var t=Mi(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Dm(e){var t=Mi(e);if(t)return Om(e)?t.fromEntrySeq():xm(e)?t.toSetSeq():t;if(typeof e=="object")return new Ii(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Mi(e){return Ni(e)?new kt(e):Ai(e)?new Pm(e):void 0}var sc="@@__IMMUTABLE_MAP__@@";function $i(e){return Boolean(e&&e[sc])}function uc(e){return $i(e)&&We(e)}function cc(e){return Boolean(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function xe(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(cc(e)&&cc(t)&&e.equals(t))}var Gn=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t|=0,n|=0;var r=t&65535,o=n&65535;return r*o+((t>>>16)*o+r*(n>>>16)<<16>>>0)|0};function to(e){return e>>>1&1073741824|e&3221225471}var km=Object.prototype.valueOf;function Pe(e){if(e==null)return lc(e);if(typeof e.hashCode=="function")return to(e.hashCode(e));var t=qm(e);if(t==null)return lc(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return Vm(t);case"string":return t.length>jm?zm(t):Ci(t);case"object":case"function":return Bm(t);case"symbol":return Um(t);default:if(typeof t.toString=="function")return Ci(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function lc(e){return e===null?1108378658:1108378659}function Vm(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return to(t)}function zm(e){var t=ki[e];return t===void 0&&(t=Ci(e),Di===Wm&&(Di=0,ki={}),Di++,ki[e]=t),t}function Ci(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return to(t)}function Um(e){var t=pc[e];return t!==void 0||(t=hc(),pc[e]=t),t}function Bm(e){var t;if(Oi&&(t=xi.get(e),t!==void 0)||(t=e[Vt],t!==void 0)||!dc&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Vt],t!==void 0||(t=Fm(e),t!==void 0)))return t;if(t=hc(),Oi)xi.set(e,t);else{if(fc!==void 0&&fc(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(dc)Object.defineProperty(e,Vt,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Vt]=t;else if(e.nodeType!==void 0)e[Vt]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var fc=Object.isExtensible,dc=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Fm(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function qm(e){return e.valueOf!==km&&typeof e.valueOf=="function"?e.valueOf(e):e}function hc(){var e=++Pi;return Pi&1073741824&&(Pi=0),e}var Oi=typeof WeakMap=="function",xi;Oi&&(xi=new WeakMap);var pc=Object.create(null),Pi=0,Vt="__immutablehash__";typeof Symbol=="function"&&(Vt=Symbol(Vt));var jm=16,Wm=255,Di=0,ki={},no=function(e){function t(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return this._iter.get(r,o)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,o=Vi(this,!0);return this._useKeys||(o.valueSeq=function(){return r._iter.toSeq().reverse()}),o},t.prototype.map=function(r,o){var i=this,a=gc(this,r,o);return this._useKeys||(a.valueSeq=function(){return i._iter.toSeq().map(r,o)}),a},t.prototype.__iterate=function(r,o){var i=this;return this._iter.__iterate(function(a,s){return r(a,s,i)},o)},t.prototype.__iterator=function(r,o){return this._iter.__iterator(r,o)},t}(bt);no.prototype[an]=!0;var vc=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,o){var i=this,a=0;return o&&rn(this),this._iter.__iterate(function(s){return r(s,o?i.size-++a:a++,i)},o)},t.prototype.__iterator=function(r,o){var i=this,a=this._iter.__iterator(Ke,o),s=0;return o&&rn(this),new j(function(){var u=a.next();return u.done?u:te(r,o?i.size-++s:s++,u.value,u)})},t}(Ge),_c=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,o){var i=this;return this._iter.__iterate(function(a){return r(a,a,i)},o)},t.prototype.__iterator=function(r,o){var i=this._iter.__iterator(Ke,o);return new j(function(){var a=i.next();return a.done?a:te(r,a.value,a.value,a)})},t}(un),yc=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,o){var i=this;return this._iter.__iterate(function(a){if(a){Ec(a);var s=Ie(a);return r(s?a.get(1):a[1],s?a.get(0):a[0],i)}},o)},t.prototype.__iterator=function(r,o){var i=this._iter.__iterator(Ke,o);return new j(function(){for(;;){var a=i.next();if(a.done)return a;var s=a.value;if(s){Ec(s);var u=Ie(s);return te(r,u?s.get(0):s[0],u?s.get(1):s[1],a)}}})},t}(bt);vc.prototype.cacheResult=no.prototype.cacheResult=_c.prototype.cacheResult=yc.prototype.cacheResult=Ui;function mc(e){var t=rt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var n=e.reverse.apply(this);return n.flip=function(){return e.reverse()},n},t.has=function(n){return e.includes(n)},t.includes=function(n){return e.has(n)},t.cacheResult=Ui,t.__iterateUncached=function(n,r){var o=this;return e.__iterate(function(i,a){return n(a,i,o)!==!1},r)},t.__iteratorUncached=function(n,r){if(n===He){var o=e.__iterator(n,r);return new j(function(){var i=o.next();if(!i.done){var a=i.value[0];i.value[0]=i.value[1],i.value[1]=a}return i})}return e.__iterator(n===Ke?Hn:Ke,r)},t}function gc(e,t,n){var r=rt(e);return r.size=e.size,r.has=function(o){return e.has(o)},r.get=function(o,i){var a=e.get(o,U);return a===U?i:t.call(n,a,o,e)},r.__iterateUncached=function(o,i){var a=this;return e.__iterate(function(s,u,c){return o(t.call(n,s,u,c),u,a)!==!1},i)},r.__iteratorUncached=function(o,i){var a=e.__iterator(He,i);return new j(function(){var s=a.next();if(s.done)return s;var u=s.value,c=u[0];return te(o,c,t.call(n,u[1],c,e),s)})},r}function Vi(e,t){var n=this,r=rt(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var o=mc(e);return o.reverse=function(){return e.flip()},o}),r.get=function(o,i){return e.get(t?o:-1-o,i)},r.has=function(o){return e.has(t?o:-1-o)},r.includes=function(o){return e.includes(o)},r.cacheResult=Ui,r.__iterate=function(o,i){var a=this,s=0;return i&&rn(e),e.__iterate(function(u,c){return o(u,t?c:i?a.size-++s:s++,a)},!i)},r.__iterator=function(o,i){var a=0;i&&rn(e);var s=e.__iterator(He,!i);return new j(function(){var u=s.next();if(u.done)return u;var c=u.value;return te(o,t?c[0]:i?n.size-++a:a++,c[1],u)})},r}function Sc(e,t,n,r){var o=rt(e);return r&&(o.has=function(i){var a=e.get(i,U);return a!==U&&!!t.call(n,a,i,e)},o.get=function(i,a){var s=e.get(i,U);return s!==U&&t.call(n,s,i,e)?s:a}),o.__iterateUncached=function(i,a){var s=this,u=0;return e.__iterate(function(c,l,f){if(t.call(n,c,l,f))return u++,i(c,r?l:u-1,s)},a),u},o.__iteratorUncached=function(i,a){var s=e.__iterator(He,a),u=0;return new j(function(){for(;;){var c=s.next();if(c.done)return c;var l=c.value,f=l[0],p=l[1];if(t.call(n,p,f,e))return te(i,r?f:u++,p,c)}})},o}function Km(e,t,n){var r=fn().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(a){return a+1})}),r.asImmutable()}function Hm(e,t,n){var r=ee(e),o=(We(e)?lt():fn()).asMutable();e.__iterate(function(a,s){o.update(t.call(n,a,s,e),function(u){return u=u||[],u.push(r?[s,a]:a),u})});var i=Ac(e);return o.map(function(a){return Y(e,i(a))}).asImmutable()}function zi(e,t,n,r){var o=e.size;if(Xr(t,n,o))return e;var i=Kn(t,o),a=Zr(n,o);if(i!==i||a!==a)return zi(e.toSeq().cacheResult(),t,n,r);var s=a-i,u;s===s&&(u=s<0?0:s);var c=rt(e);return c.size=u===0?u:e.size&&u||void 0,!r&&bi(e)&&u>=0&&(c.get=function(l,f){return l=St(this,l),l>=0&&l<u?e.get(l+i,f):f}),c.__iterateUncached=function(l,f){var p=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(l,f);var y=0,_=!0,g=0;return e.__iterate(function(k,W){if(!(_&&(_=y++<i)))return g++,l(k,r?W:g-1,p)!==!1&&g!==u}),g},c.__iteratorUncached=function(l,f){if(u!==0&&f)return this.cacheResult().__iterator(l,f);if(u===0)return new j(Le);var p=e.__iterator(l,f),y=0,_=0;return new j(function(){for(;y++<i;)p.next();if(++_>u)return Le();var g=p.next();return r||l===Ke||g.done?g:l===Hn?te(l,_-1,void 0,g):te(l,_-1,g.value[1],g)})},c}function Gm(e,t,n){var r=rt(e);return r.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=0;return e.__iterate(function(u,c,l){return t.call(n,u,c,l)&&++s&&o(u,c,a)}),s},r.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(He,i),u=!0;return new j(function(){if(!u)return Le();var c=s.next();if(c.done)return c;var l=c.value,f=l[0],p=l[1];return t.call(n,p,f,a)?o===He?c:te(o,f,p,c):(u=!1,Le())})},r}function bc(e,t,n,r){var o=rt(e);return o.__iterateUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterate(i,a);var u=!0,c=0;return e.__iterate(function(l,f,p){if(!(u&&(u=t.call(n,l,f,p))))return c++,i(l,r?f:c-1,s)}),c},o.__iteratorUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterator(i,a);var u=e.__iterator(He,a),c=!0,l=0;return new j(function(){var f,p,y;do{if(f=u.next(),f.done)return r||i===Ke?f:i===Hn?te(i,l++,void 0,f):te(i,l++,f.value[1],f);var _=f.value;p=_[0],y=_[1],c&&(c=t.call(n,y,p,s))}while(c);return i===He?f:te(i,p,y,f)})},o}function Ym(e,t){var n=ee(e),r=[e].concat(t).map(function(a){return Ie(a)?n&&(a=je(a)):a=n?ic(a):ac(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(r.length===0)return e;if(r.length===1){var o=r[0];if(o===e||n&&ee(o)||ge(e)&&ge(o))return o}var i=new kt(r);return n?i=i.toKeyedSeq():ge(e)||(i=i.toSetSeq()),i=i.flatten(!0),i.size=r.reduce(function(a,s){if(a!==void 0){var u=s.size;if(u!==void 0)return a+u}},0),i}function wc(e,t,n){var r=rt(e);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;function u(c,l){c.__iterate(function(f,p){return(!t||l<t)&&Ie(f)?u(f,l+1):(a++,o(f,n?p:a-1,r)===!1&&(s=!0)),!s},i)}return u(e,0),a},r.__iteratorUncached=function(o,i){if(i)return this.cacheResult().__iterator(o,i);var a=e.__iterator(o,i),s=[],u=0;return new j(function(){for(;a;){var c=a.next();if(c.done!==!1){a=s.pop();continue}var l=c.value;if(o===He&&(l=l[1]),(!t||s.length<t)&&Ie(l))s.push(a),a=l.__iterator(o,i);else return n?c:te(o,u++,l,c)}return Le()})},r}function Jm(e,t,n){var r=Ac(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}function Xm(e,t){var n=rt(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(r,o){var i=this,a=0;return e.__iterate(function(s){return(!a||r(t,a++,i)!==!1)&&r(s,a++,i)!==!1},o),a},n.__iteratorUncached=function(r,o){var i=e.__iterator(Ke,o),a=0,s;return new j(function(){return(!s||a%2)&&(s=i.next(),s.done)?s:a%2?te(r,a++,t):te(r,a++,s.value,s)})},n}function cn(e,t,n){t||(t=Tc);var r=ee(e),o=0,i=e.toSeq().map(function(a,s){return[s,a,o++,n?n(a,s,e):a]}).valueSeq().toArray();return i.sort(function(a,s){return t(a[3],s[3])||a[2]-s[2]}).forEach(r?function(a,s){i[s].length=2}:function(a,s){i[s]=a[1]}),r?bt(i):ge(e)?Ge(i):un(i)}function ro(e,t,n){if(t||(t=Tc),n){var r=e.toSeq().map(function(o,i){return[o,n(o,i,e)]}).reduce(function(o,i){return Rc(t,o[1],i[1])?i:o});return r&&r[0]}return e.reduce(function(o,i){return Rc(t,o,i)?i:o})}function Rc(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function oo(e,t,n,r){var o=rt(e),i=new kt(n).map(function(a){return a.size});return o.size=r?i.max():i.min(),o.__iterate=function(a,s){for(var u=this.__iterator(Ke,s),c,l=0;!(c=u.next()).done&&a(c.value,l++,this)!==!1;);return l},o.__iteratorUncached=function(a,s){var u=n.map(function(f){return f=ce(f),Ti(s?f.reverse():f)}),c=0,l=!1;return new j(function(){var f;return l||(f=u.map(function(p){return p.next()}),l=r?f.every(function(p){return p.done}):f.some(function(p){return p.done})),l?Le():te(a,c++,t.apply(null,f.map(function(p){return p.value})))})},o}function Y(e,t){return e===t?e:bi(e)?t:e.constructor(t)}function Ec(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ac(e){return ee(e)?je:ge(e)?Dt:on}function rt(e){return Object.create((ee(e)?bt:ge(e)?Ge:un).prototype)}function Ui(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Me.prototype.cacheResult.call(this)}function Tc(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function ot(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function Nc(e,t){if(!e)throw new Error(t)}function Be(e){Nc(e!==1/0,"Cannot perform this action with an infinite size.")}function Ic(e){if(Ni(e)&&typeof e!="string")return e;if(We(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var Zm=Object.prototype.toString;function Lc(e){if(!e||typeof e!="object"||Zm.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t,r=Object.getPrototypeOf(t);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===t}function wt(e){return typeof e=="object"&&(nt(e)||Array.isArray(e)||Lc(e))}function io(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function Qm(e,t){return nt(e)?e.has(t):wt(e)&&sn.call(e,t)}function Mc(e,t,n){return nt(e)?e.get(t,n):Qm(e,t)?typeof e.get=="function"?e.get(t):e[t]:n}function ao(e){if(Array.isArray(e))return ot(e);var t={};for(var n in e)sn.call(e,n)&&(t[n]=e[n]);return t}function eg(e,t){if(!wt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(nt(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!sn.call(e,t))return e;var n=ao(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function tg(e,t,n){if(!wt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(nt(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(sn.call(e,t)&&n===e[t])return e;var r=ao(e);return r[t]=n,r}function ln(e,t,n,r){r||(r=n,n=void 0);var o=$c(nt(e),e,Ic(t),0,n,r);return o===U?n:o}function $c(e,t,n,r,o,i){var a=t===U;if(r===n.length){var s=a?o:t,u=i(s);return u===s?t:u}if(!a&&!wt(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(io)+"]: "+t);var c=n[r],l=a?U:Mc(t,c,U),f=$c(l===U?e:nt(l),l,n,r+1,o,i);return f===l?t:f===U?eg(t,c):tg(a?e?Ye():{}:t,c,f)}function ng(e,t,n){return ln(e,t,U,function(){return n})}function Cc(e,t){return ng(this,e,t)}function Oc(e,t){return ln(e,t,function(){return U})}function xc(e){return Oc(this,e)}function Pc(e,t,n,r){return ln(e,[t],n,r)}function Dc(e,t,n){return arguments.length===1?e(this):Pc(this,e,t,n)}function kc(e,t,n){return ln(this,e,t,n)}function rg(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Vc(this,e)}function og(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return Vc(this,t,e)}function Vc(e,t,n){for(var r=[],o=0;o<t.length;o++){var i=je(t[o]);i.size!==0&&r.push(i)}return r.length===0?e:e.toSeq().size===0&&!e.__ownerID&&r.length===1?e.constructor(r[0]):e.withMutations(function(a){for(var s=n?function(c,l){Pc(a,l,U,function(f){return f===U?c:n(f,c,l)})}:function(c,l){a.set(l,c)},u=0;u<r.length;u++)r[u].forEach(s)})}function Bi(e,t,n){return Fi(e,t,ig(n))}function Fi(e,t,n){if(!wt(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(nt(e))return typeof n=="function"&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),o=e,i=r?Dt:je,a=r?function(u){o===e&&(o=ao(o)),o.push(u)}:function(u,c){var l=sn.call(o,c),f=l&&n?n(o[c],u,c):u;(!l||f!==o[c])&&(o===e&&(o=ao(o)),o[c]=f)},s=0;s<t.length;s++)i(t[s]).forEach(a);return o}function ig(e){function t(n,r,o){return wt(n)&&wt(r)&&ag(n,r)?Fi(n,[r],t):e?e(n,r,o):r}return t}function ag(e,t){var n=Me(e),r=Me(t);return ge(n)===ge(r)&&ee(n)===ee(r)}function sg(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Bi(this,e)}function ug(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Bi(this,t,e)}function zc(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ln(this,e,Ye(),function(r){return Fi(r,t)})}function Uc(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ln(this,e,Ye(),function(r){return Bi(r,t)})}function so(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function uo(){return this.__ownerID?this:this.__ensureOwner(new Si)}function co(){return this.__ensureOwner()}function qi(){return this.__altered}var fn=function(e){function t(n){return n==null?Ye():$i(n)&&!We(n)?n:Ye().withMutations(function(r){var o=e(n);Be(o.size),o.forEach(function(i,a){return r.set(a,i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return Ye().withMutations(function(i){for(var a=0;a<r.length;a+=2){if(a+1>=r.length)throw new Error("Missing value for key: "+r[a]);i.set(r[a],r[a+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,o){return this._root?this._root.get(0,void 0,r,o):o},t.prototype.set=function(r,o){return qc(this,r,o)},t.prototype.remove=function(r){return qc(this,r,U)},t.prototype.deleteAll=function(r){var o=ce(r);return o.size===0?this:this.withMutations(function(i){o.forEach(function(a){return i.remove(a)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ye()},t.prototype.sort=function(r){return lt(cn(this,r))},t.prototype.sortBy=function(r,o){return lt(cn(this,o,r))},t.prototype.map=function(r,o){var i=this;return this.withMutations(function(a){a.forEach(function(s,u){a.set(u,r.call(o,s,u,i))})})},t.prototype.__iterator=function(r,o){return new cg(this,r,o)},t.prototype.__iterate=function(r,o){var i=this,a=0;return this._root&&this._root.iterate(function(s){return a++,r(s[1],s[0],i)},o),a},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Wi(this.size,this._root,r,this.__hash):this.size===0?Ye():(this.__ownerID=r,this.__altered=!1,this)},t}(je);fn.isMap=$i;var X=fn.prototype;X[sc]=!0,X[Jr]=X.remove,X.removeAll=X.deleteAll,X.setIn=Cc,X.removeIn=X.deleteIn=xc,X.update=Dc,X.updateIn=kc,X.merge=X.concat=rg,X.mergeWith=og,X.mergeDeep=sg,X.mergeDeepWith=ug,X.mergeIn=zc,X.mergeDeepIn=Uc,X.withMutations=so,X.wasAltered=qi,X.asImmutable=co,X["@@transducer/init"]=X.asMutable=uo,X["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},X["@@transducer/result"]=function(e){return e.asImmutable()};var Yn=function(t,n){this.ownerID=t,this.entries=n};Yn.prototype.get=function(t,n,r,o){for(var i=this.entries,a=0,s=i.length;a<s;a++)if(xe(r,i[a][0]))return i[a][1];return o},Yn.prototype.update=function(t,n,r,o,i,a,s){for(var u=i===U,c=this.entries,l=0,f=c.length;l<f&&!xe(o,c[l][0]);l++);var p=l<f;if(p?c[l][1]===i:u)return this;if(Ue(s),(u||!p)&&Ue(a),!(u&&c.length===1)){if(!p&&!u&&c.length>=vg)return lg(t,c,o,i);var y=t&&t===this.ownerID,_=y?c:ot(c);return p?u?l===f-1?_.pop():_[l]=_.pop():_[l]=[o,i]:_.push([o,i]),y?(this.entries=_,this):new Yn(t,_)}};var dn=function(t,n,r){this.ownerID=t,this.bitmap=n,this.nodes=r};dn.prototype.get=function(t,n,r,o){n===void 0&&(n=Pe(r));var i=1<<((t===0?n:n>>>t)&me),a=this.bitmap;return(a&i)===0?o:this.nodes[Wc(a&i-1)].get(t+J,n,r,o)},dn.prototype.update=function(t,n,r,o,i,a,s){r===void 0&&(r=Pe(o));var u=(n===0?r:r>>>n)&me,c=1<<u,l=this.bitmap,f=(l&c)!==0;if(!f&&i===U)return this;var p=Wc(l&c-1),y=this.nodes,_=f?y[p]:void 0,g=Ki(_,t,n+J,r,o,i,a,s);if(g===_)return this;if(!f&&g&&y.length>=_g)return dg(t,y,l,u,g);if(f&&!g&&y.length===2&&jc(y[p^1]))return y[p^1];if(f&&g&&y.length===1&&jc(g))return g;var k=t&&t===this.ownerID,W=f?g?l:l^c:l|c,N=f?g?Kc(y,p,g,k):pg(y,p,k):hg(y,p,g,k);return k?(this.bitmap=W,this.nodes=N,this):new dn(t,W,N)};var Jn=function(t,n,r){this.ownerID=t,this.count=n,this.nodes=r};Jn.prototype.get=function(t,n,r,o){n===void 0&&(n=Pe(r));var i=(t===0?n:n>>>t)&me,a=this.nodes[i];return a?a.get(t+J,n,r,o):o},Jn.prototype.update=function(t,n,r,o,i,a,s){r===void 0&&(r=Pe(o));var u=(n===0?r:r>>>n)&me,c=i===U,l=this.nodes,f=l[u];if(c&&!f)return this;var p=Ki(f,t,n+J,r,o,i,a,s);if(p===f)return this;var y=this.count;if(!f)y++;else if(!p&&(y--,y<yg))return fg(t,l,y,u);var _=t&&t===this.ownerID,g=Kc(l,u,p,_);return _?(this.count=y,this.nodes=g,this):new Jn(t,y,g)};var hn=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entries=r};hn.prototype.get=function(t,n,r,o){for(var i=this.entries,a=0,s=i.length;a<s;a++)if(xe(r,i[a][0]))return i[a][1];return o},hn.prototype.update=function(t,n,r,o,i,a,s){r===void 0&&(r=Pe(o));var u=i===U;if(r!==this.keyHash)return u?this:(Ue(s),Ue(a),Hi(this,t,n,r,[o,i]));for(var c=this.entries,l=0,f=c.length;l<f&&!xe(o,c[l][0]);l++);var p=l<f;if(p?c[l][1]===i:u)return this;if(Ue(s),(u||!p)&&Ue(a),u&&f===2)return new ct(t,this.keyHash,c[l^1]);var y=t&&t===this.ownerID,_=y?c:ot(c);return p?u?l===f-1?_.pop():_[l]=_.pop():_[l]=[o,i]:_.push([o,i]),y?(this.entries=_,this):new hn(t,this.keyHash,_)};var ct=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entry=r};ct.prototype.get=function(t,n,r,o){return xe(r,this.entry[0])?this.entry[1]:o},ct.prototype.update=function(t,n,r,o,i,a,s){var u=i===U,c=xe(o,this.entry[0]);if(c?i===this.entry[1]:u)return this;if(Ue(s),u){Ue(a);return}return c?t&&t===this.ownerID?(this.entry[1]=i,this):new ct(t,this.keyHash,[o,i]):(Ue(a),Hi(this,t,n,Pe(o),[o,i]))},Yn.prototype.iterate=hn.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1},dn.prototype.iterate=Jn.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&i.iterate(e,t)===!1)return!1}},ct.prototype.iterate=function(e,t){return e(this.entry)};var cg=function(e){function t(n,r,o){this._type=r,this._reverse=o,this._stack=n._root&&Bc(n._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,o=this._stack;o;){var i=o.node,a=o.index++,s=void 0;if(i.entry){if(a===0)return ji(r,i.entry)}else if(i.entries){if(s=i.entries.length-1,a<=s)return ji(r,i.entries[this._reverse?s-a:a])}else if(s=i.nodes.length-1,a<=s){var u=i.nodes[this._reverse?s-a:a];if(u){if(u.entry)return ji(r,u.entry);o=this._stack=Bc(u,o)}continue}o=this._stack=this._stack.__prev}return Le()},t}(j);function ji(e,t){return te(e,t[0],t[1])}function Bc(e,t){return{node:e,index:0,__prev:t}}function Wi(e,t,n,r){var o=Object.create(X);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var Fc;function Ye(){return Fc||(Fc=Wi(0))}function qc(e,t,n){var r,o;if(e._root){var i=gi(),a=gi();if(r=Ki(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===U?-1:1:0)}else{if(n===U)return e;o=1,r=new Yn(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Wi(o,r):Ye()}function Ki(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===U?e:(Ue(s),Ue(a),new ct(t,r,[o,i]))}function jc(e){return e.constructor===ct||e.constructor===hn}function Hi(e,t,n,r,o){if(e.keyHash===r)return new hn(t,r,[e.entry,o]);var i=(n===0?e.keyHash:e.keyHash>>>n)&me,a=(n===0?r:r>>>n)&me,s,u=i===a?[Hi(e,t,n+J,r,o)]:(s=new ct(t,r,o),i<a?[e,s]:[s,e]);return new dn(t,1<<i|1<<a,u)}function lg(e,t,n,r){e||(e=new Si);for(var o=new ct(e,Pe(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function fg(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];l!==void 0&&s!==r&&(o|=u,a[i++]=l)}return new dn(e,o,a)}function dg(e,t,n,r,o){for(var i=0,a=new Array(ze),s=0;n!==0;s++,n>>>=1)a[s]=n&1?t[i++]:void 0;return a[r]=o,new Jn(e,i+1,a)}function Wc(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Kc(e,t,n,r){var o=r?e:ot(e);return o[t]=n,o}function hg(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function pg(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}var vg=ze/4,_g=ze/2,yg=ze/4,Hc="@@__IMMUTABLE_LIST__@@";function Gc(e){return Boolean(e&&e[Hc])}var Gi=function(e){function t(n){var r=lo();if(n==null)return r;if(Gc(n))return n;var o=e(n),i=o.size;return i===0?r:(Be(i),i>0&&i<ze?Zn(0,i,J,null,new Rt(o.toArray())):r.withMutations(function(a){a.setSize(i),o.forEach(function(s,u){return a.set(u,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,o){if(r=St(this,r),r>=0&&r<this.size){r+=this._origin;var i=Xc(this,r);return i&&i.array[r&me]}return o},t.prototype.set=function(r,o){return mg(this,r,o)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,o){return this.splice(r,0,o)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=J,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):lo()},t.prototype.push=function(){var r=arguments,o=this.size;return this.withMutations(function(i){Et(i,0,o+r.length);for(var a=0;a<r.length;a++)i.set(o+a,r[a])})},t.prototype.pop=function(){return Et(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(o){Et(o,-r.length);for(var i=0;i<r.length;i++)o.set(i,r[i])})},t.prototype.shift=function(){return Et(this,1)},t.prototype.concat=function(){for(var r=arguments,o=[],i=0;i<arguments.length;i++){var a=r[i],s=e(typeof a!="string"&&Ai(a)?a:[a]);s.size!==0&&o.push(s)}return o.length===0?this:this.size===0&&!this.__ownerID&&o.length===1?this.constructor(o[0]):this.withMutations(function(u){o.forEach(function(c){return c.forEach(function(l){return u.push(l)})})})},t.prototype.setSize=function(r){return Et(this,0,r)},t.prototype.map=function(r,o){var i=this;return this.withMutations(function(a){for(var s=0;s<i.size;s++)a.set(s,r.call(o,a.get(s),s,i))})},t.prototype.slice=function(r,o){var i=this.size;return Xr(r,o,i)?this:Et(this,Kn(r,i),Zr(o,i))},t.prototype.__iterator=function(r,o){var i=o?this.size:0,a=Yc(this,o);return new j(function(){var s=a();return s===Xn?Le():te(r,o?--i:i++,s)})},t.prototype.__iterate=function(r,o){for(var i=o?this.size:0,a=Yc(this,o),s;(s=a())!==Xn&&r(s,o?--i:i++,this)!==!1;);return i},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Zn(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?lo():(this.__ownerID=r,this.__altered=!1,this)},t}(Dt);Gi.isList=Gc;var de=Gi.prototype;de[Hc]=!0,de[Jr]=de.remove,de.merge=de.concat,de.setIn=Cc,de.deleteIn=de.removeIn=xc,de.update=Dc,de.updateIn=kc,de.mergeIn=zc,de.mergeDeepIn=Uc,de.withMutations=so,de.wasAltered=qi,de.asImmutable=co,de["@@transducer/init"]=de.asMutable=uo,de["@@transducer/step"]=function(e,t){return e.push(t)},de["@@transducer/result"]=function(e){return e.asImmutable()};var Rt=function(t,n){this.array=t,this.ownerID=n};Rt.prototype.removeBefore=function(t,n,r){if(r===n?1<<n:this.array.length===0)return this;var o=r>>>n&me;if(o>=this.array.length)return new Rt([],t);var i=o===0,a;if(n>0){var s=this.array[o];if(a=s&&s.removeBefore(t,n-J,r),a===s&&i)return this}if(i&&!a)return this;var u=pn(this,t);if(!i)for(var c=0;c<o;c++)u.array[c]=void 0;return a&&(u.array[o]=a),u},Rt.prototype.removeAfter=function(t,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var o=r-1>>>n&me;if(o>=this.array.length)return this;var i;if(n>0){var a=this.array[o];if(i=a&&a.removeAfter(t,n-J,r),i===a&&o===this.array.length-1)return this}var s=pn(this,t);return s.array.splice(o+1),i&&(s.array[o]=i),s};var Xn={};function Yc(e,t){var n=e._origin,r=e._capacity,o=Qn(r),i=e._tail;return a(e._root,e._level,0);function a(c,l,f){return l===0?s(c,f):u(c,l,f)}function s(c,l){var f=l===o?i&&i.array:c&&c.array,p=l>n?0:n-l,y=r-l;return y>ze&&(y=ze),function(){if(p===y)return Xn;var _=t?--y:p++;return f&&f[_]}}function u(c,l,f){var p,y=c&&c.array,_=f>n?0:n-f>>l,g=(r-f>>l)+1;return g>ze&&(g=ze),function(){for(;;){if(p){var k=p();if(k!==Xn)return k;p=null}if(_===g)return Xn;var W=t?--g:_++;p=a(y&&y[W],l-J,f+(W<<l))}}}}function Zn(e,t,n,r,o,i,a){var s=Object.create(de);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}var Jc;function lo(){return Jc||(Jc=Zn(0,0,J))}function mg(e,t,n){if(t=St(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(a){t<0?Et(a,t).set(0,n):Et(a,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=gi();return t>=Qn(e._capacity)?r=Yi(r,e.__ownerID,0,t,n,i):o=Yi(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Zn(e._origin,e._capacity,e._level,o,r):e}function Yi(e,t,n,r,o,i){var a=r>>>n&me,s=e&&a<e.array.length;if(!s&&o===void 0)return e;var u;if(n>0){var c=e&&e.array[a],l=Yi(c,t,n-J,r,o,i);return l===c?e:(u=pn(e,t),u.array[a]=l,u)}return s&&e.array[a]===o?e:(i&&Ue(i),u=pn(e,t),o===void 0&&a===u.array.length-1?u.array.pop():u.array[a]=o,u)}function pn(e,t){return t&&e&&t===e.ownerID?e:new Rt(e?e.array.slice():[],t)}function Xc(e,t){if(t>=Qn(e._capacity))return e._tail;if(t<1<<e._level+J){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&me],r-=J;return n}}function Et(e,t,n){t!==void 0&&(t|=0),n!==void 0&&(n|=0);var r=e.__ownerID||new Si,o=e._origin,i=e._capacity,a=o+t,s=n===void 0?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new Rt(c&&c.array.length?[void 0,c]:[],r),u+=J,l+=1<<u;l&&(a+=l,o+=l,s+=l,i+=l);for(var f=Qn(i),p=Qn(s);p>=1<<u+J;)c=new Rt(c&&c.array.length?[c]:[],r),u+=J;var y=e._tail,_=p<f?Xc(e,s-1):p>f?new Rt([],r):y;if(y&&p>f&&a<i&&y.array.length){c=pn(c,r);for(var g=c,k=u;k>J;k-=J){var W=f>>>k&me;g=g.array[W]=pn(g.array[W],r)}g.array[f>>>J&me]=y}if(s<i&&(_=_&&_.removeAfter(r,0,s)),a>=p)a-=p,s-=p,u=J,c=null,_=_&&_.removeBefore(r,0,a);else if(a>o||p<f){for(l=0;c;){var N=a>>>u&me;if(N!==p>>>u&me)break;N&&(l+=(1<<u)*N),u-=J,c=c.array[N]}c&&a>o&&(c=c.removeBefore(r,u,a-l)),c&&p<f&&(c=c.removeAfter(r,u,p-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=_,e.__hash=void 0,e.__altered=!0,e):Zn(a,s,u,c,_)}function Qn(e){return e<ze?0:e-1>>>J<<J}var lt=function(e){function t(n){return n==null?er():uc(n)?n:er().withMutations(function(r){var o=je(n);Be(o.size),o.forEach(function(i,a){return r.set(a,i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,o){var i=this._map.get(r);return i!==void 0?this._list.get(i)[1]:o},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):er()},t.prototype.set=function(r,o){return Qc(this,r,o)},t.prototype.remove=function(r){return Qc(this,r,U)},t.prototype.__iterate=function(r,o){var i=this;return this._list.__iterate(function(a){return a&&r(a[1],a[0],i)},o)},t.prototype.__iterator=function(r,o){return this._list.fromEntrySeq().__iterator(r,o)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var o=this._map.__ensureOwner(r),i=this._list.__ensureOwner(r);return r?Ji(o,i,r,this.__hash):this.size===0?er():(this.__ownerID=r,this.__altered=!1,this._map=o,this._list=i,this)},t}(fn);lt.isOrderedMap=uc,lt.prototype[an]=!0,lt.prototype[Jr]=lt.prototype.remove;function Ji(e,t,n,r){var o=Object.create(lt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var Zc;function er(){return Zc||(Zc=Ji(Ye(),lo()))}function Qc(e,t,n){var r=e._map,o=e._list,i=r.get(t),a=i!==void 0,s,u;if(n===U){if(!a)return e;o.size>=ze&&o.size>=r.size*2?(u=o.filter(function(c,l){return c!==void 0&&i!==l}),s=u.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=u.__ownerID=e.__ownerID)):(s=r.remove(t),u=i===o.size-1?o.pop():o.set(i,void 0))}else if(a){if(n===o.get(i)[1])return e;s=r,u=o.set(i,[t,n])}else s=r.set(t,o.size),u=o.set(o.size,[t,n]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=u,e.__hash=void 0,e.__altered=!0,e):Ji(s,u)}var el="@@__IMMUTABLE_STACK__@@";function Xi(e){return Boolean(e&&e[el])}var Zi=function(e){function t(n){return n==null?fo():Xi(n)?n:fo().pushAll(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,o){var i=this._head;for(r=St(this,r);i&&r--;)i=i.next;return i?i.value:o},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var o=this.size+arguments.length,i=this._head,a=arguments.length-1;a>=0;a--)i={value:r[a],next:i};return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):tr(o,i)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&Xi(r))return r;Be(r.size);var o=this.size,i=this._head;return r.__iterate(function(a){o++,i={value:a,next:i}},!0),this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):tr(o,i)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):fo()},t.prototype.slice=function(r,o){if(Xr(r,o,this.size))return this;var i=Kn(r,this.size),a=Zr(o,this.size);if(a!==this.size)return e.prototype.slice.call(this,r,o);for(var s=this.size-i,u=this._head;i--;)u=u.next;return this.__ownerID?(this.size=s,this._head=u,this.__hash=void 0,this.__altered=!0,this):tr(s,u)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?tr(this.size,this._head,r,this.__hash):this.size===0?fo():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,o){var i=this;if(o)return new kt(this.toArray()).__iterate(function(u,c){return r(u,c,i)},o);for(var a=0,s=this._head;s&&r(s.value,a++,this)!==!1;)s=s.next;return a},t.prototype.__iterator=function(r,o){if(o)return new kt(this.toArray()).__iterator(r,o);var i=0,a=this._head;return new j(function(){if(a){var s=a.value;return a=a.next,te(r,i++,s)}return Le()})},t}(Dt);Zi.isStack=Xi;var Se=Zi.prototype;Se[el]=!0,Se.shift=Se.pop,Se.unshift=Se.push,Se.unshiftAll=Se.pushAll,Se.withMutations=so,Se.wasAltered=qi,Se.asImmutable=co,Se["@@transducer/init"]=Se.asMutable=uo,Se["@@transducer/step"]=function(e,t){return e.unshift(t)},Se["@@transducer/result"]=function(e){return e.asImmutable()};function tr(e,t,n,r){var o=Object.create(Se);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var tl;function fo(){return tl||(tl=tr(0))}var nl="@@__IMMUTABLE_SET__@@";function Qi(e){return Boolean(e&&e[nl])}function rl(e){return Qi(e)&&We(e)}function ol(e,t){if(e===t)return!0;if(!Ie(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||ee(e)!==ee(t)||ge(e)!==ge(t)||We(e)!==We(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!Qr(e);if(We(e)){var r=e.entries();return t.every(function(u,c){var l=r.next().value;return l&&xe(l[1],u)&&(n||xe(l[0],c))})&&r.next().done}var o=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,s=t.__iterate(function(u,c){if(n?!e.has(u):o?!xe(u,e.get(c,U)):!xe(e.get(c,U),u))return a=!1,!1});return a&&e.size===s}function zt(e,t){var n=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function ea(e){if(!e||typeof e!="object")return e;if(!Ie(e)){if(!wt(e))return e;e=Me(e)}if(ee(e)){var t={};return e.__iterate(function(r,o){t[o]=ea(r)}),t}var n=[];return e.__iterate(function(r){n.push(ea(r))}),n}var nr=function(e){function t(n){return n==null?rr():Qi(n)&&!We(n)?n:rr().withMutations(function(r){var o=e(n);Be(o.size),o.forEach(function(i){return r.add(i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(je(r).keySeq())},t.intersect=function(r){return r=ce(r).toArray(),r.length?_e.intersect.apply(t(r.pop()),r):rr()},t.union=function(r){return r=ce(r).toArray(),r.length?_e.union.apply(t(r.pop()),r):rr()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return ho(this,this._map.set(r,r))},t.prototype.remove=function(r){return ho(this,this._map.remove(r))},t.prototype.clear=function(){return ho(this,this._map.clear())},t.prototype.map=function(r,o){var i=this,a=!1,s=ho(this,this._map.mapEntries(function(u){var c=u[1],l=r.call(o,c,c,i);return l!==c&&(a=!0),[l,l]},o));return a?s:this},t.prototype.union=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return r=r.filter(function(i){return i.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(i){for(var a=0;a<r.length;a++)e(r[a]).forEach(function(s){return i.add(s)})})},t.prototype.intersect=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];if(r.length===0)return this;r=r.map(function(a){return e(a)});var i=[];return this.forEach(function(a){r.every(function(s){return s.includes(a)})||i.push(a)}),this.withMutations(function(a){i.forEach(function(s){a.remove(s)})})},t.prototype.subtract=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];if(r.length===0)return this;r=r.map(function(a){return e(a)});var i=[];return this.forEach(function(a){r.some(function(s){return s.includes(a)})&&i.push(a)}),this.withMutations(function(a){i.forEach(function(s){a.remove(s)})})},t.prototype.sort=function(r){return ir(cn(this,r))},t.prototype.sortBy=function(r,o){return ir(cn(this,o,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,o){var i=this;return this._map.__iterate(function(a){return r(a,a,i)},o)},t.prototype.__iterator=function(r,o){return this._map.__iterator(r,o)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var o=this._map.__ensureOwner(r);return r?this.__make(o,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=o,this)},t}(on);nr.isSet=Qi;var _e=nr.prototype;_e[nl]=!0,_e[Jr]=_e.remove,_e.merge=_e.concat=_e.union,_e.withMutations=so,_e.asImmutable=co,_e["@@transducer/init"]=_e.asMutable=uo,_e["@@transducer/step"]=function(e,t){return e.add(t)},_e["@@transducer/result"]=function(e){return e.asImmutable()},_e.__empty=rr,_e.__make=il;function ho(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function il(e,t){var n=Object.create(_e);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var al;function rr(){return al||(al=il(Ye()))}var gg=function(e){function t(n,r,o){if(!(this instanceof t))return new t(n,r,o);if(Nc(o!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),o=o===void 0?1:Math.abs(o),r<n&&(o=-o),this._start=n,this._end=r,this._step=o,this.size=Math.max(0,Math.ceil((r-n)/o-1)+1),this.size===0){if(ta)return ta;ta=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,o){return this.has(r)?this._start+St(this,r)*this._step:o},t.prototype.includes=function(r){var o=(r-this._start)/this._step;return o>=0&&o<this.size&&o===Math.floor(o)},t.prototype.slice=function(r,o){return Xr(r,o,this.size)?this:(r=Kn(r,this.size),o=Zr(o,this.size),o<=r?new t(0,0):new t(this.get(r,this._end),this.get(o,this._end),this._step))},t.prototype.indexOf=function(r){var o=r-this._start;if(o%this._step===0){var i=o/this._step;if(i>=0&&i<this.size)return i}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,o){for(var i=this.size,a=this._step,s=o?this._start+(i-1)*a:this._start,u=0;u!==i&&r(s,o?i-++u:u++,this)!==!1;)s+=o?-a:a;return u},t.prototype.__iterator=function(r,o){var i=this.size,a=this._step,s=o?this._start+(i-1)*a:this._start,u=0;return new j(function(){if(u===i)return Le();var c=s;return s+=o?-a:a,te(r,o?i-++u:u++,c)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:ol(this,r)},t}(Ge),ta;function sl(e,t,n){for(var r=Ic(t),o=0;o!==r.length;)if(e=Mc(e,r[o++],U),e===U)return n;return e}function Sg(e,t){return sl(this,e,t)}function bg(e,t){return sl(e,t,U)!==U}function wg(e){return bg(this,e)}function ul(){Be(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}ce.isIterable=Ie,ce.isKeyed=ee,ce.isIndexed=ge,ce.isAssociative=Qr,ce.isOrdered=We,ce.Iterator=j,zt(ce,{toArray:function(){Be(this.size);var t=new Array(this.size||0),n=ee(this),r=0;return this.__iterate(function(o,i){t[r++]=n?[i,o]:o}),t},toIndexedSeq:function(){return new vc(this)},toJS:function(){return ea(this)},toKeyedSeq:function(){return new no(this,!0)},toMap:function(){return fn(this.toKeyedSeq())},toObject:ul,toOrderedMap:function(){return lt(this.toKeyedSeq())},toOrderedSet:function(){return ir(ee(this)?this.valueSeq():this)},toSet:function(){return nr(ee(this)?this.valueSeq():this)},toSetSeq:function(){return new _c(this)},toSeq:function(){return ge(this)?this.toIndexedSeq():ee(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Zi(ee(this)?this.valueSeq():this)},toList:function(){return Gi(ee(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,n){return this.size===0?t+n:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Y(this,Ym(this,t))},includes:function(t){return this.some(function(n){return xe(n,t)})},entries:function(){return this.__iterator(He)},every:function(t,n){Be(this.size);var r=!0;return this.__iterate(function(o,i,a){if(!t.call(n,o,i,a))return r=!1,!1}),r},filter:function(t,n){return Y(this,Sc(this,t,n,!0))},find:function(t,n,r){var o=this.findEntry(t,n);return o?o[1]:r},forEach:function(t,n){return Be(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){Be(this.size),t=t!==void 0?""+t:",";var n="",r=!0;return this.__iterate(function(o){r?r=!1:n+=t,n+=o!=null?o.toString():""}),n},keys:function(){return this.__iterator(Hn)},map:function(t,n){return Y(this,gc(this,t,n))},reduce:function(t,n,r){return cl(this,t,n,r,arguments.length<2,!1)},reduceRight:function(t,n,r){return cl(this,t,n,r,arguments.length<2,!0)},reverse:function(){return Y(this,Vi(this,!0))},slice:function(t,n){return Y(this,zi(this,t,n,!0))},some:function(t,n){return!this.every(po(t),n)},sort:function(t){return Y(this,cn(this,t))},values:function(){return this.__iterator(Ke)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,n){return rn(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return Km(this,t,n)},equals:function(t){return ol(this,t)},entrySeq:function(){var t=this;if(t._cache)return new kt(t._cache);var n=t.toSeq().map(Eg).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(po(t),n)},findEntry:function(t,n,r){var o=r;return this.__iterate(function(i,a,s){if(t.call(n,i,a,s))return o=[a,i],!1}),o},findKey:function(t,n){var r=this.findEntry(t,n);return r&&r[0]},findLast:function(t,n,r){return this.toKeyedSeq().reverse().find(t,n,r)},findLastEntry:function(t,n,r){return this.toKeyedSeq().reverse().findEntry(t,n,r)},findLastKey:function(t,n){return this.toKeyedSeq().reverse().findKey(t,n)},first:function(t){return this.find(Yu,null,t)},flatMap:function(t,n){return Y(this,Jm(this,t,n))},flatten:function(t){return Y(this,wc(this,t,!0))},fromEntrySeq:function(){return new yc(this)},get:function(t,n){return this.find(function(r,o){return xe(o,t)},void 0,n)},getIn:Sg,groupBy:function(t,n){return Hm(this,t,n)},has:function(t){return this.get(t,U)!==U},hasIn:wg,isSubset:function(t){return t=typeof t.includes=="function"?t:ce(t),this.every(function(n){return t.includes(n)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:ce(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(n){return xe(n,t)})},keySeq:function(){return this.toSeq().map(Rg).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return ro(this,t)},maxBy:function(t,n){return ro(this,n,t)},min:function(t){return ro(this,t?ll(t):dl)},minBy:function(t,n){return ro(this,n?ll(n):dl,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,n){return Y(this,bc(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(po(t),n)},sortBy:function(t,n){return Y(this,cn(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,n){return Y(this,Gm(this,t,n))},takeUntil:function(t,n){return this.takeWhile(po(t),n)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Ag(this))}});var $e=ce.prototype;$e[Zu]=!0,$e[Ei]=$e.values,$e.toJSON=$e.toArray,$e.__toStringMapper=io,$e.inspect=$e.toSource=function(){return this.toString()},$e.chain=$e.flatMap,$e.contains=$e.includes,zt(je,{flip:function(){return Y(this,mc(this))},mapEntries:function(t,n){var r=this,o=0;return Y(this,this.toSeq().map(function(i,a){return t.call(n,[a,i],o++,r)}).fromEntrySeq())},mapKeys:function(t,n){var r=this;return Y(this,this.toSeq().flip().map(function(o,i){return t.call(n,o,i,r)}).flip())}});var or=je.prototype;or[Qu]=!0,or[Ei]=$e.entries,or.toJSON=ul,or.__toStringMapper=function(e,t){return io(t)+": "+io(e)},zt(Dt,{toKeyedSeq:function(){return new no(this,!1)},filter:function(t,n){return Y(this,Sc(this,t,n,!1))},findIndex:function(t,n){var r=this.findEntry(t,n);return r?r[0]:-1},indexOf:function(t){var n=this.keyOf(t);return n===void 0?-1:n},lastIndexOf:function(t){var n=this.lastKeyOf(t);return n===void 0?-1:n},reverse:function(){return Y(this,Vi(this,!1))},slice:function(t,n){return Y(this,zi(this,t,n,!1))},splice:function(t,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;t=Kn(t,t<0?this.count():this.size);var o=this.slice(0,t);return Y(this,r===1?o:o.concat(ot(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var r=this.findLastEntry(t,n);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Y(this,wc(this,t,!1))},get:function(t,n){return t=St(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?n:this.find(function(r,o){return o===t},void 0,n)},has:function(t){return t=St(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Y(this,Xm(this,t))},interleave:function(){var t=[this].concat(ot(arguments)),n=oo(this.toSeq(),Ge.of,t),r=n.flatten(!0);return n.size&&(r.size=n.size*t.length),Y(this,r)},keySeq:function(){return gg(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,n){return Y(this,bc(this,t,n,!1))},zip:function(){var t=[this].concat(ot(arguments));return Y(this,oo(this,fl,t))},zipAll:function(){var t=[this].concat(ot(arguments));return Y(this,oo(this,fl,t,!0))},zipWith:function(t){var n=ot(arguments);return n[0]=this,Y(this,oo(this,t,n))}});var vn=Dt.prototype;vn[ec]=!0,vn[an]=!0,zt(on,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var _n=on.prototype;_n.has=$e.includes,_n.contains=_n.includes,_n.keys=_n.values,zt(bt,or),zt(Ge,vn),zt(un,_n);function cl(e,t,n,r,o,i){return Be(e.size),e.__iterate(function(a,s,u){o?(o=!1,n=a):n=t.call(r,n,a,s,u)},i),n}function Rg(e,t){return t}function Eg(e,t){return[t,e]}function po(e){return function(){return!e.apply(this,arguments)}}function ll(e){return function(){return-e.apply(this,arguments)}}function fl(){return ot(arguments)}function dl(e,t){return e<t?1:e>t?-1:0}function Ag(e){if(e.size===1/0)return 0;var t=We(e),n=ee(e),r=t?1:0,o=e.__iterate(n?t?function(i,a){r=31*r+hl(Pe(i),Pe(a))|0}:function(i,a){r=r+hl(Pe(i),Pe(a))|0}:t?function(i){r=31*r+Pe(i)|0}:function(i){r=r+Pe(i)|0});return Tg(o,r)}function Tg(e,t){return t=Gn(t,3432918353),t=Gn(t<<15|t>>>-15,461845907),t=Gn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Gn(t^t>>>16,2246822507),t=Gn(t^t>>>13,3266489909),t=to(t^t>>>16),t}function hl(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ir=function(e){function t(n){return n==null?na():rl(n)?n:na().withMutations(function(r){var o=on(n);Be(o.size),o.forEach(function(i){return r.add(i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(je(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(nr);ir.isOrderedSet=rl;var Ut=ir.prototype;Ut[an]=!0,Ut.zip=vn.zip,Ut.zipWith=vn.zipWith,Ut.zipAll=vn.zipAll,Ut.__empty=na,Ut.__make=pl;function pl(e,t){var n=Object.create(Ut);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var vl;function na(){return vl||(vl=pl(er()))}function _l(e,t){return yl([],t||Ng,e,"",t&&t.length>2?[]:void 0,{"":e})}function yl(e,t,n,r,o,i){if(typeof n!="string"&&!nt(n)&&(Ni(n)||Ai(n)||Lc(n))){if(~e.indexOf(n))throw new TypeError("Cannot convert circular structure to Immutable");e.push(n),o&&r!==""&&o.push(r);var a=t.call(i,r,Me(n).map(function(s,u){return yl(e,t,s,u,o,n)}),o&&o.slice());return e.pop(),o&&o.pop(),a}return n}function Ng(e,t){return ge(t)?t.toList():ee(t)?t.toMap():t.toSet()}class Ig{constructor(t,n){if(this.seq=0,this.connected=!1,this.responderMap={},this.target=t,this.name=n,this.send$=new Ct,this.receive$=new Ct,window===t)throw new Error("Messenger: target can not be same as current window");this.isSubWin=window.parent===t,window.addEventListener("message",r=>{if(r.origin!==window.origin||this.name===r.data.name)return;const o=performance.now();this.receive$.next(r.data);const i=performance.now()-o;i>10&&Tn.log(this.name,"execute on message cost:",i,"message type:",r.data.type)}),this.send$.subscribe(r=>{this.target.postMessage(r,window.origin)})}addResponders(t){Object.entries(t).forEach(([n,r])=>{const o=this.receive$.pipe(Ot(i=>i.type?i.type===n:!1),Lm(({message:i,seq:a})=>pi(Promise.all([r(i),Promise.resolve(a)]))),ue(([i,a])=>({type:`echo_${n}`,message:i,echoSeq:a,seq:this.nextSeq(),name:this.name}))).subscribe(this.send$);this.responderMap[n]&&this.responderMap[n].unsubscribe(),this.responderMap[n]=o})}waitForReady(){return new Promise((t,n)=>{let r;const o=setTimeout(()=>{r==null||r.unsubscribe(),n(new Error(`${this.name} messenger connection timeout`))},5e3);this.isSubWin?r=Am(200).pipe(_i(()=>this.send("ping","ping")),Mm(this.listen("ping"))).subscribe({complete:()=>{r==null||r.unsubscribe(),clearTimeout(o),this.connected=!0,t()}}):this.listen("ping").subscribe(()=>{this.send("ping","ping"),clearTimeout(o),this.connected=!0,t()})})}nextSeq(){return this.seq=this.seq+1,this.seq}send(t,n){this.send$.next({type:t,message:n,seq:this.nextSeq(),name:this.name})}listen(t){return this.receive$.pipe(Ot(n=>n.type?n.type===t:!1),ue(({message:n})=>n))}request(t,n){const r=this.nextSeq(),o=new Promise((i,a)=>{const s=setTimeout(()=>{a(new Error(`messenger request timeout, request message type is: ${t}`))},5e3),u=this.receive$.pipe(Nm(({echoSeq:c})=>c===r)).subscribe(c=>{if(u.unsubscribe(),clearTimeout(s),!c){a(new Error("fatal"));return}i(c.message)})});return this.send$.next({type:t,message:n,seq:r,name:this.name}),o}}const ml="simulator_dragging_node_id",Lg="artery_node",gl="artery",Sl="active_node",Mg="active_over_layer_node_id",$g="check_node_support_children";function Cg({rootNode:e,nodeID:t,greenZone:n}){let r=e;const o=vt(e,t);if(!o)return;const i=e.getIn(o);if(!!i)return r=Oc(e,o),bl({rootNode:r,node:i,greenZone:n})}function bl({rootNode:e,node:t,greenZone:n}){if(n.type==="node_without_children"&&(n.position==="inner"||n.position==="inner-left"||n.position==="inner-right"))return ma(e,n.contour.id,t);if(n.type==="node_without_children"&&n.position==="left")return lr(e,n.contour.id,t);if(n.type==="node_without_children"&&n.position==="right")return Nn(e,n.contour.id,t);if(n.type==="adjacent-with-parent"&&n.edge==="left")return lr(e,n.child.id,t);if(n.type==="adjacent-with-parent"&&n.edge==="right")return Nn(e,n.child.id,t);if(n.type==="between-nodes")return n.left.absolutePosition.height<n.right.absolutePosition.height?Nn(e,n.left.id,t):n.left.absolutePosition.height>n.right.absolutePosition.height?lr(e,n.right.id,t):Nn(e,n.left.id,t)}function Og(e){try{return JSON.parse(e)}catch{return}}function Bt(e){return e.id=Ta(e.type),e}function xg(e){return ga(e,{htmlNode:n=>Bt(n),reactComponentNode:n=>Bt(n),loopContainerNode:n=>Bt(n),composedNode:n=>Bt(n),refNode:n=>Bt(n),jsxNode:n=>Bt(n),routeNode:n=>Bt(n)})}var wl=xg;const ra=qn({key:"draggingNodeIDState",default:void 0}),Pg=Ny({key:"draggingArteryImmutableNodeState",get:({get:e})=>{const t=e(ra);if(!!t)return vt(be.value,t)}});qn({key:"activeContourNodeState",default:void 0}),qn({key:"contourNodesState",default:[]});const Rl=qn({key:"hoveringParentIDState",default:""});qn({key:"greenZonesBetweenNodesState",default:[]});const vo=new Ne(void 0),oa=new Ne(void 0),El=new Ct,ia=new Ct,yn=new Ne(void 0),mn=new Ne(!1),Al=new Ct;function Dg(e){const t=e.getData(ml);if(t)return{type:"move_node_request",nodeID:t};const n=Og(e.getData(Lg));if(n)return{type:"insert_node_request",node:wl(n)}}Al.pipe(Ot(()=>!!yn.value),ue(e=>Dg(e.dataTransfer)),Ot(e=>!!e),ue(e=>{if(!!yn.value){if(e.type==="move_node_request")return Cg({rootNode:be.value,nodeID:e.nodeID,greenZone:yn.value});if(e.type==="insert_node_request")return bl({rootNode:be.value,node:e.node,greenZone:yn.value})}}),ue(e=>e?e.toJS():void 0),Ot(e=>!!e)).subscribe(e=>{ua({...Je.value,node:e})});const Ft=new Ig(window.parent,"iframe-side");Ft.waitForReady().then(()=>{});const Tl="DUMMY_ARTERY_ROOT_NODE_ID",kg={node:{id:Tl,type:"html-element",name:"div"}},be=new Ne(_l({id:"initial",type:"html",nam:"div"})),Je=new Ne(kg);Ft.listen(gl).subscribe(Je),Je.pipe(ue(e=>_l(e.node))).subscribe(be);const Vg=be.pipe(ue(e=>e.getIn(["id"])),xt()),aa=new Ne(void 0);Ft.listen(Sl).pipe(xt((e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id))).subscribe(aa);const gn=new Ne(void 0),_o=new Ne(void 0);Ft.listen(Mg).subscribe(_o),wm({activeNode:aa,contourNodesReport:vo,modalLayerContourNodesReport:oa,activeOverLayerNodeID:_o}).pipe(ue(({activeNode:e,contourNodesReport:t,modalLayerContourNodesReport:n,activeOverLayerNodeID:r})=>r?n==null?void 0:n.contourNodes.find(({id:o})=>o===(e==null?void 0:e.id)):t==null?void 0:t.contourNodes.find(({id:o})=>o===(e==null?void 0:e.id))),xt((e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id))).subscribe(gn);const Nl=new Ne(void 0);gn.pipe(Ot(e=>!!e),ue(({absolutePosition:e,relativeRect:t})=>{const{x:n,y:r,height:o}=e;return(t==null?void 0:t.y)<40?{transform:`translate(${n+4}px, ${r+o}px)`}:{transform:`translate(${n+4}px, ${r}px)`}})).subscribe(Nl);const Il=new Ne(void 0);_o.pipe(ue(e=>{if(!e)return;const t=vt(be.value,e);return t?be.value.getIn(t).toJS():void 0}),ue(e=>{if(!!e)return{node:e,apiStateSpec:Je.value.apiStateSpec,sharedStatesSpec:Je.value.sharedStatesSpec}})).subscribe(Il);function sa(e){Ft.send(Sl,e)}function ua(e){Ft.send(gl,e)}function zg(e){return Ft.request($g,e)}const Ll=new Image;Ll.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function Ug(e){e.setDragImage(Ll,0,0)}function yo(e){return e.type==="html-element"?`html-element:${e.name}`:e.type==="react-component"?`react_component:${e.packageName}:${e.packageVersion}:${e.exportName}`:""}function ft(e){const[t,n]=Re(e.value);return we(()=>{const r=e.subscribe(n);return()=>{r.unsubscribe()}},[e]),t}function ca(){const[e,t]=Re("");return we(()=>{const n=Vg.subscribe(t);return()=>{n.unsubscribe()}},[]),e}function Bg(e,t,n){const r=Ro(e,t),[o,i]=Re(),a=At(Wn);return we(()=>(o&&Gu(o,a),()=>{o&&mi(o,a)}),[o]),{...r,ref:s=>s&&i(s),"data-simulator-node-id":e.id,"data-simulator-node-depth":n,"data-simulator-node-executor":yo(e)}}function Fg(){return m.createElement("div",null,"\u8BF7\u62D6\u62FD\u7EC4\u4EF6\u5230\u6B64\u5904\uFF01")}function qg(){return m.createElement("div",{className:"placeholder-for-container-node-children"},m.createElement(Fg))}var Ml=qg;const la=new Map;new Ne(nr());function jg(e,t){const n=yo(e);la.set(n,t)}function fa(e){return la.get(yo(e))}function $l(e){return!!window.__OVER_LAYER_COMPONENTS.find(({packageName:t,exportName:n})=>n===e.exportName)}function Wg(e){const t=fa(e);return t!==void 0?Promise.resolve(t):zg(e).then(n=>(jg(e,n),n))}function Kg(e){return e.type==="html-element"?{type:"html-element",name:e.name}:{type:"react-component",packageName:e.packageName,packageVersion:e.packageName,exportName:e.exportName}}function Cl(e){const[t,n]=Re(!0);return we(()=>{let r=!1;return Wg(Kg(e)).then(()=>{r||n(!1)}),()=>{r=!0}},[]),t}function Hg({node:e,ctx:t}){const n=At(Pt)+1,r=Bg(e,t,n);return Cl(e)?null:e.name?!e.children||!e.children.length?m.createElement(e.name,r,fa(e)?m.createElement(Ml,{parent:e}):void 0):m.createElement(Pt.Provider,{value:n},m.createElement(e.name,r,m.createElement(yi,{nodes:e.children||[],ctx:t}))):(Tn.error("name property is required in html node spec,",`please check the spec of node: ${e.id}.`),null)}var Ol=Hg;const Gg={childList:!0};function Yg(e){return t=>{for(const{type:n,target:r}of t){if(n!=="childList"||r.nodeType!==Node.ELEMENT_NODE)return;const o=r.firstElementChild;if(!o)return;e(o)}}}function Jg(e){const[t,n]=Re(()=>e!=null&&e.firstElementChild?e==null?void 0:e.firstElementChild:null);return we(()=>{if(!e)return;e.firstElementChild&&n(e.firstElementChild);const r=new MutationObserver(Yg(n));return r.observe(e,Gg),()=>{r.disconnect()}},[e]),t}function Xg(e,t){const[n,r]=Re(),o=Jg(n),i=An(),a=At(Wn);return we(()=>{if(i.current&&mi(i.current,a),!!o)return o.dataset.simulatorNodeId=e.id,o.dataset.simulatorNodeExecutor=yo(e),o.dataset.simulatorNodeDepth=`${t}`,Gu(o,a),i.current=o,()=>{o&&mi(o,a)}},[o]),r}function Zg(e,t,n){const r=Ro(e,t),o=Xg(e,n);return{nodeProps:r,wrapperProps:{style:{display:"contents"},ref:o}}}var Qg=Zg;class xl extends m.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(t){super(t),this.state={hasError:!1}}componentDidCatch(t,n){Tn.error("failed to render component:",t)}render(){return this.state.hasError?null:this.props.children}}function eS({node:e,ctx:t}){const n=At(Pt)+1,{nodeProps:r,wrapperProps:o}=Qg(e,t,n),i=_a(e,t.plugins),a=Cl(e),s=n===1;return a||!i||!s&&$l(e)?null:(s&&$l(e)&&(r.isOpen=!0,r.container="inside"),!e.children||!e.children.length?m.createElement(xl,{},m.createElement("div",o,m.createElement(i,r,fa(e)?m.createElement(Ml,{parent:e}):void 0))):m.createElement(Pt.Provider,{value:n},m.createElement(xl,{},m.createElement("div",o,m.createElement(i,r,m.createElement(yi,{nodes:e.children||[],ctx:t}))))))}var tS=eS;function nS({node:e,ctx:t}){var n;const r=e.nodes||e.children;if(((n=e.outLayer)==null?void 0:n.type)==="html-element"){const o={...e.outLayer,children:e.nodes||e.children};m.createElement(Ol,{node:o,ctx:t})}return m.createElement(yi,{nodes:r,ctx:t})}function rS({node:e,ctx:t}){return m.createElement(mo,{node:e.node,ctx:t})}var oS=rS;function iS({node:e,ctx:t}){const n=At(Pt);return e.type==="route-node"||e.type==="jsx-node"||e.type==="ref-node"?(Tn.debug("simulator skip render unsupported node:",e),null):e.type==="html-element"?m.createElement(Pt.Provider,{value:n},m.createElement(Ol,{node:e,ctx:t})):e.type==="react-component"?m.createElement(Pt.Provider,{value:n},m.createElement(tS,{node:e,ctx:t})):e.type==="composed-node"?m.createElement(nS,{node:e,ctx:t}):e.type==="loop-container"?m.createElement(oS,{node:e,ctx:t}):null}var mo=iS;const aS=Ku();function sS({artery:e}){const{ctx:t,rootNode:n}=Eo(e,Ao)||{},r=cr(o=>oa.next(o),[]);return Hu(r),!t||!n?null:m.createElement("div",{className:"simulator-background-layer"},m.createElement(mo,{node:n,ctx:t}))}function uS(){const e=ft(Il);return e?m.createElement(Wn.Provider,{value:aS},m.createElement(sS,{artery:e})):null}var cS=uS;const lS=Ku();function fS({rootElement:e}){const t=ft(Je),{ctx:n,rootNode:r}=Eo(t,Ao)||{},o=cr(i=>vo.next(i),[]);return Hu(o,e),!n||!r?null:m.createElement(mo,{node:r,ctx:n})}function dS(){const[e,t]=Re();return m.createElement(Wn.Provider,{value:lS},m.createElement("div",{className:"simulator-background-layer",ref:n=>{n&&t(n)}},e&&m.createElement(fS,{rootElement:e})))}function hS(){return m.createElement(m.Fragment,null,m.createElement(dS,null),m.createElement(cS,null))}var pS=hS,Pl={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(!!i){var a=typeof i;if(a==="string"||a==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var s=n.apply(null,i);s&&r.push(s)}}else if(a==="object")if(i.toString===Object.prototype.toString)for(var u in i)t.call(i,u)&&i[u]&&r.push(u);else r.push(i.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Pl);var da=Pl.exports;function vS({depth:e,absolutePosition:t}){const{height:n,width:r,x:o,y:i}=t;return wo(()=>({zIndex:e,height:n,width:r,transform:`translate(${o}px, ${i}px)`}),[n,r,o,i,e])}function _S(e){const t=An(),n=vu(ra),r=vu(Pg);return cr(o=>o.dataTransfer.types.includes("artery_node")?!0:!n||!r||n===e?!1:(t.current===void 0&&(t.current=!!vt(r,e)),!t.current),[n,r])}function go(e){return e.preventDefault(),e.stopPropagation(),!1}function yS(e){const[t,n]=Re(!1);return we(()=>{const r=gn.pipe(ue(o=>(o==null?void 0:o.id)===e),xt()).subscribe(n);return()=>{r.unsubscribe()}},[]),t}function mS({contourNode:e}){const[t]=_u(Rl),n=ca(),r=vS(e),[o,i]=_u(ra),a=_S(e.id),s=yS(e.id);return m.createElement(m.Fragment,null,m.createElement("div",{id:`contour-${e.id}`,style:r,onClick:()=>{const u=vt(be.value,e.id);if(!u)return;const c=be.value.getIn(u);!c||sa(c.toJS())},draggable:e.id!==n,onDragStart:u=>{u.dataTransfer.effectAllowed="move",u.dataTransfer.setData(ml,e.id),i(e.id),Ug(u.dataTransfer)},onDragEnd:()=>{i(void 0),mn.next(!1)},onDragOver:u=>{!a(u)||(mn.next(!0),go(u),ia.next({x:u.clientX,y:u.clientY}))},onDrag:u=>{go(u),mn.next(!0)},onDragEnter:u=>{if(!!a(u))return El.next(e),go(u),!1},onDragLeave:()=>{mn.next(!1)},onDrop:u=>(go(u),Al.next(u),mn.next(!1),!1),className:da("contour-node",{"contour-node--root":n===e.id,"contour-node--active":s,"contour-node--hover-as-parent":t===e.id,"contour-node--dragging":o===e.id})}))}var gS=mS;function SS({currentNodeID:e,onParentClick:t}){const n=ft(Je),[r,o]=Re([]),i=Iy(Rl);return we(()=>{const a=Sa(be.value,e);if(!a)return;const s=a.map(u=>{const c=ba(be.value,u);if(!!c)return be.value.getIn(c)}).filter(u=>{if(!u)return!1;const c=u.getIn(["type"]);return c==="html-element"||c==="react-component"}).toJS();o((s==null?void 0:s.reverse().slice(0,5))||[])},[n]),r.length?m.createElement("div",{className:"active-node-parents"},r.map(a=>{const{id:s,label:u}=a;return m.createElement("span",{key:s,className:"active-node-parents__parent",onMouseEnter:()=>{i(s)},onMouseLeave:()=>{i("")},onClick:c=>{c.stopPropagation(),i(""),sa(a),t()}},u||s)})):null}var bS=SS;function wS(e){return wo(()=>e?e.label?e==null?void 0:e.label:"exportName"in e?e.exportName.toUpperCase():"name"in e?e.name.toUpperCase():e.id:"untitled",[e])}const RS=[{name:"offset",options:{offset:[0,4]}}];function ES(){const e=ft(aa),t=ft(gn),{referenceRef:n,Popper:r,handleMouseEnter:o,handleMouseLeave:i,close:a}=Na(),s=An(null),u=ft(Nl),c=wS(e),l=ca();function f(){if(!gn.value)return;const y=wa(Je.value.node,gn.value.id);ua({...Je.value,node:y}),sa(void 0)}function p(){if(!e)return;const y=wl(e),_=Ra(Je.value.node,e.id,y);!_||ua({...Je.value,node:_})}return!t||t.id===l?null:m.createElement("div",{ref:s,className:"active-contour-node-toolbar",style:u},m.createElement("span",{ref:n,className:"active-contour-node-toolbar__parents",onMouseEnter:o(),onMouseLeave:i()},c),m.createElement("span",{onClick:p,className:"active-contour-node-toolbar__action",title:"\u590D\u5236"},m.createElement(To,{name:"content_copy",size:16})),m.createElement("span",{onClick:f,className:"active-contour-node-toolbar__action",title:"\u5220\u9664"},m.createElement(To,{name:"delete_forever",size:16})),m.createElement(r,{placement:"bottom-start",modifiers:RS,container:s.current},m.createElement(bS,{currentNodeID:t.id,onParentClick:a})))}var AS=ES,Dl=[],ar=[];function kl(e,t){if(e&&typeof document!="undefined"){var n,r=t.prepend===!0?"prepend":"append",o=t.singleTag===!0,i=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var a=Dl.indexOf(i);a===-1&&(a=Dl.push(i)-1,ar[a]={}),n=ar[a]&&ar[a][r]?ar[a][r]:ar[a][r]=s()}else n=s();e.charCodeAt(0)===65279&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function s(){var u=document.createElement("style");if(u.setAttribute("type","text/css"),t.attributes)for(var c=Object.keys(t.attributes),l=0;l<c.length;l++)u.setAttribute(c[l],t.attributes[c[l]]);var f=r==="prepend"?"afterbegin":"beforeend";return i.insertAdjacentElement(f,u),u}}var TS=`.contour-nodes {
  position: absolute;
  top: 0;
  z-index: 1;
}

.contour-node {
  position: absolute;
  top: 0;
  border-width: 1px;
  border-color: transparent;
}
.contour-node:hover:not(.contour-node--root, .contour-node--active) {
  outline: 1px dashed #0084ff;
}

.contour-node--active {
  box-shadow: inset 0 0 0 2px #0084ff;
}

.contour-node--hover-as-parent {
  border-color: #f85900;
  border-style: dashed;
}

.contour-node--dragging {
  opacity: 0.7;
  background-color: white;
}

.active-contour-node-toolbar {
  position: absolute;
  display: flex;
  align-items: center;
  top: -30px;
  z-index: 1;
}
.active-contour-node-toolbar .active-contour-node-toolbar__parents,
.active-contour-node-toolbar .active-contour-node-toolbar__action {
  padding: 4px;
  margin-right: 4px;
  color: white;
  font-size: 12px;
  border-radius: 1px;
  background-color: #0084ff;
}
.active-contour-node-toolbar .active-contour-node-toolbar__parents {
  display: inline-block;
  max-width: 150px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.active-contour-node-toolbar .active-contour-node-toolbar__action {
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  fill: white;
}

.active-node-parents {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
}
.active-node-parents .active-node-parents__parent {
  max-width: 200px;
  padding: 4px;
  margin-bottom: 4px;
  color: white;
  background-color: #0084ff;
  border-radius: 4px;
  font-size: 12px;
  cursor: pointer;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.active-node-parents .active-node-parents__parent:hover {
  background-color: #f85900;
}`;kl(TS,{});function NS(){const{contourNodes:e}=ft(vo)||{},{contourNodes:t}=ft(oa)||{};return ft(_o)?t||[]:e||[]}function IS(){const e=NS();return m.createElement(m.Fragment,null,m.createElement("div",{className:"contour-nodes"},e.map(t=>m.createElement(gS,{key:`contour-${t.id}`,contourNode:t}))),m.createElement(AS,null))}var LS=IS;function MS(e,t,n){const r=vt(e,t);if(!r)return[];const o=e.getIn(r);if(!o)return[];const i=Ea(o).map(a=>a.getIn(["id"]));return n.filter(({id:a})=>i.includes(a))}const $S=2;function CS(e,t){return t.filter(n=>!(n.id===e.id||e.raw.x+e.raw.width+$S>n.raw.x||e.raw.y>n.raw.y+n.raw.height||e.raw.y+e.raw.height<n.raw.y))}function OS(e,t){return t.map(n=>{const r={x:e.absolutePosition.x+e.absolutePosition.width,y:Math.min(e.absolutePosition.y,n.absolutePosition.y),width:n.absolutePosition.x-(e.absolutePosition.x+e.absolutePosition.width),height:Math.min(Math.abs(e.absolutePosition.y-(n.absolutePosition.y+n.absolutePosition.height)),Math.abs(e.absolutePosition.y+e.absolutePosition.height-n.absolutePosition.y))},o={x:e.raw.x+e.absolutePosition.width,y:Math.min(e.raw.y,n.raw.y),width:r.width,height:r.height};return{left:e,right:n,absolutePosition:r,type:"between-nodes",raw:o}})}function Vl(e,t){const n=[e.x,e.x+e.width],r=[t.x,t.x+t.width],o=[e.y,e.y+e.height],i=[t.y,t.y+t.height],a=Math.max(n[0],r[0]),s=Math.min(n[1],r[1]),u=Math.max(o[0],i[0]),c=Math.min(o[1],i[1]);return a<s&&u<c}function xS(e,t){return e.filter(({absolutePosition:n})=>!t.some(o=>Vl(o.absolutePosition,n)))}function PS(e,t){const n=t.map(o=>{const i={x:e.raw.x,y:o.raw.y,height:o.absolutePosition.height,width:o.absolutePosition.x-e.absolutePosition.x};return{type:"adjacent-with-parent",parent:e,child:o,edge:"left",raw:i,absolutePosition:{x:e.absolutePosition.x,y:o.absolutePosition.y,height:o.absolutePosition.height,width:o.absolutePosition.x-e.absolutePosition.x}}}),r=t.map(o=>{const i=o.absolutePosition.x+o.absolutePosition.width;return{raw:{x:o.raw.x+o.absolutePosition.width,y:o.raw.y,height:o.absolutePosition.height,width:e.absolutePosition.x+e.absolutePosition.width-i},type:"adjacent-with-parent",parent:e,child:o,edge:"right",absolutePosition:{x:i,y:o.absolutePosition.y,height:o.absolutePosition.height,width:e.absolutePosition.x+e.absolutePosition.width-i}}});return n.concat(r).filter(o=>o.absolutePosition.height<4||o.absolutePosition.width<4?!1:!t.some(({absolutePosition:i})=>Vl(i,o.absolutePosition)))}function DS(e,t,n){const r=MS(e,t.id,n),o=r.map(s=>{const u=CS(s,r);return OS(s,u)}).reduce((s,u)=>s.concat(u),[]),i=xS(o,r),a=PS(t,r);return[...i,...a]}function kS(){const[e,t]=Re([]);return we(()=>{const n=El.pipe(xt(),vi(()=>hi()),ue(r=>{var o;if(!r)return[];const i=(o=vo.value)==null?void 0:o.contourNodes;if(!(i!=null&&i.length))return[];const a=vt(be.value,r.id);if(!a)return[];const s=be.value.getIn(a);return Aa(s)?DS(be.value,r,i):{contour:r,type:"node_without_children",position:"left"}})).subscribe(t);return()=>{n.unsubscribe()}},[]),e}function VS(e,t,n){return t?e<n.x+8?"left":e>n.x+n.width-8?"right":"inner":Math.abs(e-n.x)>n.width/2?"right":"left"}function zS(e,t){const{height:n,width:r,x:o,y:i}=t,a=n-4,s=i+2;if(e==="inner")return{height:a,width:r-4,transform:`translate(${o+2}px, ${s}px)`};if(e==="left")return{height:a,width:"8px",transform:`translate(${Math.max(o-9,0)}px, ${s}px)`};if(e==="right")return{height:a,width:"8px",transform:`translate(${Math.min(o+r+2,window.innerWidth-9)}px, ${s}px)`}}function US({greenZone:e}){const[t,n]=Re(),r=!!la.get(e.contour.executor);return we(()=>{const o=ia.pipe(vi(()=>hi()),ue(({x:i})=>VS(i,r,e.contour.raw)),_i(i=>yn.next({position:i,contour:e.contour,type:"node_without_children"})),ue(i=>zS(i,e.contour.absolutePosition))).subscribe(n);return()=>{o.unsubscribe()}},[e]),m.createElement("div",{className:"green-zone green-zone-for-node-without-children",style:t})}function BS(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function zl(e){return e.type==="adjacent-with-parent"?`adjacent-${e.parent.id}-${e.child.id}-${e.edge}`:`between-${e.left.id}-${e.right.id}`}function FS(e){const[t,n]=Re("");return we(()=>{const r=ia.pipe(vi(()=>hi()),ue(o=>e.filter(({raw:i})=>BS(o,i))),ue(o=>o.length?o[0]:void 0),_i(o=>yn.next(o)),ue(o=>o?zl(o):""),xt()).subscribe(n);return()=>{r.unsubscribe()}},[e]),t}function qS({greenZones:e}){const t=FS(e);return m.createElement(m.Fragment,null,e.map(n=>{const r=zl(n);if(n.type==="between-nodes"){const{absolutePosition:o}=n;return m.createElement("div",{key:r,className:da("green-zone green-zone-between-nodes",{"green-zone-between-nodes--focused":r===t}),style:{height:o.height,width:o.width,transform:`translate(${o.x}px, ${o.y}px)`}})}return m.createElement("div",{key:r,className:da("green-zone green-zone-between-nodes",{"green-zone-between-nodes--focused":r===t}),style:{height:n.absolutePosition.height,width:n.absolutePosition.width,transform:`translate(${n.absolutePosition.x}px, ${n.absolutePosition.y}px)`}})}))}function jS(){const[e,t]=Re(!1);return we(()=>{const n=mn.pipe(xt()).subscribe(t);return()=>{n.unsubscribe()}},[]),e}function WS(){const e=kS();return!jS()||!e?null:Array.isArray(e)?m.createElement(qS,{greenZones:e}):m.createElement(US,{greenZone:e})}var KS=WS,HS=`html,
body {
  width: 100%;
  height: auto;
}

* {
  box-sizing: border-box;
}

.simulator-background-layer {
  position: relative;
  z-index: 0;
}

.artery-simulator-root--modal-open {
  height: 100vh;
  overflow: hidden;
}

.green-zone {
  top: 0;
  position: absolute;
  will-change: width, height, transform;
}

.green-zone-for-node-without-children {
  background-color: rgba(0, 128, 0, 0.3607843137);
  outline: 1px solid #008000;
}

.green-zone-between-nodes {
  outline: 1px dashed #008000;
}

.green-zone-between-nodes--focused {
  background-color: rgba(0, 128, 0, 0.3607843137);
}

.placeholder-for-container-node-children {
  padding: 8px;
  color: #94A3B8;
  text-align: center;
  background-color: #F8FAFC;
}`;kl(HS,{});function GS(){return m.createElement(m.Fragment,null,m.createElement(pS,null),m.createElement(KS,null),m.createElement(LS,null))}var YS=GS;function JS(){return ca()===Tl?null:m.createElement(Ty,null,m.createElement(YS,null))}const Ul=document.createElement("div");document.body.appendChild(Ul),bo.render(m.createElement(JS,null),Ul)}}});
