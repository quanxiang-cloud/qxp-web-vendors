System.register(["react","rxjs"],(function(e){"use strict";var n,t,r,o,u,i,a,c,l;return{setters:[function(e){n=e.createContext,t=e.useContext,r=e.default,o=e.useState,u=e.useEffect,i=e.useCallback,a=e.useMemo,c=e.useRef},function(e){l=e.BehaviorSubject}],execute:function(){function s(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function f(e){return function n(t){return 0===arguments.length||s(t)?n:e.apply(this,arguments)}}function d(e){return function n(t,r){switch(arguments.length){case 0:return n;case 1:return s(t)?n:f((function(n){return e(t,n)}));default:return s(t)&&s(r)?n:s(t)?f((function(n){return e(n,r)})):s(r)?f((function(n){return e(t,n)})):e(t,r)}}}function p(e,n){switch(e){case 0:return function(){return n.apply(this,arguments)};case 1:return function(e){return n.apply(this,arguments)};case 2:return function(e,t){return n.apply(this,arguments)};case 3:return function(e,t,r){return n.apply(this,arguments)};case 4:return function(e,t,r,o){return n.apply(this,arguments)};case 5:return function(e,t,r,o,u){return n.apply(this,arguments)};case 6:return function(e,t,r,o,u,i){return n.apply(this,arguments)};case 7:return function(e,t,r,o,u,i,a){return n.apply(this,arguments)};case 8:return function(e,t,r,o,u,i,a,c){return n.apply(this,arguments)};case 9:return function(e,t,r,o,u,i,a,c,l){return n.apply(this,arguments)};case 10:return function(e,t,r,o,u,i,a,c,l,s){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function y(e,n,t){return function(){for(var r=[],o=0,u=e,i=0;i<n.length||o<arguments.length;){var a;i<n.length&&(!s(n[i])||o>=arguments.length)?a=n[i]:(a=arguments[o],o+=1),r[i]=a,s(a)||(u-=1),i+=1}return u<=0?t.apply(this,r):p(u,y(e,r,t))}}e({buildComposedNodeLoopContainerNode:function(e){return $e({id:Be("composedNode-loop-container-"),type:"loop-container"},e)},buildHTMLNode:function(e){return $e({id:Be(`${e.name}-`),type:"html-element"},e)},buildIndividualLoopContainerNode:function(e){return $e({id:Be("individual-loop-container-"),type:"loop-container"},e)},buildJSXNode:function(e){return $e({id:Be("jsx-"),type:"jsx-node"},e)},buildLinkNode:function(e){return $e({id:Be("link-"),type:"html-element",name:"a",isLink:!0},e)},buildReactComponentNode:function(e){return $e({id:Be("rc-"),type:"react-component"},e)},buildRefNode:function(e){return $e({id:Be("ref-"),type:"ref-node"},e)},buildRouteNode:function(e){return $e({id:Be("route-"),type:"route-node"},e)},buildeLayerId:De,default:function(e){const{artery:n,layers:t,blocksCommunicationStateInitialValue:o}=e,s=a((()=>function(e){return new l(e)}(n)),[]),f=function(){const e=c(wn),{registry:n,onKeyDown:t,init:r,commandNameRunnerMap:o}=function(e){const{commandNameRunnerMap:n}=e.current,t=i((n=>{const{name:t,execute:r,initer:o}=n,{commandList:u,commandNameRunnerMap:i,redoUndoList:a,currentUndoRedoIndex:c,destroyList:l}=e.current,s=null==o?void 0:o();if(s&&l.push(s),i[t]){const e=u.findIndex((e=>e.name===t));u.splice(e,1)}u.push(n),i[t]=(...n)=>{const{redo:t,undo:o}=r(...n);if(!t)return;if(t(),!o)return;let u=a;u.length&&(u=u.slice(0,c+1)),u=Q({redo:t,undo:o},u);const i=c+1;Object.assign(e.current,{redoUndoList:u,currentUndoRedoIndex:i})}}),[]),r=i((n=>{const{commandList:t,commandNameRunnerMap:r}=e.current,{key:o,shiftKey:u,altKey:i,ctrlKey:a,metaKey:c}=n,l=[];(a||c)&&l.push("ctrl"),u&&l.push("shift"),i&&l.push("alt"),l.push(o.toLowerCase());const s=l.join("+");t.forEach((e=>{var n;if(!e.keyboard)return;(Array.isArray(e.keyboard)?e.keyboard:[e.keyboard]).includes(s)&&(null==(n=r[e.name])||n.call(r))}))}),[]),o=i((()=>{t((e=>({name:"undo",keyboard:["ctrl+z"],execute:()=>({redo:()=>{var n,t;const{currentUndoRedoIndex:r,redoUndoList:o}=e.current;-1!==r&&(null==(t=(n=o[r]).undo)||t.call(n),e.current.currentUndoRedoIndex--)}})}))(e)),t((e=>({name:"redo",keyboard:["ctrl+y","ctrl+shift+z"],execute:()=>({redo:()=>{var n,t;const{currentUndoRedoIndex:r,redoUndoList:o}=e.current;r!==o.length-1&&(null==(t=(n=o[r+1]).redo)||t.call(n),e.current.currentUndoRedoIndex++)}})}))(e))}),[]);return{registry:t,onKeyDown:r,init:o,commandNameRunnerMap:n}}(e);return u((()=>{r()}),[r]),u((()=>(window.addEventListener("keydown",t,!0),()=>{window.removeEventListener("keydown",t,!0),e.current.destroyList.forEach((e=>null==e?void 0:e()))})),[t]),{registry:n,commandNameRunnerMap:o,commandStateRef:e}}(),d=a((()=>new xe({arteryStore$:s,useCommandState:f})),[]),p=a((()=>function(e){return new l(null!=e?e:[])}(t.map(De))),[]);return u((()=>{d.setArteryStore(s)}),[s]),r.createElement(Ie,{value:d},r.createElement(Nn,{layersStore$:p,blocksCommunicationStateInitialValue:o}))},generateNodeId:Be,isArteryNode:function(e){return se("id",e)},isComposedNodeChildNode:Fe,isComposedNodeLoopContainerNode:function(e){return He(e)&&"composed-node"===e.node.type},isHTMLNode:Ve,isHasSubNode:function(e){return He(e)||Je(e)},isIndividualLoopContainer:Ke,isJSXNode:function(e){return"jsx-node"===e.type},isLinkNode:function(e){return Ve(e)&&je("isLink",!0,e)},isLoopContainerNode:He,isNodeAcceptChild:function(e){return Ve(e)||Xe(e)},isNodeHasToProps:function(e){return Ke(e)||Fe(e)},isReactComponentNode:Xe,isReactComponentNodeWithExportName:function(e,n){return Xe(e)&&e.exportName===n},isRefNode:function(e){return"ref-node"===e.type},isRouteNode:Je,useArtery:function(){const e=Ce(),{arteryStore$:n}=Ae(e,{});return Ae(n,void 0)},useCommand:function(){var e;const n=Ce(),{useCommandState:t}=Ae(n,{});return null!=(e=null==t?void 0:t.commandNameRunnerMap)?e:{}},useObservable:Ae});var m=d((function(e,n){return 1===e?f(n):p(e,y(e,[],n))}));function h(e){return function n(t,r,o){switch(arguments.length){case 0:return n;case 1:return s(t)?n:d((function(n,r){return e(t,n,r)}));case 2:return s(t)&&s(r)?n:s(t)?d((function(n,t){return e(n,r,t)})):s(r)?d((function(n,r){return e(t,n,r)})):f((function(n){return e(t,r,n)}));default:return s(t)&&s(r)&&s(o)?n:s(t)&&s(r)?d((function(n,t){return e(n,t,o)})):s(t)&&s(o)?d((function(n,t){return e(n,r,t)})):s(r)&&s(o)?d((function(n,r){return e(t,n,r)})):s(t)?f((function(n){return e(n,r,o)})):s(r)?f((function(n){return e(t,n,o)})):s(o)?f((function(n){return e(t,r,n)})):e(t,r,o)}}}var b=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function v(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function g(e,n,t){return function(){if(0===arguments.length)return t();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!b(o)){for(var u=0;u<e.length;){if("function"==typeof o[e[u]])return o[e[u]].apply(o,r);u+=1}if(v(o)){var i=n.apply(null,r);return i(o)}}return t.apply(this,arguments)}}var O=function(){return this.xf["@@transducer/init"]()},j=function(e){return this.xf["@@transducer/result"](e)};function N(e){return"[object String]"===Object.prototype.toString.call(e)}var w=f((function(e){return!!b(e)||!!e&&("object"==typeof e&&(!N(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),S=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,n){return this.f(e,n)},e}();var x=d((function(e,n){return p(e.length,(function(){return e.apply(n,arguments)}))})),k=x;function I(e,n,t){for(var r=t.next();!r.done;){if((n=e["@@transducer/step"](n,r.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=t.next()}return e["@@transducer/result"](n)}function C(e,n,t,r){return e["@@transducer/result"](t[r](k(e["@@transducer/step"],e),n))}var A="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function L(e,n,t){if("function"==typeof e&&(e=function(e){return new S(e)}(e)),w(t))return function(e,n,t){for(var r=0,o=t.length;r<o;){if((n=e["@@transducer/step"](n,t[r]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return e["@@transducer/result"](n)}(e,n,t);if("function"==typeof t["fantasy-land/reduce"])return C(e,n,t,"fantasy-land/reduce");if(null!=t[A])return I(e,n,t[A]());if("function"==typeof t.next)return I(e,n,t);if("function"==typeof t.reduce)return C(e,n,t,"reduce");throw new TypeError("reduce: list must be array or iterable")}var E=function(){function e(e,n){this.xf=n,this.f=e}return e.prototype["@@transducer/init"]=O,e.prototype["@@transducer/result"]=j,e.prototype["@@transducer/step"]=function(e,n){return this.xf["@@transducer/step"](e,this.f(n))},e}(),R=d((function(e,n){return new E(e,n)}));function P(e,n){return Object.prototype.hasOwnProperty.call(n,e)}var U=Object.prototype.toString,M=function(){return"[object Arguments]"===U.call(arguments)?function(e){return"[object Arguments]"===U.call(e)}:function(e){return P("callee",e)}}(),q=M,$=!{toString:null}.propertyIsEnumerable("toString"),z=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(){return arguments.propertyIsEnumerable("length")}(),T=function(e,n){for(var t=0;t<e.length;){if(e[t]===n)return!0;t+=1}return!1},D="function"!=typeof Object.keys||B?f((function(e){if(Object(e)!==e)return[];var n,t,r=[],o=B&&q(e);for(n in e)!P(n,e)||o&&"length"===n||(r[r.length]=n);if($)for(t=z.length-1;t>=0;)P(n=z[t],e)&&!T(r,n)&&(r[r.length]=n),t-=1;return r})):f((function(e){return Object(e)!==e?[]:Object.keys(e)})),H=d(g(["fantasy-land/map","map"],R,(function(e,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return m(n.length,(function(){return e.call(this,n.apply(this,arguments))}));case"[object Object]":return L((function(t,r){return t[r]=e(n[r]),t}),{},D(n));default:return function(e,n){for(var t=0,r=n.length,o=Array(r);t<r;)o[t]=e(n[t]),t+=1;return o}(e,n)}}))),K=H,F=Number.isInteger||function(e){return e<<0===e},V=d((function(e,n){var t=e<0?n.length+e:e;return N(n)?n.charAt(t):n[t]})),X=d((function(e,n){return e.map((function(e){for(var t,r=n,o=0;o<e.length;){if(null==r)return;t=e[o],r=F(t)?V(t,r):r[t],o+=1}return r}))})),J=d((function(e,n){return X([e],n)[0]})),W=f((function(e){return function(){return e}})),G=d((function(e,n){return e&&n})),Q=d((function(e,n){return function(e,n){var t;n=n||[];var r=(e=e||[]).length,o=n.length,u=[];for(t=0;t<r;)u[u.length]=e[t],t+=1;for(t=0;t<o;)u[u.length]=n[t],t+=1;return u}(n,[e])})),Y=h((function(e,n,t){var r={};for(var o in t)r[o]=t[o];return r[e]=n,r})),Z=f((function(e){return null==e})),_=h((function e(n,t,r){if(0===n.length)return t;var o=n[0];if(n.length>1){var u=!Z(r)&&P(o,r)?r[o]:F(n[1])?[]:{};t=e(Array.prototype.slice.call(n,1),t,u)}if(F(o)&&b(r)){var i=[].concat(r);return i[o]=t,i}return Y(o,t,r)})),ee=_,ne=f((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function te(e){for(var n,t=[];!(n=e.next()).done;)t.push(n.value);return t}function re(e,n,t){for(var r=0,o=t.length;r<o;){if(e(n,t[r]))return!0;r+=1}return!1}var oe="function"==typeof Object.is?Object.is:function(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n};function ue(e,n,t,r){var o=te(e);function u(e,n){return ie(e,n,t.slice(),r.slice())}return!re((function(e,n){return!re(u,n,e)}),te(n),o)}function ie(e,n,t,r){if(oe(e,n))return!0;var o,u,i=ne(e);if(i!==ne(n))return!1;if(null==e||null==n)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof n.equals)return"function"==typeof e.equals&&e.equals(n)&&"function"==typeof n.equals&&n.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(u=String(o).match(/^function (\w*)/))?"":u[1]))return e===n;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof n||!oe(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!oe(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1}for(var a=t.length-1;a>=0;){if(t[a]===e)return r[a]===n;a-=1}switch(i){case"Map":return e.size===n.size&&ue(e.entries(),n.entries(),t.concat([e]),r.concat([n]));case"Set":return e.size===n.size&&ue(e.values(),n.values(),t.concat([e]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=D(e);if(c.length!==D(n).length)return!1;var l=t.concat([e]),s=r.concat([n]);for(a=c.length-1;a>=0;){var f=c[a];if(!P(f,n)||!ie(n[f],e[f],l,s))return!1;a-=1}return!0}var ae=d((function(e,n){return ie(e,n,[],[])})),ce=d((function(e,n){return e||n})),le=d((function(e,n){if(0===e.length||Z(n))return!1;for(var t=n,r=0;r<e.length;){if(Z(t)||!P(e[r],t))return!1;t=t[e[r]],r+=1}return!0})),se=d((function(e,n){return le([e],n)})),fe=h((function(e,n,t){return m(Math.max(e.length,n.length,t.length),(function(){return e.apply(this,arguments)?n.apply(this,arguments):t.apply(this,arguments)}))})),de=fe;var pe="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),t=1,r=arguments.length;t<r;){var o=arguments[t];if(null!=o)for(var u in o)P(u,o)&&(n[u]=o[u]);t+=1}return n},ye=d((function(e,n){return null!=n&&n.constructor===e||n instanceof e})),me=d((function(e,n){return function(t){return function(r){return K((function(e){return n(e,r)}),t(e(r)))}}})),he=f((function(e){return me(J(e),ee(e))})),be=d((function(e,n){return pe({},e,n)})),ve=function(e){return{value:e,map:function(n){return ve(n(e))}}},ge=h((function(e,n,t){return e((function(e){return ve(n(e))}))(t).value})),Oe=ge,je=h((function(e,n,t){return ae(n,t[e])})),Ne=h((function(e,n,t){return Oe(e,W(n),t)})),we=Ne,Se=h((function(e,n,t){return e(t)?n(t):t}));class xe extends l{constructor(){super(...arguments),this.set=(e,n)=>{this.next(we(he(e.split(".")),n,this.getValue()))},this.setActiveNode=e=>{this.set("activeNode",e)},this.setBlocksCommunicationState=e=>{this.set("blocksCommunicationState$",e)}}setArteryStore(e){this.set("arteryStore$",e)}}const ke=n(new xe({}));function Ie({children:e,value:n}){return r.createElement(ke.Provider,{value:n},e)}function Ce(){return t(ke)}function Ae(e,n){const[t,r]=o(n);return u((()=>{if(e){const n=e.subscribe(r);return()=>n.unsubscribe()}}),[e]),null!=t?t:n}function Le(e,n){null==e||e.next(n)}let Ee=e=>crypto.getRandomValues(new Uint8Array(e));var Re=Object.defineProperty,Pe=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,qe=(e,n,t)=>n in e?Re(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,$e=(e,n)=>{for(var t in n||(n={}))Ue.call(n,t)&&qe(e,t,n[t]);if(Pe)for(var t of Pe(n))Me.call(n,t)&&qe(e,t,n[t]);return e};const ze=e("uuid",((e,n=21)=>((e,n,t)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*n/e.length);return(u=n)=>{let i="";for(;;){let n=t(o),a=o;for(;a--;)if(i+=e[n[a]&r]||"",i.length===u)return i}}})(e,n,Ee))("1234567890qwertyuioplkjhgfdsazxcvbnmQWERTYUIOPLKJHGFDSAZXCVBNM",10));function Be(e){return`${e||""}${ze()}`}function Te(e){e.id||(e.id=Be("block-"))}function De(e){return e.id||(e.id=Be("layer-")),e.blocks.forEach(Te),e}function He(e){return"loop-container"===e.type}function Ke(e){return He(e)&&se("toProps",e)}function Fe(e){return se("toProps",e)}function Ve(e){return"html-element"===e.type}function Xe(e){return"react-component"===e.type}function Je(e){return"route-node"===e.type}const We=e("isObject",ye(Object));var Ge=Object.defineProperty,Qe=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,Ze=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,nn=(e,n,t)=>n in e?Ge(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;function tn(e){var n,t;const{style:o,render:u,id:a="",onUpdateLayer:c}=e,l=Ce(),s=Ae(l,{}),{arteryStore$:f,blocksCommunicationState$:d,activeNode:p,useCommandState:y}=s,m=Ae(f,void 0),h=Ae(d,{});null==y||y.registry({name:"updateArtery",execute:e=>m?{redo(){Le(f,e)},undo(){Le(f,m)}}:{}});const b=i((e=>{var n,t;null==(t=null==(n=null==y?void 0:y.commandNameRunnerMap)?void 0:n.updateArtery)||t.call(n,e)}),[y]),v=i(((e,n)=>{d.next(we(he(e.split(".")),n,h))}),[h,d]),g=i((e=>{l.setActiveNode(e)}),[l]),O=i((e=>{var n,t,r;c((t=((e,n)=>{for(var t in n||(n={}))_e.call(n,t)&&nn(e,t,n[t]);if(Ze)for(var t of Ze(n))en.call(n,t)&&nn(e,t,n[t]);return e})({},e),r={blockId:null!=(n=e.blockId)?n:a},Qe(t,Ye(r))))}),[a,c]),{currentUndoRedoIndex:j,redoUndoList:N}=null!=(t=null==(n=null==y?void 0:y.commandStateRef)?void 0:n.current)?t:{},w=G(N,j),S=!!w&&j<N.length-1,x=!!w&&j>-1;return m&&d?r.createElement("div",{className:"artery-engine-layer-block",style:o},r.createElement(u,{artery:m,onChange:b,sharedState:h,onSharedStateChange:v,activeNode:p,commands:null==y?void 0:y.commandNameRunnerMap,commandsHasNext:S,commandsHasPrev:x,generateNodeId:Be,setActiveNode:g,onUpdateLayer:c,onUpdateBlock:O})):null}function rn(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}rn(".artery-engine-layer {\n  position: fixed;\n  inset: 0;\n  border-radius: 5px;\n  overflow: hidden;\n}");var on=Object.defineProperty,un=Object.defineProperties,an=Object.getOwnPropertyDescriptors,cn=Object.getOwnPropertySymbols,ln=Object.prototype.hasOwnProperty,sn=Object.prototype.propertyIsEnumerable,fn=(e,n,t)=>n in e?on(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,dn=(e,n)=>{for(var t in n||(n={}))ln.call(n,t)&&fn(e,t,n[t]);if(cn)for(var t of cn(n))sn.call(n,t)&&fn(e,t,n[t]);return e},pn=(e,n)=>un(e,an(n));function yn(e){const{blocks:n,zIndex:t,style:o,updateLayer:u,id:a=""}=e,c=be({display:"grid",gap:"1px",zIndex:t},o),l=i((({hide:e})=>!0!==e),[]),s=i((e=>{var n;u(pn(dn({},e),{layerId:null!=(n=e.layerId)?n:a}))}),[a,u]);return r.createElement("div",{className:"artery-engine-layer",style:c},n.filter(l).map((e=>r.createElement(tn,pn(dn({},e),{key:e.id,onUpdateLayer:s})))))}var mn=Object.defineProperty,hn=Object.defineProperties,bn=Object.getOwnPropertyDescriptors,vn=Object.getOwnPropertySymbols,gn=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable,jn=(e,n,t)=>n in e?mn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;function Nn(e){const{layersStore$:n,blocksCommunicationStateInitialValue:t}=e,o=Ae(n,[]),c=Ce(),s=a((()=>new l(t)),[]);u((()=>{c.setBlocksCommunicationState(s)}),[]);const f=i((({layerId:e,blockId:t,name:r,value:u})=>{var i;const a=o.findIndex((n=>n.id===e)),c=o[a],l=null!=(i=null==c?void 0:c.blocks.findIndex((e=>e.id===t)))?i:-1,s=(e,n)=>We(e)&&We(n)?be(e,n):n;Se((e=>ce(G(!!e,!t),G(!!t,-1!==l))),(()=>{const e=de((()=>!t),(()=>Oe(he([a]),(e=>Object.assign(e,{[r]:s(e[r],u)})),o)),(()=>Oe(he([a,"blocks",l]),(e=>Object.assign(e,{[r]:s(e[r],u)})),o)));n.next(e())}))(c)}),[n,o]),d=i((e=>!0!==e.hide),[]);return r.createElement(r.Fragment,null,o.filter(d).map(((e,n)=>{return r.createElement(yn,(t=((e,n)=>{for(var t in n||(n={}))gn.call(n,t)&&jn(e,t,n[t]);if(vn)for(var t of vn(n))On.call(n,t)&&jn(e,t,n[t]);return e})({},e),o={key:e.id,zIndex:n,updateLayer:f},hn(t,bn(o))));var t,o})))}const wn={currentUndoRedoIndex:-1,redoUndoList:[],commandList:[],commandNameRunnerMap:{},destroyList:[]};rn("html, body {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n}")}}}));
