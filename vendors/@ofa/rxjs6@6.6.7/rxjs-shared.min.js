/* rxjs@6.6.7 */
System.register([],(function(t){"use strict";return{execute:function(){function e(t){return"function"==typeof t}t({$:we,D:ie,F:U,H:function(...t){if(1===t.length){const e=t[0];if(o(e))return re(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return re(t.map((t=>e[t])),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return re(t=1===t.length&&o(t[0])?t[0]:t,null).pipe(It((t=>e(...t))))}return re(t,null)},I:Ut,J:function t(s,i,r,n){e(r)&&(n=r,r=void 0);if(n)return t(s,i,r).pipe(It((t=>o(t)?n(...t):n(t))));return new _((t=>{ne(s,i,(function(e){arguments.length>1?t.next(Array.prototype.slice.call(arguments)):t.next(e)}),t,r)}))},K:function t(s,i,r){if(r)return t(s,i).pipe(It((t=>o(t)?r(...t):r(t))));return new _((t=>{const r=(...e)=>t.next(1===e.length?e[0]:e);let n;try{n=s(r)}catch(e){return void t.error(e)}if(e(i))return()=>i(r,n)}))},L:function(t,e,s,i,r){let n,o;if(1==arguments.length){const i=t;o=i.initialState,e=i.condition,s=i.iterate,n=i.resultSelector||x,r=i.scheduler}else void 0===i||G(i)?(o=t,n=x,r=i):(o=t,n=i);return new _((t=>{let i=o;if(r)return r.schedule(oe,0,{subscriber:t,iterate:s,condition:e,resultSelector:n,state:i});for(;;){if(e){let s;try{s=e(i)}catch(e){return void t.error(e)}if(!s){t.complete();break}}let r;try{r=n(i)}catch(e){return void t.error(e)}if(t.next(r),t.closed)break;try{i=s(i)}catch(e){return void t.error(e)}}}))},M:function(t,e=X,s=X){return ie((()=>t()?e:s))},P:function(t=0,e=xt){(!ce(t)||t<0)&&(t=0);e&&"function"==typeof e.schedule||(e=xt);return new _((s=>(s.add(e.schedule(ue,t,{subscriber:s,counter:0,period:t})),s)))},Q:he,W:function(){return le},X:Q,Y:function t(...e){if(0===e.length)return X;const[s,...i]=e;if(1===e.length&&o(s))return t(...s);return new _((e=>{const r=()=>e.add(t(...i).subscribe(e));return Ut(s).subscribe({next(t){e.next(t)},error:r,complete:r})}))},Z:function(t,e){return new _(e?s=>{const i=Object.keys(t),r=new l;return r.add(e.schedule(ae,0,{keys:i,index:0,subscriber:s,subscription:r,obj:t})),r}:e=>{const s=Object.keys(t);for(let i=0;i<s.length&&!e.closed;i++){const r=s[i];t.hasOwnProperty(r)&&e.next([r,t[r]])}e.complete()})},_:function(t,e,s){return[be(e,s)(new _(zt(t))),be(de(e,s))(new _(zt(t)))]},a:function(t,e){for(let s=0,i=e.length;s<i;s++){const i=e[s],r=Object.getOwnPropertyNames(i.prototype);for(let e=0,s=r.length;e<s;e++){const s=r[e];t.prototype[s]=i.prototype[s]}}},a$:function(t,e){return s=>[be(t,e)(s),be(de(t,e))(s)]},a0:function(t=0,e,s){return new _((i=>{void 0===e&&(e=t,t=0);let r=0,n=t;if(s)return s.schedule(me,0,{index:r,count:e,start:t,subscriber:i});for(;;){if(r++>=e){i.complete();break}if(i.next(n++),i.closed)break}}))},a1:Z,a2:_e,a3:function(t,e){return new _((s=>{let i,r;try{i=t()}catch(t){return void s.error(t)}try{r=e(i)}catch(t){return void s.error(t)}const n=(r?Ut(r):X).subscribe(s);return()=>{n.unsubscribe(),i&&i.unsubscribe()}}))},a4:Se,a5:Xt,a9:Ie,aA:function(){return t=>t.lift(new Os)},aB:function t(e,s){if(s)return i=>i.pipe(t(((t,i)=>Ut(e(t,i)).pipe(It(((e,r)=>s(t,e,i,r)))))));return t=>t.lift(new js(e))},aC:function(t,e=Number.POSITIVE_INFINITY,s){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,i=>i.lift(new As(t,e,s))},aD:be,aE:function(t){return e=>e.lift(new Fs(t))},aF:function(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return s=>s.lift(new Ws(t,s,!1,e))},aG:function(t,e){return s=>s.lift(new Ws(t,s,!0,e))},aH:function(t,e){const s=arguments.length>=2;return i=>i.pipe(t?be(((e,s)=>t(e,s,i))):x,Ts(1),s?ss(e):_s((()=>new Et)))},aI:function(t,e,s,i){return r=>r.lift(new P(t,e,s,i))},aJ:function(){return function(t){return t.lift(new Ds)}},aK:function(){return t=>t.lift(new zs)},aL:function(t,e){const s=arguments.length>=2;return i=>i.pipe(t?be(((e,s)=>t(e,s,i))):x,Hs(1),s?ss(e):_s((()=>new Et)))},aM:It,aN:function(t){return e=>e.lift(new Xs(t))},aO:function(){return function(t){return t.lift(new Gs)}},aP:function(t){return Zs("function"==typeof t?(e,s)=>t(e,s)>0?e:s:(t,e)=>t>e?t:e)},aQ:function(...t){return e=>e.lift.call(he(e,...t))},aR:te,aS:Kt,aU:function(t,e,s=Number.POSITIVE_INFINITY){if("function"==typeof e)return Kt((()=>t),e,s);"number"==typeof e&&(s=e);return Kt((()=>t),s)},aV:function(t,e,s=Number.POSITIVE_INFINITY){return i=>i.lift(new ti(t,e,s))},aW:function(t){return Zs("function"==typeof t?(e,s)=>t(e,s)<0?e:s:(t,e)=>t<e?t:e)},aX:si,aY:function(t,e=0){return function(s){return s.lift(new it(t,e))}},aZ:function(...t){1===t.length&&o(t[0])&&(t=t[0]);return e=>e.lift(new ri(t))},a_:function(){return t=>t.lift(new oi)},aa:function(t,e=xt){return Ie((()=>_e(t,e)))},ab:function(t){return function(e){return e.lift(new je(t))}},ac:function(t,e=null){return function(s){return s.lift(new Ae(t,e))}},ad:function(t){let e=arguments.length,s=xt;G(arguments[arguments.length-1])&&(s=arguments[arguments.length-1],e--);let i=null;e>=2&&(i=arguments[1]);let r=Number.POSITIVE_INFINITY;e>=3&&(r=arguments[2]);return function(e){return e.lift(new Re(t,i,r,s))}},ae:function(t,e){return function(s){return s.lift(new Me(t,e))}},af:function(t){return function(e){return e.lift(new Ye(t))}},ag:function(t){return function(e){const s=new Xe(t),i=e.lift(s);return s.caught=i}},ah:function(t){return e=>e.lift(new Yt(t))},ai:function(...t){let e=null;"function"==typeof t[t.length-1]&&(e=t.pop());1===t.length&&o(t[0])&&(t=t[0].slice());return s=>s.lift.call(Ut([s,...t]),new Yt(e))},aj:function(...t){return e=>e.lift.call(se(e,...t))},ak:ee,al:Ge,am:function(t,e){return Ge((()=>t),e)},an:function(t){return e=>e.lift(new Je(t,e))},ao:function(t){return e=>e.lift(new Ke(t))},ap:function(t,e=xt){return s=>s.lift(new Ze(t,e))},aq:ss,ar:function(t,e=xt){const s=ns(t)?+t-e.now():Math.abs(t);return t=>t.lift(new os(s,e))},as:function(t,e){if(e)return s=>new as(s,e).lift(new hs(t));return e=>e.lift(new hs(t))},at:function(){return function(t){return t.lift(new bs)}},au:function(t,e){return s=>s.lift(new fs(t,e))},av:xs,aw:function(t,e){return xs(((s,i)=>e?e(s[t],i[t]):s[t]===i[t]))},ax:function(t,e){if(t<0)throw new vt;const s=arguments.length>=2;return i=>i.pipe(be(((e,s)=>s===t)),Ts(1),s?ss(e):_s((()=>new vt)))},ay:function(...t){return e=>se(e,Q(...t))},az:function(t,e){return s=>s.lift(new Cs(t,e,s))},b0:function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return s=>It(function(t,e){return s=>{let i=s;for(let s=0;s<e;s++){const e=null!=i?i[t[s]]:void 0;if(void 0===e)return;i=e}return i}}(t,e))(s)},b1:function(t){return t?si((()=>new N),t):si(new N)},b2:function(t){return e=>si(new D(t))(e)},b3:function(){return t=>si(new ut)(t)},b4:function(t,e,s,i){s&&"function"!=typeof s&&(i=s);const r="function"==typeof s?s:void 0,n=new ot(t,e,i);return t=>si((()=>n),r)(t)},b5:function(...t){return function(e){return 1===t.length&&o(t[0])&&(t=t[0]),e.lift.call(we(e,...t))}},b6:Zs,b7:function(t=-1){return e=>0===t?U():t<0?e.lift(new ui(-1,e)):e.lift(new ui(t-1,e))},b8:function(t){return e=>e.lift(new li(t))},b9:function(t=-1){return e=>e.lift(new di(t,e))},bA:function(t=xt){return e=>ie((()=>e.pipe($s((({current:e},s)=>({value:s,current:t.now(),last:e})),{current:t.now(),value:void 0,last:void 0}),It((({current:t,last:e,value:s})=>new Qi(s,t-e))))))},bB:function(t,e=xt){return Zi(t,Z(new Ct),e)},bC:Zi,bD:function(t=xt){return It((e=>new sr(e,t.now())))},bE:function(){return Zs(ir,[])},bF:function(t){return function(e){return e.lift(new rr(t))}},bG:function(t,e=0){return function(s){return s.lift(new or(t,e))}},bH:function(t){let e=xt,s=null,i=Number.POSITIVE_INFINITY;G(arguments[3])&&(e=arguments[3]);G(arguments[2])?e=arguments[2]:ce(arguments[2])&&(i=Number(arguments[2]));G(arguments[1])?e=arguments[1]:ce(arguments[1])&&(s=Number(arguments[1]));return function(r){return r.lift(new ur(t,s,i,e))}},bI:function(t,e){return s=>s.lift(new pr(t,e))},bJ:function(t){return function(e){return e.lift(new wr(t))}},bK:function(...t){return e=>{let s;"function"==typeof t[t.length-1]&&(s=t.pop());const i=t;return e.lift(new yr(i,s))}},bL:function(...t){return function(e){return e.lift.call(Se(e,...t))}},bM:function(t){return e=>e.lift(new ve(t))},bR:function(t,e={}){const{selector:s}=e,i=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(s[i[r]]=t[i[r]])}return s}(e,["selector"]);return new _((e=>{const r=new AbortController,n=r.signal;let o=!0,c=!1;const u=new l;let h;if(u.add((()=>{c=!0,o&&r.abort()})),i){if(i.signal)if(i.signal.aborted)r.abort();else{const t=i.signal,e=()=>{n.aborted||r.abort()};t.addEventListener("abort",e),u.add((()=>t.removeEventListener("abort",e)))}h=Object.assign({},i,{signal:n})}else h={signal:n};return fetch(t,h).then((t=>{s?u.add(Ut(s(t)).subscribe((t=>e.next(t)),(t=>{o=!1,c||e.error(t)}),(()=>{o=!1,e.complete()}))):(o=!1,e.next(t),e.complete())})).catch((t=>{o=!1,c||e.error(t)})),u}))},bS:function(t){return new Dr(t)},ba:function(t){return e=>e.lift(new pi(t,e))},bb:I,bc:function(t){return e=>e.lift(new wi(t))},bd:function(t,e=xt){return s=>s.lift(new yi(t,e))},be:$s,bf:function(t,e){return s=>s.lift(new gi(t,e))},bg:function(){return t=>I()(si(Ti)(t))},bh:function(t,e,s){let i;i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:s};return t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:s,scheduler:i}){let r,n,o=0,c=!1,u=!1;return function(h){let l;o++,!r||c?(c=!1,r=new ot(t,e,i),l=r.subscribe(this),n=h.subscribe({next(t){r.next(t)},error(t){c=!0,r.error(t)},complete(){u=!0,n=void 0,r.complete()}}),u&&(n=void 0)):l=r.subscribe(this),this.add((()=>{o--,l.unsubscribe(),l=void 0,n&&!u&&s&&0===o&&(n.unsubscribe(),n=void 0,r=void 0)}))}}(i))},bi:function(t){return e=>e.lift(new Ei(t,e))},bj:function(t){return e=>e.lift(new Ci(t))},bk:function(t){return e=>e.lift(new Oi(t))},bl:function(t){return e=>e.lift(new ji(t))},bm:function(t){return e=>e.lift(new Ai(t))},bn:function(...t){const e=t[t.length-1];return G(e)?(t.pop(),s=>se(t,s,e)):e=>se(t,e)},bo:function(t,e=0){return function(s){return s.lift(new Ri(t,e))}},bp:function(){return Wi(x)},bq:Wi,br:function(t,e){return e?Wi((()=>t),e):Wi((()=>t))},bs:Ts,bt:Hs,bu:function(t){return e=>e.lift(new Bi(t))},bv:function(t,e=!1){return s=>s.lift(new Mi(t,e))},bw:function(t,e,s){return function(i){return i.lift(new Yi(t,e,s))}},bx:function(t,e=Xi){return s=>s.lift(new Ui(t,!!e.leading,!!e.trailing))},by:function(t,e=xt,s=Xi){return i=>i.lift(new Ji(t,e,s.leading,s.trailing))},bz:_s,p:y,r:gt,s:x,t:function(t){return!!t&&(t instanceof _||"function"==typeof t.lift&&"function"==typeof t.subscribe)},w:function t(e,s,i){if(s){if(!G(s))return(...r)=>t(e,i)(...r).pipe(It((t=>o(t)?s(...t):s(t))));i=s}return function(...t){const s=this;let r;const n={context:s,subject:r,callbackFunc:e,scheduler:i};return new _((o=>{if(i){const e={args:t,subscriber:o,params:n};return i.schedule(jt,0,e)}if(!r){r=new ut;const i=(...t)=>{r.next(t.length<=1?t[0]:t),r.complete()};try{e.apply(s,[...t,i])}catch(t){f(r)?r.error(t):console.warn(t)}}return r.subscribe(o)}))}},x:function t(e,s,i){if(s){if(!G(s))return(...r)=>t(e,i)(...r).pipe(It((t=>o(t)?s(...t):s(t))));i=s}return function(...t){const s={subject:void 0,args:t,callbackFunc:e,scheduler:i,context:this};return new _((r=>{const{context:n}=s;let{subject:o}=s;if(i)return i.schedule(At,0,{params:s,subscriber:r,context:n});if(!o){o=s.subject=new ut;const i=(...t)=>{const e=t.shift();e?o.error(e):(o.next(t.length<=1?t[0]:t),o.complete())};try{e.apply(n,[...t,i])}catch(t){f(o)?o.error(t):console.warn(t)}}return o.subscribe(r)}))}},y:function(...t){let e,s;G(t[t.length-1])&&(s=t.pop());"function"==typeof t[t.length-1]&&(e=t.pop());1===t.length&&o(t[0])&&(t=t[0]);return K(t,s).lift(new Yt(e))},z:se});let s=!1;const i=t("a8",{Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=t},get useDeprecatedSynchronousErrorHandling(){return s}});function r(t){setTimeout((()=>{throw t}),0)}const n={closed:!0,next(t){},error(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;r(t)},complete(){}},o=Array.isArray||(t=>t&&"number"==typeof t.length);function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((t,e)=>`${e+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})(),h=t("U",u);class l{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:s,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:n}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof l)s.remove(this);else if(null!==s)for(let t=0;t<s.length;++t){s[t].remove(this)}if(e(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){t=e instanceof h?a(e.errors):[e]}}if(o(n)){let e=-1,s=n.length;for(;++e<s;){const s=n[e];if(c(s))try{s.unsubscribe()}catch(e){t=t||[],e instanceof h?t=t.concat(a(e.errors)):t.push(e)}}}if(t)throw new h(t)}add(t){let e=t;if(!t)return l.EMPTY;switch(typeof t){case"function":e=new l(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof l)){const t=e;e=new l,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:s}=e;if(null===s)e._parentOrParents=this;else if(s instanceof l){if(s===this)return e;e._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return e;s.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e}remove(t){const e=this._subscriptions;if(e){const s=e.indexOf(t);-1!==s&&e.splice(s,1)}}}function a(t){return t.reduce(((t,e)=>t.concat(e instanceof h?e.errors:e)),[])}t("S",l),l.EMPTY=function(t){return t.closed=!0,t}(new l);const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class b extends l{constructor(t,e,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n;break;case 1:if(!t){this.destination=n;break}if("object"==typeof t){t instanceof b?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new p(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new p(this,t,e,s)}}[d](){return this}static create(t,e,s){const i=new b(t,e,s);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}t("m",b);class p extends b{constructor(t,s,i,r){let o;super(),this._parentSubscriber=t;let c=this;e(s)?o=s:s&&(o=s.next,i=s.error,r=s.complete,s!==n&&(c=Object.create(s),e(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=o,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:s}=i;if(this._error)s&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)s?(e.syncErrorValue=t,e.syncErrorThrown=!0):r(t),this.unsubscribe();else{if(this.unsubscribe(),s)throw t;r(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw t;r(t)}}__tryOrSetError(t,e,s){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,s)}catch(e){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(r(e),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}function f(t){for(;t;){const{closed:e,destination:s,isStopped:i}=t;if(e||i)return!1;t=s&&s instanceof b?s:null}return!0}const w=t("o","function"==typeof Symbol&&Symbol.observable||"@@observable");function x(t){return t}function y(...t){return m(t)}function m(t){return 0===t.length?x:1===t.length?t[0]:function(e){return t.reduce(((t,e)=>e(t)),e)}}class _{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const e=new _;return e.source=this,e.operator=t,e}subscribe(t,e,s){const{operator:r}=this,o=function(t,e,s){if(t){if(t instanceof b)return t;if(t[d])return t[d]()}return t||e||s?new b(t,e,s):new b(n)}(t,e,s);if(r?o.add(r.call(o,this.source)):o.add(this.source||i.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),i.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),f(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=g(e))(((e,s)=>{let i;i=this.subscribe((e=>{try{t(e)}catch(t){s(t),i&&i.unsubscribe()}}),s,e)}))}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[w](){return this}pipe(...t){return 0===t.length?this:m(t)(this)}toPromise(t){return new(t=g(t))(((t,e)=>{let s;this.subscribe((t=>s=t),(t=>e(t)),(()=>t(s)))}))}}function g(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}t("O",_),_.create=t=>new _(t);const S=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})(),v=t("v",S);class T extends l{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const s=e.indexOf(this.subscriber);-1!==s&&e.splice(s,1)}}class E extends b{constructor(t){super(t),this.destination=t}}class N extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new v;if(!this.isStopped){const{observers:e}=this,s=e.length,i=e.slice();for(let e=0;e<s;e++)i[e].next(t)}}error(t){if(this.closed)throw new v;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,s=e.length,i=e.slice();for(let e=0;e<s;e++)i[e].error(t);this.observers.length=0}complete(){if(this.closed)throw new v;this.isStopped=!0;const{observers:t}=this,e=t.length,s=t.slice();for(let t=0;t<e;t++)s[t].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new v;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new v;return this.hasError?(t.error(this.thrownError),l.EMPTY):this.isStopped?(t.complete(),l.EMPTY):(this.observers.push(t),new T(this,t))}asObservable(){const t=new _;return t.source=this,t}}t("b",N),N.create=(t,e)=>new C(t,e);class C extends N{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):l.EMPTY}}function I(){return function(t){return t.lift(new O(t))}}class O{constructor(t){this.connectable=t}call(t,e){const{connectable:s}=this;s._refCount++;const i=new V(t,s),r=e.subscribe(i);return i.closed||(i.connection=s.connect()),r}}class V extends b{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:s}=this,i=t._connection;this.connection=null,!i||s&&i!==s||i.unsubscribe()}}class j extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new l,t.add(this.source.subscribe(new A(this.getSubject(),this))),t.closed&&(this._connection=null,t=l.EMPTY)),t}refCount(){return I()(this)}}t("C",j);const k=(()=>{const t=j.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class A extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class P{constructor(t,e,s,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=s,this.subjectSelector=i}call(t,e){return e.subscribe(new F(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class F extends b{constructor(t,e,s,i,r){super(t),this.keySelector=e,this.elementSelector=s,this.durationSelector=i,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)}_group(t,e){let s=this.groups;s||(s=this.groups=new Map);let i,r=s.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(t){this.error(t)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new N,s.set(e,r);const t=new W(e,r,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new W(e,r))}catch(t){return void this.error(t)}this.add(t.subscribe(new R(e,r,this)))}}r.closed||r.next(i)}_error(t){const e=this.groups;e&&(e.forEach(((e,s)=>{e.error(t)})),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach(((t,e)=>{t.complete()})),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class R extends b{constructor(t,e,s){super(e),this.key=t,this.group=e,this.parent=s}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class W extends _{constructor(t,e,s){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=s}_subscribe(t){const e=new l,{refCountSubscription:s,groupSubject:i}=this;return s&&!s.closed&&e.add(new q(s)),e.add(i.subscribe(t)),e}}t("G",W);class q extends l{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}class D extends N{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new v;return this._value}next(t){super.next(this._value=t)}}t("B",D);class B extends l{constructor(t,e){super()}schedule(t,e=0){return this}}class z extends B{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,s=0){return setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,e,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(t,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(t){i=!0,s=!!t&&t||new Error(t)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,s=e.actions,i=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&s.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class M{constructor(t,e=M.now){this.SchedulerAction=t,this.now=e}schedule(t,e=0,s){return new this.SchedulerAction(this,t).schedule(s,e)}}t("l",M),M.now=()=>Date.now();class H extends M{constructor(t,e=M.now){super(t,(()=>H.delegate&&H.delegate!==this?H.delegate.now():e())),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,s){return H.delegate&&H.delegate!==this?H.delegate.schedule(t,e,s):super.schedule(t,e,s)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let s;this.active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}}}t("A",H);const Y=t("i",new class extends H{}(class extends z{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,s=0){return null!==s&&s>0||null===s&&this.delay>0?super.requestAsyncId(t,e,s):t.flush(this)}})),L=t("q",Y),X=t("a6",new _((t=>t.complete())));function U(t){return t?function(t){return new _((e=>t.schedule((()=>e.complete()))))}(t):X}function G(t){return t&&"function"==typeof t.schedule}const J=t=>e=>{for(let s=0,i=t.length;s<i&&!e.closed;s++)e.next(t[s]);e.complete()};function $(t,e){return new _((s=>{const i=new l;let r=0;return i.add(e.schedule((function(){r!==t.length?(s.next(t[r++]),s.closed||i.add(this.schedule())):s.complete()}))),i}))}function K(t,e){return e?$(t,e):new _(J(t))}function Q(...t){let e=t[t.length-1];return G(e)?(t.pop(),$(t,e)):K(t)}function Z(t,e){return new _(e?s=>e.schedule(tt,0,{error:t,subscriber:s}):e=>e.error(t))}function tt({error:t,subscriber:e}){e.error(t)}var et;t("n",et),function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(et||t("n",et={}));class st{constructor(t,e,s){this.kind=t,this.value=e,this.error=s,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,s){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return s&&s()}}accept(t,e,s){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,s)}toObservable(){switch(this.kind){case"N":return Q(this.value);case"E":return Z(this.error);case"C":return U()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new st("N",t):st.undefinedValueNotification}static createError(t){return new st("E",void 0,t)}static createComplete(){return st.completeNotification}}t("N",st),st.completeNotification=new st("C"),st.undefinedValueNotification=new st("N",void 0);class it{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new rt(t,this.scheduler,this.delay))}}class rt extends b{constructor(t,e,s=0){super(t),this.scheduler=e,this.delay=s}static dispatch(t){const{notification:e,destination:s}=t;e.observe(s),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(rt.dispatch,this.delay,new nt(t,this.destination)))}_next(t){this.scheduleMessage(st.createNext(t))}_error(t){this.scheduleMessage(st.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(st.createComplete()),this.unsubscribe()}}class nt{constructor(t,e){this.notification=t,this.destination=e}}class ot extends N{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new ct(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=s.length;let n;if(this.closed)throw new v;if(this.isStopped||this.hasError?n=l.EMPTY:(this.observers.push(t),n=new T(this,t)),i&&t.add(t=new rt(t,i)),e)for(let e=0;e<r&&!t.closed;e++)t.next(s[e]);else for(let e=0;e<r&&!t.closed;e++)t.next(s[e].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),n}_getNow(){return(this.scheduler||L).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,s=this._windowTime,i=this._events,r=i.length;let n=0;for(;n<r&&!(t-i[n].time<s);)n++;return r>e&&(n=Math.max(n,r-e)),n>0&&i.splice(0,n),i}}t("R",ot);class ct{constructor(t,e){this.time=t,this.value=e}}class ut extends N{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),l.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),l.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}t("d",ut);let ht=1;const lt=Promise.resolve(),at={};function dt(t){return t in at&&(delete at[t],!0)}const bt={setImmediate(t){const e=ht++;return at[e]=!0,lt.then((()=>dt(e)&&t())),e},clearImmediate(t){dt(t)}};const pt=t("f",new class extends H{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,i=-1,r=e.length;t=t||e.shift();do{if(s=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,s){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw s}}}(class extends z{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,s=0){return null!==s&&s>0?super.requestAsyncId(t,e,s):(t.actions.push(this),t.scheduled||(t.scheduled=bt.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(t,e,s);0===t.actions.length&&(bt.clearImmediate(e),t.scheduled=void 0)}})),ft=t("e",pt),wt=t("h",new H(z)),xt=t("g",wt);const yt=t("k",new class extends H{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,i=-1,r=e.length;t=t||e.shift();do{if(s=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,s){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw s}}}(class extends z{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,s=0){return null!==s&&s>0?super.requestAsyncId(t,e,s):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((()=>t.flush(null)))))}recycleAsyncId(t,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(t,e,s);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}));t("j",yt);class mt extends H{constructor(t=_t,e=Number.POSITIVE_INFINITY){super(t,(()=>this.frame)),this.maxFrames=e,this.frame=0,this.index=-1}flush(){const{actions:t,maxFrames:e}=this;let s,i;for(;(i=t[0])&&i.delay<=e&&(t.shift(),this.frame=i.delay,!(s=i.execute(i.state,i.delay))););if(s){for(;i=t.shift();)i.unsubscribe();throw s}}}t("V",mt),mt.frameTimeFactor=10;class _t extends z{constructor(t,e,s=(t.index+=1)){super(t,e),this.scheduler=t,this.work=e,this.index=s,this.active=!0,this.index=t.index=s}schedule(t,e=0){if(!this.id)return super.schedule(t,e);this.active=!1;const s=new _t(this.scheduler,this.work);return this.add(s),s.schedule(t,e)}requestAsyncId(t,e,s=0){this.delay=t.frame+s;const{actions:i}=t;return i.push(this),i.sort(_t.sortActions),!0}recycleAsyncId(t,e,s=0){}_execute(t,e){if(!0===this.active)return super._execute(t,e)}static sortActions(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}function gt(){}t("c",_t);const St=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})(),vt=t("u",St),Tt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Et=t("E",Tt),Nt=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})(),Ct=t("T",Nt);function It(t,e){return function(s){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new Ot(t,e))}}class Ot{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Vt(t,this.project,this.thisArg))}}class Vt extends b{constructor(t,e,s){super(t),this.project=e,this.count=0,this.thisArg=s||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}function jt(t){const{args:e,subscriber:s,params:i}=t,{callbackFunc:r,context:n,scheduler:o}=i;let{subject:c}=i;if(!c){c=i.subject=new ut;const t=(...t)=>{const e=t.length<=1?t[0]:t;this.add(o.schedule(kt,0,{value:e,subject:c}))};try{r.apply(n,[...e,t])}catch(t){c.error(t)}}this.add(c.subscribe(s))}function kt(t){const{value:e,subject:s}=t;s.next(e),s.complete()}function At(t){const{params:e,subscriber:s,context:i}=t,{callbackFunc:r,args:n,scheduler:o}=e;let c=e.subject;if(!c){c=e.subject=new ut;const t=(...t)=>{const e=t.shift();if(e)this.add(o.schedule(Ft,0,{err:e,subject:c}));else{const e=t.length<=1?t[0]:t;this.add(o.schedule(Pt,0,{value:e,subject:c}))}};try{r.apply(i,[...n,t])}catch(t){this.add(o.schedule(Ft,0,{err:t,subject:c}))}}this.add(c.subscribe(s))}function Pt(t){const{value:e,subject:s}=t;s.next(e),s.complete()}function Ft(t){const{err:e,subject:s}=t;s.error(e)}class Rt extends b{notifyNext(t,e,s,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Wt extends b{constructor(t,e,s){super(),this.parent=t,this.outerValue=e,this.outerIndex=s,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const qt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Dt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Bt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const zt=t=>{if(t&&"function"==typeof t[w])return i=t,t=>{const e=i[w]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Dt(t))return J(t);if(Bt(t))return s=t,t=>(s.then((e=>{t.closed||(t.next(e),t.complete())}),(e=>t.error(e))).then(null,r),t);if(t&&"function"==typeof t[qt])return e=t,t=>{const s=e[qt]();for(;;){let e;try{e=s.next()}catch(e){return t.error(e),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof s.return&&t.add((()=>{s.return&&s.return()})),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,s,i};function Mt(t,e,s,i,r=new Wt(t,s,i)){if(!r.closed)return e instanceof _?e.subscribe(r):zt(e)(r)}const Ht={};class Yt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Lt(t,this.resultSelector))}}class Lt extends Rt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ht),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++){const e=t[s];this.add(Mt(this,e,void 0,s))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,s){const i=this.values,r=i[s],n=this.toRespond?r===Ht?--this.toRespond:this.toRespond:0;i[s]=e,0===n&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}function Xt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[w]}(t))return function(t,e){return new _((s=>{const i=new l;return i.add(e.schedule((()=>{const r=t[w]();i.add(r.subscribe({next(t){i.add(e.schedule((()=>s.next(t))))},error(t){i.add(e.schedule((()=>s.error(t))))},complete(){i.add(e.schedule((()=>s.complete())))}}))}))),i}))}(t,e);if(Bt(t))return function(t,e){return new _((s=>{const i=new l;return i.add(e.schedule((()=>t.then((t=>{i.add(e.schedule((()=>{s.next(t),i.add(e.schedule((()=>s.complete())))})))}),(t=>{i.add(e.schedule((()=>s.error(t))))}))))),i}))}(t,e);if(Dt(t))return $(t,e);if(function(t){return t&&"function"==typeof t[qt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _((s=>{const i=new l;let r;return i.add((()=>{r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((()=>{r=t[qt](),i.add(e.schedule((function(){if(s.closed)return;let t,e;try{const s=r.next();t=s.value,e=s.done}catch(t){return void s.error(t)}e?s.complete():(s.next(t),this.schedule())})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Ut(t,e){return e?Xt(t,e):t instanceof _?t:new _(zt(t))}class Gt extends b{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Jt extends b{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function $t(t,e){if(e.closed)return;if(t instanceof _)return t.subscribe(e);let s;try{s=zt(t)(e)}catch(t){e.error(t)}return s}function Kt(t,e,s=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Kt(((s,i)=>Ut(t(s,i)).pipe(It(((t,r)=>e(s,t,i,r))))),s)):("number"==typeof e&&(s=e),e=>e.lift(new Qt(t,s)))}class Qt{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Zt(t,this.project,this.concurrent))}}class Zt extends Jt{constructor(t,e,s=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Gt(this),s=this.destination;s.add(e);const i=$t(t,e);i!==e&&s.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}t("aT",Kt);function te(t=Number.POSITIVE_INFINITY){return Kt(x,t)}function ee(){return te(1)}function se(...t){return ee()(Q(...t))}function ie(t){return new _((e=>{let s;try{s=t()}catch(t){return void e.error(t)}return(s?Ut(s):U()).subscribe(e)}))}function re(t,e){return new _((s=>{const i=t.length;if(0===i)return void s.complete();const r=new Array(i);let n=0,o=0;for(let c=0;c<i;c++){const u=Ut(t[c]);let h=!1;s.add(u.subscribe({next:t=>{h||(h=!0,o++),r[c]=t},error:t=>s.error(t),complete:()=>{n++,n!==i&&h||(o===i&&s.next(e?e.reduce(((t,e,s)=>(t[e]=r[s],t)),{}):r),s.complete())}}))}}))}function ne(t,e,s,i,r){let n;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,s,r),n=()=>i.removeEventListener(e,s,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,s),n=()=>i.off(e,s)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,s),n=()=>i.removeListener(e,s)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let n=0,o=t.length;n<o;n++)ne(t[n],e,s,i,r)}i.add(n)}function oe(t){const{subscriber:e,condition:s}=t;if(e.closed)return;if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(s){let i;try{i=s(t.state)}catch(t){return void e.error(t)}if(!i)return void e.complete();if(e.closed)return}let i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}return e.closed||(e.next(i),e.closed)?void 0:this.schedule(t)}function ce(t){return!o(t)&&t-parseFloat(t)+1>=0}function ue(t){const{subscriber:e,counter:s,period:i}=t;e.next(s),this.schedule({subscriber:e,counter:s+1,period:i},i)}function he(...t){let e=Number.POSITIVE_INFINITY,s=null,i=t[t.length-1];return G(i)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===s&&1===t.length&&t[0]instanceof _?t[0]:te(e)(K(t,s))}const le=t("a7",new _(gt));function ae(t){const{keys:e,index:s,subscriber:i,subscription:r,obj:n}=t;if(!i.closed)if(s<e.length){const t=e[s];i.next([t,n[t]]),r.add(this.schedule({keys:e,index:s+1,subscriber:i,subscription:r,obj:n}))}else i.complete()}function de(t,e){function s(){return!s.pred.apply(s.thisArg,arguments)}return s.pred=t,s.thisArg=e,s}function be(t,e){return function(s){return s.lift(new pe(t,e))}}class pe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new fe(t,this.predicate,this.thisArg))}}class fe extends b{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)}}function we(...t){if(1===t.length){if(!o(t[0]))return t[0];t=t[0]}return K(t,void 0).lift(new xe)}class xe{call(t,e){return e.subscribe(new ye(t))}}class ye extends Rt{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let s=0;s<e&&!this.hasFirst;s++){const e=Mt(this,t[s],void 0,s);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,s){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==s){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function me(t){const{start:e,index:s,count:i,subscriber:r}=t;s>=i?r.complete():(r.next(e),r.closed||(t.index=s+1,t.start=e+1,this.schedule(t)))}function _e(t=0,e,s){let i=-1;return ce(e)?i=Number(e)<1?1:Number(e):G(e)&&(s=e),G(s)||(s=xt),new _((e=>{const r=ce(t)?t:+t-s.now();return s.schedule(ge,r,{index:0,period:i,subscriber:e})}))}function ge(t){const{index:e,period:s,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===s)return i.complete();t.index=e+1,this.schedule(t,s)}}function Se(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),K(t,void 0).lift(new ve(e))}class ve{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Te(t,this.resultSelector))}}class Te extends b{constructor(t,e,s=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;o(t)?e.push(new Ne(t)):"function"==typeof t[qt]?e.push(new Ee(t[qt]())):e.push(new Ce(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let s=0;s<e;s++){let e=t[s];if(e.stillUnsubscribed){this.destination.add(e.subscribe())}else this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,s=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let i=!1;const r=[];for(let n=0;n<e;n++){let e=t[n],o=e.next();if(e.hasCompleted()&&(i=!0),o.done)return void s.complete();r.push(o.value)}this.resultSelector?this._tryresultSelector(r):s.next(r),i&&s.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}class Ee{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Ne{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[qt](){return this}next(t){const e=this.index++,s=this.array;return e<this.length?{value:s[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Ce extends Jt{constructor(t,e,s){super(t),this.parent=e,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[qt](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return $t(this.observable,new Gt(this))}}function Ie(t){return function(e){return e.lift(new Oe(t))}}class Oe{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ve(t,this.durationSelector))}}class Ve extends Jt{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(t){return this.destination.error(t)}const s=$t(e,new Gt(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:t,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}class je{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new ke(t,this.closingNotifier))}}class ke extends Jt{constructor(t,e){super(t),this.buffer=[],this.add($t(e,new Gt(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}class Ae{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?Fe:Pe}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class Pe extends b{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class Fe extends b{constructor(t,e,s){super(t),this.bufferSize=e,this.startBufferEvery=s,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:s,buffers:i,count:r}=this;this.count++,r%s==0&&i.push([]);for(let s=i.length;s--;){const r=i[s];r.push(t),r.length===e&&(i.splice(s,1),this.destination.next(r))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let s=t.shift();s.length>0&&e.next(s)}super._complete()}}class Re{constructor(t,e,s,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=s,this.scheduler=i}call(t,e){return e.subscribe(new qe(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class We{constructor(){this.buffer=[]}}class qe extends b{constructor(t,e,s,i,r){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=s,this.maxBufferSize=i,this.scheduler=r,this.contexts=[];const n=this.openContext();if(this.timespanOnly=null==s||s<0,this.timespanOnly){const t={subscriber:this,context:n,bufferTimeSpan:e};this.add(n.closeAction=r.schedule(De,e,t))}else{const t={subscriber:this,context:n},i={bufferTimeSpan:e,bufferCreationInterval:s,subscriber:this,scheduler:r};this.add(n.closeAction=r.schedule(ze,e,t)),this.add(r.schedule(Be,s,i))}}_next(t){const e=this.contexts,s=e.length;let i;for(let r=0;r<s;r++){const s=e[r],n=s.buffer;n.push(t),n.length==this.maxBufferSize&&(i=s)}i&&this.onBufferFull(i)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const s=t.shift();e.next(s.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const e=this.bufferTimeSpan,s={subscriber:this,context:t,bufferTimeSpan:e};this.add(t.closeAction=this.scheduler.schedule(De,e,s))}}openContext(){const t=new We;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function De(t){const e=t.subscriber,s=t.context;s&&e.closeContext(s),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Be(t){const{bufferCreationInterval:e,bufferTimeSpan:s,subscriber:i,scheduler:r}=t,n=i.openContext(),o=this;i.closed||(i.add(n.closeAction=r.schedule(ze,s,{subscriber:i,context:n})),o.schedule(t,e))}function ze(t){const{subscriber:e,context:s}=t;e.closeContext(s)}class Me{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new He(t,this.openings,this.closingSelector))}}class He extends Rt{constructor(t,e,s){super(t),this.closingSelector=s,this.contexts=[],this.add(Mt(this,e))}_next(t){const e=this.contexts,s=e.length;for(let i=0;i<s;i++)e[i].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const t=e.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:s,subscription:i}=t;this.destination.next(s),e.splice(e.indexOf(t),1),this.remove(i),i.unsubscribe()}}trySubscribe(t){const e=this.contexts,s=new l,i={buffer:[],subscription:s};e.push(i);const r=Mt(this,t,i);!r||r.closed?this.closeBuffer(i):(r.context=i,this.add(r),s.add(r))}}class Ye{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new Le(t,this.closingSelector))}}class Le extends Jt{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let{closingSubscription:t}=this;t&&(this.remove(t),t.unsubscribe());const e=this.buffer;let s;this.buffer&&this.destination.next(e),this.buffer=[];try{const{closingSelector:t}=this;s=t()}catch(t){return this.error(t)}t=new l,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add($t(s,new Gt(this))),this.subscribing=!1}}class Xe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ue(t,this.selector,this.caught))}}class Ue extends Jt{constructor(t,e,s){super(t),this.selector=e,this.caught=s}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const s=new Gt(this);this.add(s);const i=$t(e,s);i!==s&&this.add(i)}}}function Ge(t,e){return Kt(t,e,1)}class Je{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new $e(t,this.predicate,this.source))}}class $e extends b{constructor(t,e,s){super(t),this.predicate=e,this.source=s,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}class Ke{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Qe(t,this.durationSelector))}}class Qe extends Jt{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let s=this.durationSubscription;this.value=t,this.hasValue=!0,s&&(s.unsubscribe(),this.remove(s)),s=$t(e,new Gt(this)),s&&!s.closed&&this.add(this.durationSubscription=s)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}class Ze{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ts(t,this.dueTime,this.scheduler))}}class ts extends b{constructor(t,e,s){super(t),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(es,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function es(t){t.debouncedNext()}function ss(t=null){return e=>e.lift(new is(t))}class is{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new rs(t,this.defaultValue))}}class rs extends b{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ns(t){return t instanceof Date&&!isNaN(+t)}class os{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new cs(t,this.delay,this.scheduler))}}class cs extends b{constructor(t,e,s){super(t),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,s=e.queue,i=t.scheduler,r=t.destination;for(;s.length>0&&s[0].time-i.now()<=0;)s.shift().notification.observe(r);if(s.length>0){const e=Math.max(0,s[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0;this.destination.add(t.schedule(cs.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,s=new us(e.now()+this.delay,t);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(st.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(st.createComplete()),this.unsubscribe()}}class us{constructor(t,e){this.time=t,this.notification=e}}class hs{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new ls(t,this.delayDurationSelector))}}class ls extends Rt{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,s,i,r){this.destination.next(t),this.removeSubscription(r),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const s=this.delayDurationSelector(t,e);s&&this.tryDelay(s,t)}catch(t){this.destination.error(t)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const s=Mt(this,t,e);if(s&&!s.closed){this.destination.add(s),this.delayNotifierSubscriptions.push(s)}}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class as extends _{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new ds(t,this.source))}}class ds extends b{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}class bs{call(t,e){return e.subscribe(new ps(t))}}class ps extends b{constructor(t){super(t)}_next(t){t.observe(this.destination)}}class fs{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new ws(t,this.keySelector,this.flushes))}}class ws extends Jt{constructor(t,e,s){super(t),this.keySelector=e,this.values=new Set,s&&this.add($t(s,new Gt(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:s}=this;try{e=this.keySelector(t)}catch(t){return void s.error(t)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:s}=this;s.has(t)||(s.add(t),this.destination.next(e))}}function xs(t,e){return s=>s.lift(new ys(t,e))}class ys{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ms(t,this.compare,this.keySelector))}}class ms extends b{constructor(t,e,s){super(t),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(t){return this.destination.error(t)}let s=!1;if(this.hasKey)try{const{compare:t}=this;s=t(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;s||(this.key=e,this.destination.next(t))}}function _s(t=vs){return e=>e.lift(new gs(t))}class gs{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ss(t,this.errorFactory))}}class Ss extends b{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function vs(){return new Et}function Ts(t){return e=>0===t?U():e.lift(new Es(t))}class Es{constructor(t){if(this.total=t,this.total<0)throw new vt}call(t,e){return e.subscribe(new Ns(t,this.total))}}class Ns extends b{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,s=++this.count;s<=e&&(this.destination.next(t),s===e&&(this.destination.complete(),this.unsubscribe()))}}class Cs{constructor(t,e,s){this.predicate=t,this.thisArg=e,this.source=s}call(t,e){return e.subscribe(new Is(t,this.predicate,this.thisArg,this.source))}}class Is extends b{constructor(t,e,s,i){super(t),this.predicate=e,this.thisArg=s,this.source=i,this.index=0,this.thisArg=s||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}class Os{call(t,e){return e.subscribe(new Vs(t))}}class Vs extends Jt{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add($t(t,new Gt(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class js{constructor(t){this.project=t}call(t,e){return e.subscribe(new ks(t,this.project))}}class ks extends Jt{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new Gt(this),s=this.destination;s.add(e);const i=$t(t,e);i!==e&&s.add(i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class As{constructor(t,e,s){this.project=t,this.concurrent=e,this.scheduler=s}call(t,e){return e.subscribe(new Ps(t,this.project,this.concurrent,this.scheduler))}}class Ps extends Jt{constructor(t,e,s,i){super(t),this.project=e,this.concurrent=s,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,s<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:s,value:i,index:r}=t;e.subscribeToProjection(s,i,r)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const s=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,i=e(t,s);if(this.scheduler){const e={subscriber:this,result:i,value:t,index:s};this.destination.add(this.scheduler.schedule(Ps.dispatch,0,e))}else this.subscribeToProjection(i,t,s)}catch(t){e.error(t)}}else this.buffer.push(t)}subscribeToProjection(t,e,s){this.active++;this.destination.add($t(t,new Gt(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}class Fs{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Rs(t,this.callback))}}class Rs extends b{constructor(t,e){super(t),this.add(new l(e))}}class Ws{constructor(t,e,s,i){this.predicate=t,this.source=e,this.yieldIndex=s,this.thisArg=i}call(t,e){return e.subscribe(new qs(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class qs extends b{constructor(t,e,s,i,r){super(t),this.predicate=e,this.source=s,this.yieldIndex=i,this.thisArg=r,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:s}=this,i=this.index++;try{e.call(s||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(t){this.destination.error(t)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}class Ds{call(t,e){return e.subscribe(new Bs(t))}}class Bs extends b{_next(t){}}class zs{call(t,e){return e.subscribe(new Ms(t))}}class Ms extends b{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Hs(t){return function(e){return 0===t?U():e.lift(new Ys(t))}}class Ys{constructor(t){if(this.total=t,this.total<0)throw new vt}call(t,e){return e.subscribe(new Ls(t,this.total))}}class Ls extends b{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,s=this.total,i=this.count++;if(e.length<s)e.push(t);else{e[i%s]=t}}_complete(){const t=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<s;r++){const r=e++%s;t.next(i[r])}}t.complete()}}class Xs{constructor(t){this.value=t}call(t,e){return e.subscribe(new Us(t,this.value))}}class Us extends b{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}class Gs{call(t,e){return e.subscribe(new Js(t))}}class Js extends b{constructor(t){super(t)}_next(t){this.destination.next(st.createNext(t))}_error(t){const e=this.destination;e.next(st.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(st.createComplete()),t.complete()}}function $s(t,e){let s=!1;return arguments.length>=2&&(s=!0),function(i){return i.lift(new Ks(t,e,s))}}class Ks{constructor(t,e,s=!1){this.accumulator=t,this.seed=e,this.hasSeed=s}call(t,e){return e.subscribe(new Qs(t,this.accumulator,this.seed,this.hasSeed))}}class Qs extends b{constructor(t,e,s,i){super(t),this.accumulator=e,this._seed=s,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let s;try{s=this.accumulator(this.seed,t,e)}catch(t){this.destination.error(t)}this.seed=s,this.destination.next(s)}}function Zs(t,e){return arguments.length>=2?function(s){return y($s(t,e),Hs(1),ss(e))(s)}:function(e){return y($s(((e,s,i)=>t(e,s,i+1))),Hs(1))(e)}}class ti{constructor(t,e,s){this.accumulator=t,this.seed=e,this.concurrent=s}call(t,e){return e.subscribe(new ei(t,this.accumulator,this.seed,this.concurrent))}}class ei extends Jt{constructor(t,e,s,i){super(t),this.accumulator=e,this.acc=s,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const e=this.index++,s=this.destination;let i;try{const{accumulator:s}=this;i=s(this.acc,t,e)}catch(t){return s.error(t)}this.active++,this._innerSub(i)}else this.buffer.push(t)}_innerSub(t){const e=new Gt(this),s=this.destination;s.add(e);const i=$t(t,e);i!==e&&s.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t){const{destination:e}=this;this.acc=t,this.hasValue=!0,e.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function si(t,e){return function(s){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return s.lift(new ii(i,e));const r=Object.create(s,k);return r.source=s,r.subjectFactory=i,r}}class ii{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:s}=this,i=this.subjectFactory(),r=s(i).subscribe(t);return r.add(e.subscribe(i)),r}}class ri{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new ni(t,this.nextSources))}}class ni extends Jt{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new Gt(this),s=this.destination;s.add(e);const i=$t(t,e);i!==e&&s.add(i)}else this.destination.complete()}}class oi{call(t,e){return e.subscribe(new ci(t))}}class ci extends b{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ui{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new hi(t,this.count,this.source))}}class hi extends b{constructor(t,e,s){super(t),this.count=e,this.source=s}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}class li{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new ai(t,this.notifier,e))}}class ai extends Jt{constructor(t,e,s){super(t),this.notifier=e,this.source=s,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new N;try{const{notifier:e}=this;t=e(this.notifications)}catch(t){return super.complete()}this.retries=t,this.retriesSubscription=$t(t,new Gt(this))}}class di{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new bi(t,this.count,this.source))}}class bi extends b{constructor(t,e,s){super(t),this.count=e,this.source=s}error(t){if(!this.isStopped){const{source:e,count:s}=this;if(0===s)return super.error(t);s>-1&&(this.count=s-1),e.subscribe(this._unsubscribeAndRecycle())}}}class pi{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new fi(t,this.notifier,this.source))}}class fi extends Jt{constructor(t,e,s){super(t),this.notifier=e,this.source=s}error(t){if(!this.isStopped){let e=this.errors,s=this.retries,i=this.retriesSubscription;if(s)this.errors=void 0,this.retriesSubscription=void 0;else{e=new N;try{const{notifier:t}=this;s=t(e)}catch(t){return super.error(t)}i=$t(s,new Gt(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=s,this.retriesSubscription=i,e.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}class wi{constructor(t){this.notifier=t}call(t,e){const s=new xi(t),i=e.subscribe(s);return i.add($t(this.notifier,new Gt(s))),i}}class xi extends Jt{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}class yi{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new mi(t,this.period,this.scheduler))}}class mi extends b{constructor(t,e,s){super(t),this.period=e,this.scheduler=s,this.hasValue=!1,this.add(s.schedule(_i,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function _i(t){let{subscriber:e,period:s}=t;e.notifyNext(),this.schedule(t,s)}class gi{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new Si(t,this.compareTo,this.comparator))}}class Si extends b{constructor(t,e,s){super(t),this.compareTo=e,this.comparator=s,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new vi(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:s}=this;for(;t.length>0&&e.length>0;){let i=t.shift(),r=e.shift(),n=!1;try{n=s?s(i,r):i===r}catch(t){this.destination.error(t)}n||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class vi extends b{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}function Ti(){return new N}class Ei{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new Ni(t,this.predicate,this.source))}}class Ni extends b{constructor(t,e,s){super(t),this.predicate=e,this.source=s,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Et)}}class Ci{constructor(t){this.total=t}call(t,e){return e.subscribe(new Ii(t,this.total))}}class Ii extends b{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class Oi{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new vt}call(t,e){return 0===this._skipCount?e.subscribe(new b(t)):e.subscribe(new Vi(t,this._skipCount))}}class Vi extends b{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,s=this._count++;if(s<e)this._ring[s]=t;else{const i=s%e,r=this._ring,n=r[i];r[i]=t,this.destination.next(n)}}}class ji{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new ki(t,this.notifier))}}class ki extends Jt{constructor(t,e){super(t),this.hasValue=!1;const s=new Gt(this);this.add(s),this.innerSubscription=s;const i=$t(e,s);i!==s&&(this.add(i),this.innerSubscription=i)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}class Ai{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Pi(t,this.predicate))}}class Pi extends b{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}}}class Fi extends _{constructor(t,e=0,s=ft){super(),this.source=t,this.delayTime=e,this.scheduler=s,(!ce(e)||e<0)&&(this.delayTime=0),s&&"function"==typeof s.schedule||(this.scheduler=ft)}static create(t,e=0,s=ft){return new Fi(t,e,s)}static dispatch(t){const{source:e,subscriber:s}=t;return this.add(e.subscribe(s))}_subscribe(t){const e=this.delayTime,s=this.source;return this.scheduler.schedule(Fi.dispatch,e,{source:s,subscriber:t})}}class Ri{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Fi(e,this.delay,this.scheduler).subscribe(t)}}function Wi(t,e){return"function"==typeof e?s=>s.pipe(Wi(((s,i)=>Ut(t(s,i)).pipe(It(((t,r)=>e(s,t,i,r))))))):e=>e.lift(new qi(t))}class qi{constructor(t){this.project=t}call(t,e){return e.subscribe(new Di(t,this.project))}}class Di extends Jt{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(t){return void this.destination.error(t)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const s=new Gt(this),i=this.destination;i.add(s),this.innerSubscription=$t(t,s),this.innerSubscription!==s&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}class Bi{constructor(t){this.notifier=t}call(t,e){const s=new zi(t),i=$t(this.notifier,new Gt(s));return i&&!s.seenValue?(s.add(i),e.subscribe(s)):s}}class zi extends Jt{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class Mi{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Hi(t,this.predicate,this.inclusive))}}class Hi extends b{constructor(t,e,s){super(t),this.predicate=e,this.inclusive=s,this.index=0}_next(t){const e=this.destination;let s;try{s=this.predicate(t,this.index++)}catch(t){return void e.error(t)}this.nextOrComplete(t,s)}nextOrComplete(t,e){const s=this.destination;Boolean(e)?s.next(t):(this.inclusive&&s.next(t),s.complete())}}class Yi{constructor(t,e,s){this.nextOrObserver=t,this.error=e,this.complete=s}call(t,e){return e.subscribe(new Li(t,this.nextOrObserver,this.error,this.complete))}}class Li extends b{constructor(t,s,i,r){super(t),this._tapNext=gt,this._tapError=gt,this._tapComplete=gt,this._tapError=i||gt,this._tapComplete=r||gt,e(s)?(this._context=this,this._tapNext=s):s&&(this._context=s,this._tapNext=s.next||gt,this._tapError=s.error||gt,this._tapComplete=s.complete||gt)}_next(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Xi={leading:!0,trailing:!1};class Ui{constructor(t,e,s){this.durationSelector=t,this.leading=e,this.trailing=s}call(t,e){return e.subscribe(new Gi(t,this.durationSelector,this.leading,this.trailing))}}class Gi extends Jt{constructor(t,e,s,i){super(t),this.destination=t,this.durationSelector=e,this._leading=s,this._trailing=i,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=$t(e,new Gt(this)))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}class Ji{constructor(t,e,s,i){this.duration=t,this.scheduler=e,this.leading=s,this.trailing=i}call(t,e){return e.subscribe(new $i(t,this.duration,this.scheduler,this.leading,this.trailing))}}class $i extends b{constructor(t,e,s,i,r){super(t),this.duration=e,this.scheduler=s,this.leading=i,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ki,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Ki(t){const{subscriber:e}=t;e.clearThrottle()}class Qi{constructor(t,e){this.value=t,this.interval=e}}function Zi(t,e,s=xt){return i=>{let r=ns(t),n=r?+t-s.now():Math.abs(t);return i.lift(new tr(n,r,e,s))}}class tr{constructor(t,e,s,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=s,this.scheduler=i}call(t,e){return e.subscribe(new er(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class er extends Jt{constructor(t,e,s,i,r){super(t),this.absoluteTimeout=e,this.waitFor=s,this.withObservable=i,this.scheduler=r,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add($t(e,new Gt(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(er.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}class sr{constructor(t,e){this.value=t,this.timestamp=e}}function ir(t,e,s){return 0===s?[e]:(t.push(e),t)}class rr{constructor(t){this.windowBoundaries=t}call(t,e){const s=new nr(t),i=e.subscribe(s);return i.closed||s.add($t(this.windowBoundaries,new Gt(s))),i}}class nr extends Jt{constructor(t){super(t),this.window=new N,t.next(this.window)}notifyNext(){this.openWindow()}notifyError(t){this._error(t)}notifyComplete(){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,s=this.window=new N;e.next(s)}}class or{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new cr(t,this.windowSize,this.startWindowEvery))}}class cr extends b{constructor(t,e,s){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=s,this.windows=[new N],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,s=this.destination,i=this.windowSize,r=this.windows,n=r.length;for(let e=0;e<n&&!this.closed;e++)r[e].next(t);const o=this.count-i+1;if(o>=0&&o%e==0&&!this.closed&&r.shift().complete(),++this.count%e==0&&!this.closed){const t=new N;r.push(t),s.next(t)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}class ur{constructor(t,e,s,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=s,this.scheduler=i}call(t,e){return e.subscribe(new lr(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class hr extends N{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class lr extends b{constructor(t,e,s,i,r){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=s,this.maxWindowSize=i,this.scheduler=r,this.windows=[];const n=this.openWindow();if(null!==s&&s>=0){const t={subscriber:this,window:n,context:null},i={windowTimeSpan:e,windowCreationInterval:s,subscriber:this,scheduler:r};this.add(r.schedule(br,e,t)),this.add(r.schedule(dr,s,i))}else{const t={subscriber:this,window:n,windowTimeSpan:e};this.add(r.schedule(ar,e,t))}}_next(t){const e=this.windows,s=e.length;for(let i=0;i<s;i++){const s=e[i];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new hr;this.windows.push(t);return this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function ar(t){const{subscriber:e,windowTimeSpan:s,window:i}=t;i&&e.closeWindow(i),t.window=e.openWindow(),this.schedule(t,s)}function dr(t){const{windowTimeSpan:e,subscriber:s,scheduler:i,windowCreationInterval:r}=t,n=s.openWindow(),o=this;let c={action:o,subscription:null};const u={subscriber:s,window:n,context:c};c.subscription=i.schedule(br,e,u),o.add(c.subscription),o.schedule(t,r)}function br(t){const{subscriber:e,window:s,context:i}=t;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(s)}class pr{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new fr(t,this.openings,this.closingSelector))}}class fr extends Rt{constructor(t,e,s){super(t),this.openings=e,this.closingSelector=s,this.contexts=[],this.add(this.openSubscription=Mt(this,e,e))}_next(t){const{contexts:e}=this;if(e){const s=e.length;for(let i=0;i<s;i++)e[i].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const s=e.length;let i=-1;for(;++i<s;){const s=e[i];s.window.error(t),s.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let s=-1;for(;++s<e;){const e=t[s];e.window.complete(),e.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let s=-1;for(;++s<e;){const e=t[s];e.window.unsubscribe(),e.subscription.unsubscribe()}}}notifyNext(t,e,s,i,r){if(t===this.openings){let t;try{const{closingSelector:s}=this;t=s(e)}catch(t){return this.error(t)}const s=new N,i=new l,r={window:s,subscription:i};this.contexts.push(r);const n=Mt(this,t,r);n.closed?this.closeWindow(this.contexts.length-1):(n.context=r,i.add(n)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,s=e[t],{window:i,subscription:r}=s;e.splice(t,1),i.complete(),r.unsubscribe()}}class wr{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new xr(t,this.closingSelector))}}class xr extends Rt{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,s,i,r){this.openWindow(r)}notifyError(t){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const s=this.window=new N;let i;this.destination.next(s);try{const{closingSelector:t}=this;i=t()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=Mt(this,i))}}class yr{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new mr(t,this.observables,this.project))}}class mr extends Rt{constructor(t,e,s){super(t),this.observables=e,this.project=s,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let t=0;t<i;t++)this.toRespond.push(t);for(let t=0;t<i;t++){let s=e[t];this.add(Mt(this,s,void 0,t))}}notifyNext(t,e,s){this.values[s]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(s);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}const _r="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sr="undefined"!=typeof global&&global,vr=_r||Sr||gr;function Tr(t,e=null){return new jr({method:"GET",url:t,headers:e})}function Er(t,e,s){return new jr({method:"POST",url:t,body:e,headers:s})}function Nr(t,e){return new jr({method:"DELETE",url:t,headers:e})}function Cr(t,e,s){return new jr({method:"PUT",url:t,body:e,headers:s})}function Ir(t,e,s){return new jr({method:"PATCH",url:t,body:e,headers:s})}!function(){if(!vr)throw new Error("RxJS could not find any global context (window, self, global)")}();const Or=It(((t,e)=>t.response));function Vr(t,e){return Or(new jr({method:"GET",url:t,responseType:"json",headers:e}))}class jr extends _{constructor(t){super();const e={async:!0,createXHR:function(){return this.crossDomain?function(){if(vr.XMLHttpRequest)return new vr.XMLHttpRequest;if(vr.XDomainRequest)return new vr.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(vr.XMLHttpRequest)return new vr.XMLHttpRequest;{let t;try{const e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(let s=0;s<3;s++)try{if(t=e[s],new vr.ActiveXObject(t))break}catch(t){}return new vr.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)e.url=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);this.request=e}_subscribe(t){return new kr(t,this.request)}}jr.create=(()=>{const t=t=>new jr(t);return t.get=Tr,t.post=Er,t.delete=Nr,t.put=Cr,t.patch=Ir,t.getJSON=Vr,t})();class kr extends b{constructor(t,e){super(t),this.request=e,this.done=!1;const s=e.headers=e.headers||{};e.crossDomain||this.getHeader(s,"X-Requested-With")||(s["X-Requested-With"]="XMLHttpRequest"),this.getHeader(s,"Content-Type")||vr.FormData&&e.body instanceof vr.FormData||void 0===e.body||(s["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),e.body=this.serializeBody(e.body,this.getHeader(e.headers,"Content-Type")),this.send()}next(t){this.done=!0;const{xhr:e,request:s,destination:i}=this;let r;try{r=new Ar(t,e,s)}catch(t){return i.error(t)}i.next(r)}send(){const{request:t,request:{user:e,method:s,url:i,async:r,password:n,headers:o,body:c}}=this;try{const u=this.xhr=t.createXHR();this.setupEvents(u,t),e?u.open(s,i,r,e,n):u.open(s,i,r),r&&(u.timeout=t.timeout,u.responseType=t.responseType),"withCredentials"in u&&(u.withCredentials=!!t.withCredentials),this.setHeaders(u,o),c?u.send(c):u.send()}catch(t){this.error(t)}}serializeBody(t,e){if(!t||"string"==typeof t)return t;if(vr.FormData&&t instanceof vr.FormData)return t;if(e){const t=e.indexOf(";");-1!==t&&(e=e.substring(0,t))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&");case"application/json":return JSON.stringify(t);default:return t}}setHeaders(t,e){for(let s in e)e.hasOwnProperty(s)&&t.setRequestHeader(s,e[s])}getHeader(t,e){for(let s in t)if(s.toLowerCase()===e.toLowerCase())return t[s]}setupEvents(t,e){const s=e.progressSubscriber;function i(t){const{subscriber:e,progressSubscriber:s,request:r}=i;let n;s&&s.error(t);try{n=new Wr(this,r)}catch(t){n=t}e.error(n)}if(t.ontimeout=i,i.request=e,i.subscriber=this,i.progressSubscriber=s,t.upload&&"withCredentials"in t){if(s){let e;e=function(t){const{progressSubscriber:s}=e;s.next(t)},vr.XDomainRequest?t.onprogress=e:t.upload.onprogress=e,e.progressSubscriber=s}let i;i=function(t){const{progressSubscriber:e,subscriber:s,request:r}=i;let n;e&&e.error(t);try{n=new Fr("ajax error",this,r)}catch(t){n=t}s.error(n)},t.onerror=i,i.request=e,i.subscriber=this,i.progressSubscriber=s}function r(t){}function n(t){const{subscriber:e,progressSubscriber:s,request:i}=n;if(4===this.readyState){let r=1223===this.status?204:this.status,n="text"===this.responseType?this.response||this.responseText:this.response;if(0===r&&(r=n?200:0),r<400)s&&s.complete(),e.next(t),e.complete();else{let n;s&&s.error(t);try{n=new Fr("ajax error "+r,this,i)}catch(t){n=t}e.error(n)}}}t.onreadystatechange=r,r.subscriber=this,r.progressSubscriber=s,r.request=e,t.onload=n,n.subscriber=this,n.progressSubscriber=s,n.request=e}unsubscribe(){const{done:t,xhr:e}=this;!t&&e&&4!==e.readyState&&"function"==typeof e.abort&&e.abort(),super.unsubscribe()}}class Ar{constructor(t,e,s){this.originalEvent=t,this.xhr=e,this.request=s,this.status=e.status,this.responseType=e.responseType||s.responseType,this.response=Rr(this.responseType,e)}}t("bO",Ar);const Pr=(()=>{function t(t,e,s){return Error.call(this),this.message=t,this.name="AjaxError",this.xhr=e,this.request=s,this.status=e.status,this.responseType=e.responseType||s.responseType,this.response=Rr(this.responseType,e),this}return t.prototype=Object.create(Error.prototype),t})(),Fr=t("bP",Pr);function Rr(t,e){switch(t){case"json":return function(t){return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null")}(e);case"xml":return e.responseXML;default:return"response"in e?e.response:e.responseText}}const Wr=t("bQ",(function(t,e){return Fr.call(this,"ajax timeout",t,e),this.name="AjaxTimeoutError",this}));t("bN",jr.create);const qr={url:"",deserializer:t=>JSON.parse(t.data),serializer:t=>JSON.stringify(t)};class Dr extends C{constructor(t,e){if(super(),t instanceof _)this.destination=e,this.source=t;else{const e=this._config=Object.assign({},qr);if(this._output=new N,"string"==typeof t)e.url=t;else for(let s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);if(!e.WebSocketCtor&&WebSocket)e.WebSocketCtor=WebSocket;else if(!e.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new ot}}lift(t){const e=new Dr(this._config,this.destination);return e.operator=t,e.source=this,e}_resetState(){this._socket=null,this.source||(this.destination=new ot),this._output=new N}multiplex(t,e,s){const i=this;return new _((r=>{try{i.next(t())}catch(t){r.error(t)}const n=i.subscribe((t=>{try{s(t)&&r.next(t)}catch(t){r.error(t)}}),(t=>r.error(t)),(()=>r.complete()));return()=>{try{i.next(e())}catch(t){r.error(t)}n.unsubscribe()}}))}_connectSocket(){const{WebSocketCtor:t,protocol:e,url:s,binaryType:i}=this._config,r=this._output;let n=null;try{n=e?new t(s,e):new t(s),this._socket=n,i&&(this._socket.binaryType=i)}catch(t){return void r.error(t)}const o=new l((()=>{this._socket=null,n&&1===n.readyState&&n.close()}));n.onopen=t=>{const{_socket:e}=this;if(!e)return n.close(),void this._resetState();const{openObserver:s}=this._config;s&&s.next(t);const i=this.destination;this.destination=b.create((t=>{if(1===n.readyState)try{const{serializer:e}=this._config;n.send(e(t))}catch(t){this.destination.error(t)}}),(t=>{const{closingObserver:e}=this._config;e&&e.next(void 0),t&&t.code?n.close(t.code,t.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()}),(()=>{const{closingObserver:t}=this._config;t&&t.next(void 0),n.close(),this._resetState()})),i&&i instanceof ot&&o.add(i.subscribe(this.destination))},n.onerror=t=>{this._resetState(),r.error(t)},n.onclose=t=>{this._resetState();const{closeObserver:e}=this._config;e&&e.next(t),t.wasClean?r.complete():r.error(t)},n.onmessage=t=>{try{const{deserializer:e}=this._config;r.next(e(t))}catch(t){r.error(t)}}}_subscribe(t){const{source:e}=this;return e?e.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add((()=>{const{_socket:t}=this;0===this._output.observers.length&&(t&&1===t.readyState&&t.close(),this._resetState())})),t)}unsubscribe(){const{_socket:t}=this;t&&1===t.readyState&&t.close(),this._resetState(),super.unsubscribe()}}t("bT",Dr)}}}));
